const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ScenarioEditor-w9rw-Yrf.js","assets/style-B2i4GXyF.js","assets/style-BZV40eAE.css","assets/StateTransitionViewer-BhvbUP-L.js"])))=>i.map(i=>d[i]);
var m1=Object.defineProperty;var g1=(e,t,n)=>t in e?m1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>g1(e,typeof t!="symbol"?t+"":t,n);function v1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ng(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Rg={exports:{}},cl={},Mg={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ps=Symbol.for("react.element"),y1=Symbol.for("react.portal"),x1=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),S1=Symbol.for("react.provider"),C1=Symbol.for("react.context"),E1=Symbol.for("react.forward_ref"),k1=Symbol.for("react.suspense"),_1=Symbol.for("react.memo"),N1=Symbol.for("react.lazy"),$h=Symbol.iterator;function R1(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var Tg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ag=Object.assign,jg={};function Zo(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||Tg}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pg(){}Pg.prototype=Zo.prototype;function ef(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||Tg}var tf=ef.prototype=new Pg;tf.constructor=ef;Ag(tf,Zo.prototype);tf.isPureReactComponent=!0;var Fh=Array.isArray,Ig=Object.prototype.hasOwnProperty,nf={current:null},Og={key:!0,ref:!0,__self:!0,__source:!0};function Lg(e,t,n){var r,o={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)Ig.call(t,r)&&!Og.hasOwnProperty(r)&&(o[r]=t[r]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)o[r]===void 0&&(o[r]=i[r]);return{$$typeof:ps,type:e,key:a,ref:s,props:o,_owner:nf.current}}function M1(e,t){return{$$typeof:ps,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ps}function T1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vh=/\/+/g;function pc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?T1(""+e.key):t.toString(36)}function ai(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ps:case y1:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+pc(s,0):r,Fh(o)?(n="",e!=null&&(n=e.replace(Vh,"$&/")+"/"),ai(o,t,n,"",function(c){return c})):o!=null&&(rf(o)&&(o=M1(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Vh,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Fh(e))for(var i=0;i<e.length;i++){a=e[i];var l=r+pc(a,i);s+=ai(a,t,n,l,o)}else if(l=R1(e),typeof l=="function")for(e=l.call(e),i=0;!(a=e.next()).done;)a=a.value,l=r+pc(a,i++),s+=ai(a,t,n,l,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ns(e,t,n){if(e==null)return e;var r=[],o=0;return ai(e,r,"","",function(a){return t.call(n,a,o++)}),r}function A1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xt={current:null},si={transition:null},j1={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:si,ReactCurrentOwner:nf};function Dg(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Ns,forEach:function(e,t,n){Ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ns(e,function(){t++}),t},toArray:function(e){return Ns(e,function(t){return t})||[]},only:function(e){if(!rf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Zo;xe.Fragment=x1;xe.Profiler=w1;xe.PureComponent=ef;xe.StrictMode=b1;xe.Suspense=k1;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j1;xe.act=Dg;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ag({},e.props),o=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=nf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Ig.call(t,l)&&!Og.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){i=Array(l);for(var c=0;c<l;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:ps,type:e.type,key:o,ref:a,props:r,_owner:s}};xe.createContext=function(e){return e={$$typeof:C1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:S1,_context:e},e.Consumer=e};xe.createElement=Lg;xe.createFactory=function(e){var t=Lg.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:E1,render:e}};xe.isValidElement=rf;xe.lazy=function(e){return{$$typeof:N1,_payload:{_status:-1,_result:e},_init:A1}};xe.memo=function(e,t){return{$$typeof:_1,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}};xe.unstable_act=Dg;xe.useCallback=function(e,t){return xt.current.useCallback(e,t)};xe.useContext=function(e){return xt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return xt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return xt.current.useEffect(e,t)};xe.useId=function(){return xt.current.useId()};xe.useImperativeHandle=function(e,t,n){return xt.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return xt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return xt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return xt.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return xt.current.useReducer(e,t,n)};xe.useRef=function(e){return xt.current.useRef(e)};xe.useState=function(e){return xt.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return xt.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return xt.current.useTransition()};xe.version="18.3.1";Mg.exports=xe;var p=Mg.exports;const Ut=Qd(p),of=v1({__proto__:null,default:Ut},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=p,I1=Symbol.for("react.element"),O1=Symbol.for("react.fragment"),L1=Object.prototype.hasOwnProperty,D1=P1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$1={key:!0,ref:!0,__self:!0,__source:!0};function $g(e,t,n){var r,o={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)L1.call(t,r)&&!$1.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:I1,type:e,key:a,ref:s,props:o,_owner:D1.current}}cl.Fragment=O1;cl.jsx=$g;cl.jsxs=$g;Rg.exports=cl;var u=Rg.exports,bu={},Fg={exports:{}},$t={},Vg={exports:{}},zg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(y,C){var N=y.length;y.push(C);e:for(;0<N;){var T=N-1>>>1,j=y[T];if(0<o(j,C))y[T]=C,y[N]=j,N=T;else break e}}function n(y){return y.length===0?null:y[0]}function r(y){if(y.length===0)return null;var C=y[0],N=y.pop();if(N!==C){y[0]=N;e:for(var T=0,j=y.length,F=j>>>1;T<F;){var U=2*(T+1)-1,J=y[U],G=U+1,P=y[G];if(0>o(J,N))G<j&&0>o(P,J)?(y[T]=P,y[G]=N,T=G):(y[T]=J,y[U]=N,T=U);else if(G<j&&0>o(P,N))y[T]=P,y[G]=N,T=G;else break e}}return C}function o(y,C){var N=y.sortIndex-C.sortIndex;return N!==0?N:y.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var l=[],c=[],d=1,f=null,h=3,m=!1,b=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(y){for(var C=n(c);C!==null;){if(C.callback===null)r(c);else if(C.startTime<=y)r(c),C.sortIndex=C.expirationTime,t(l,C);else break;C=n(c)}}function E(y){if(w=!1,x(y),!b)if(n(l)!==null)b=!0,X(M);else{var C=n(c);C!==null&&Z(E,C.startTime-y)}}function M(y,C){b=!1,w&&(w=!1,v(R),R=-1),m=!0;var N=h;try{for(x(C),f=n(l);f!==null&&(!(f.expirationTime>C)||y&&!W());){var T=f.callback;if(typeof T=="function"){f.callback=null,h=f.priorityLevel;var j=T(f.expirationTime<=C);C=e.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),x(C)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var U=n(c);U!==null&&Z(E,U.startTime-C),F=!1}return F}finally{f=null,h=N,m=!1}}var I=!1,_=null,R=-1,$=5,D=-1;function W(){return!(e.unstable_now()-D<$)}function K(){if(_!==null){var y=e.unstable_now();D=y;var C=!0;try{C=_(!0,y)}finally{C?V():(I=!1,_=null)}}else I=!1}var V;if(typeof g=="function")V=function(){g(K)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,q=A.port2;A.port1.onmessage=K,V=function(){q.postMessage(null)}}else V=function(){S(K,0)};function X(y){_=y,I||(I=!0,V())}function Z(y,C){R=S(function(){y(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(y){y.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,X(M))},e.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<y?Math.floor(1e3/y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(y){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var N=h;h=C;try{return y()}finally{h=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(y,C){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var N=h;h=y;try{return C()}finally{h=N}},e.unstable_scheduleCallback=function(y,C,N){var T=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?T+N:T):N=T,y){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=N+j,y={id:d++,callback:C,priorityLevel:y,startTime:N,expirationTime:j,sortIndex:-1},N>T?(y.sortIndex=N,t(c,y),n(l)===null&&y===n(c)&&(w?(v(R),R=-1):w=!0,Z(E,N-T))):(y.sortIndex=j,t(l,y),b||m||(b=!0,X(M))),y},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(y){var C=h;return function(){var N=h;h=C;try{return y.apply(this,arguments)}finally{h=N}}}})(zg);Vg.exports=zg;var F1=Vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=p,Dt=F1;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ug=new Set,Ua={};function eo(e,t){Vo(e,t),Vo(e+"Capture",t)}function Vo(e,t){for(Ua[e]=t,e=0;e<t.length;e++)Ug.add(t[e])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=Object.prototype.hasOwnProperty,z1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zh={},Uh={};function U1(e){return wu.call(Uh,e)?!0:wu.call(zh,e)?!1:z1.test(e)?Uh[e]=!0:(zh[e]=!0,!1)}function B1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W1(e,t,n,r){if(t===null||typeof t>"u"||B1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,o,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var af=/[\-:]([a-z])/g;function sf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(af,sf);tt[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(af,sf);tt[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(af,sf);tt[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function lf(e,t,n,r){var o=tt.hasOwnProperty(t)?tt[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W1(t,n,o,r)&&(n=null),r||o===null?U1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vn=V1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),cf=Symbol.for("react.strict_mode"),Su=Symbol.for("react.profiler"),Bg=Symbol.for("react.provider"),Wg=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),df=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),Hg=Symbol.for("react.offscreen"),Bh=Symbol.iterator;function da(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Object.assign,mc;function Ea(e){if(mc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mc=t&&t[1]||""}return`
`+mc+e}var gc=!1;function vc(e,t){if(!e||gc)return"";gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),a=r.stack.split(`
`),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==a[i]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=i);break}}}finally{gc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ea(e):""}function H1(e){switch(e.tag){case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 2:case 15:return e=vc(e.type,!1),e;case 11:return e=vc(e.type.render,!1),e;case 1:return e=vc(e.type,!0),e;default:return""}}function ku(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yo:return"Fragment";case vo:return"Portal";case Su:return"Profiler";case cf:return"StrictMode";case Cu:return"Suspense";case Eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wg:return(e.displayName||"Context")+".Consumer";case Bg:return(e._context.displayName||"Context")+".Provider";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case df:return t=e.displayName||null,t!==null?t:ku(e.type)||"Memo";case Zn:t=e._payload,e=e._init;try{return ku(e(t))}catch{}}return null}function G1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ku(t);case 8:return t===cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q1(e){var t=Gg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=q1(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _u(e,t){var n=t.checked;return $e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kg(e,t){t=t.checked,t!=null&&lf(e,"checked",t,!1)}function Nu(e,t){Kg(e,t);var n=gr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ru(e,t.type,gr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ru(e,t,n){(t!=="number"||Si(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ka=Array.isArray;function Mo(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return $e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(ka(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gr(n)}}function Jg(e,t){var n=gr(t.value),r=gr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ts,Xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ts=Ts||document.createElement("div"),Ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K1=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(e){K1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pa[t]=Pa[e]})});function Yg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Pa.hasOwnProperty(e)&&Pa[e]?(""+t).trim():t+"px"}function Qg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Yg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var J1=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(e,t){if(t){if(J1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ju(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function ff(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Iu=null,To=null,Ao=null;function Kh(e){if(e=vs(e)){if(typeof Iu!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=pl(t),Iu(e.stateNode,e.type,t))}}function ev(e){To?Ao?Ao.push(e):Ao=[e]:To=e}function tv(){if(To){var e=To,t=Ao;if(Ao=To=null,Kh(e),t)for(e=0;e<t.length;e++)Kh(t[e])}}function nv(e,t){return e(t)}function rv(){}var yc=!1;function ov(e,t,n){if(yc)return e(t,n);yc=!0;try{return nv(e,t,n)}finally{yc=!1,(To!==null||Ao!==null)&&(rv(),tv())}}function Wa(e,t){var n=e.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var Ou=!1;if(In)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Ou=!1}function Z1(e,t,n,r,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ia=!1,Ci=null,Ei=!1,Lu=null,X1={onError:function(e){Ia=!0,Ci=e}};function Y1(e,t,n,r,o,a,s,i,l){Ia=!1,Ci=null,Z1.apply(X1,arguments)}function Q1(e,t,n,r,o,a,s,i,l){if(Y1.apply(this,arguments),Ia){if(Ia){var c=Ci;Ia=!1,Ci=null}else throw Error(Q(198));Ei||(Ei=!0,Lu=c)}}function to(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function av(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jh(e){if(to(e)!==e)throw Error(Q(188))}function eC(e){var t=e.alternate;if(!t){if(t=to(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Jh(o),e;if(a===r)return Jh(o),t;a=a.sibling}throw Error(Q(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s){for(i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function sv(e){return e=eC(e),e!==null?iv(e):null}function iv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iv(e);if(t!==null)return t;e=e.sibling}return null}var lv=Dt.unstable_scheduleCallback,Zh=Dt.unstable_cancelCallback,tC=Dt.unstable_shouldYield,nC=Dt.unstable_requestPaint,Ve=Dt.unstable_now,rC=Dt.unstable_getCurrentPriorityLevel,hf=Dt.unstable_ImmediatePriority,cv=Dt.unstable_UserBlockingPriority,ki=Dt.unstable_NormalPriority,oC=Dt.unstable_LowPriority,uv=Dt.unstable_IdlePriority,ul=null,vn=null;function aC(e){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:lC,sC=Math.log,iC=Math.LN2;function lC(e){return e>>>=0,e===0?32:31-(sC(e)/iC|0)|0}var As=64,js=4194304;function _a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _i(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~o;i!==0?r=_a(i):(a&=s,a!==0&&(r=_a(a)))}else s=n&~o,s!==0?r=_a(s):a!==0&&(r=_a(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-on(t),o=1<<n,r|=e[n],t&=~o;return r}function cC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-on(a),i=1<<s,l=o[s];l===-1?(!(i&n)||i&r)&&(o[s]=cC(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}function Du(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dv(){var e=As;return As<<=1,!(As&4194240)&&(As=64),e}function xc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ms(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=n}function dC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-on(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function pf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ne=0;function fv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hv,mf,pv,mv,gv,$u=!1,Ps=[],sr=null,ir=null,lr=null,Ha=new Map,Ga=new Map,Yn=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(e,t){switch(e){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(t.pointerId)}}function ha(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=vs(t),t!==null&&mf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hC(e,t,n,r,o){switch(t){case"focusin":return sr=ha(sr,e,t,n,r,o),!0;case"dragenter":return ir=ha(ir,e,t,n,r,o),!0;case"mouseover":return lr=ha(lr,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Ha.set(a,ha(Ha.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Ga.set(a,ha(Ga.get(a)||null,e,t,n,r,o)),!0}return!1}function vv(e){var t=Ir(e.target);if(t!==null){var n=to(t);if(n!==null){if(t=n.tag,t===13){if(t=av(n),t!==null){e.blockedOn=t,gv(e.priority,function(){pv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pu=r,n.target.dispatchEvent(r),Pu=null}else return t=vs(n),t!==null&&mf(t),e.blockedOn=n,!1;t.shift()}return!0}function Yh(e,t,n){ii(e)&&n.delete(t)}function pC(){$u=!1,sr!==null&&ii(sr)&&(sr=null),ir!==null&&ii(ir)&&(ir=null),lr!==null&&ii(lr)&&(lr=null),Ha.forEach(Yh),Ga.forEach(Yh)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,pC)))}function qa(e){function t(o){return pa(o,e)}if(0<Ps.length){pa(Ps[0],e);for(var n=1;n<Ps.length;n++){var r=Ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sr!==null&&pa(sr,e),ir!==null&&pa(ir,e),lr!==null&&pa(lr,e),Ha.forEach(t),Ga.forEach(t),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)vv(n),n.blockedOn===null&&Yn.shift()}var jo=Vn.ReactCurrentBatchConfig,Ni=!0;function mC(e,t,n,r){var o=Ne,a=jo.transition;jo.transition=null;try{Ne=1,gf(e,t,n,r)}finally{Ne=o,jo.transition=a}}function gC(e,t,n,r){var o=Ne,a=jo.transition;jo.transition=null;try{Ne=4,gf(e,t,n,r)}finally{Ne=o,jo.transition=a}}function gf(e,t,n,r){if(Ni){var o=Fu(e,t,n,r);if(o===null)Mc(e,t,r,Ri,n),Xh(e,r);else if(hC(o,e,t,n,r))r.stopPropagation();else if(Xh(e,r),t&4&&-1<fC.indexOf(e)){for(;o!==null;){var a=vs(o);if(a!==null&&hv(a),a=Fu(e,t,n,r),a===null&&Mc(e,t,r,Ri,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Mc(e,t,r,null,n)}}var Ri=null;function Fu(e,t,n,r){if(Ri=null,e=ff(r),e=Ir(e),e!==null)if(t=to(e),t===null)e=null;else if(n=t.tag,n===13){if(e=av(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ri=e,null}function yv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case hf:return 1;case cv:return 4;case ki:case oC:return 16;case uv:return 536870912;default:return 16}default:return 16}}var er=null,vf=null,li=null;function xv(){if(li)return li;var e,t=vf,n=t.length,r,o="value"in er?er.value:er.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[a-r];r++);return li=o.slice(e,1<r?1-r:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Qh(){return!1}function Ft(e){function t(n,r,o,a,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Is:Qh,this.isPropagationStopped=Qh,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=Ft(Xo),gs=$e({},Xo,{view:0,detail:0}),vC=Ft(gs),bc,wc,ma,dl=$e({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(bc=e.screenX-ma.screenX,wc=e.screenY-ma.screenY):wc=bc=0,ma=e),bc)},movementY:function(e){return"movementY"in e?e.movementY:wc}}),ep=Ft(dl),yC=$e({},dl,{dataTransfer:0}),xC=Ft(yC),bC=$e({},gs,{relatedTarget:0}),Sc=Ft(bC),wC=$e({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),SC=Ft(wC),CC=$e({},Xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EC=Ft(CC),kC=$e({},Xo,{data:0}),tp=Ft(kC),_C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RC[e])?!!t[e]:!1}function xf(){return MC}var TC=$e({},gs,{key:function(e){if(e.key){var t=_C[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AC=Ft(TC),jC=$e({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Ft(jC),PC=$e({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),IC=Ft(PC),OC=$e({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),LC=Ft(OC),DC=$e({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=Ft(DC),FC=[9,13,27,32],bf=In&&"CompositionEvent"in window,Oa=null;In&&"documentMode"in document&&(Oa=document.documentMode);var VC=In&&"TextEvent"in window&&!Oa,bv=In&&(!bf||Oa&&8<Oa&&11>=Oa),rp=" ",op=!1;function wv(e,t){switch(e){case"keyup":return FC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xo=!1;function zC(e,t){switch(e){case"compositionend":return Sv(t);case"keypress":return t.which!==32?null:(op=!0,rp);case"textInput":return e=t.data,e===rp&&op?null:e;default:return null}}function UC(e,t){if(xo)return e==="compositionend"||!bf&&wv(e,t)?(e=xv(),li=vf=er=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bv&&t.locale!=="ko"?null:t.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BC[e.type]:t==="textarea"}function Cv(e,t,n,r){ev(r),t=Mi(t,"onChange"),0<t.length&&(n=new yf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var La=null,Ka=null;function WC(e){Iv(e,0)}function fl(e){var t=So(e);if(qg(t))return e}function HC(e,t){if(e==="change")return t}var Ev=!1;if(In){var Cc;if(In){var Ec="oninput"in document;if(!Ec){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),Ec=typeof sp.oninput=="function"}Cc=Ec}else Cc=!1;Ev=Cc&&(!document.documentMode||9<document.documentMode)}function ip(){La&&(La.detachEvent("onpropertychange",kv),Ka=La=null)}function kv(e){if(e.propertyName==="value"&&fl(Ka)){var t=[];Cv(t,Ka,e,ff(e)),ov(WC,t)}}function GC(e,t,n){e==="focusin"?(ip(),La=t,Ka=n,La.attachEvent("onpropertychange",kv)):e==="focusout"&&ip()}function qC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Ka)}function KC(e,t){if(e==="click")return fl(t)}function JC(e,t){if(e==="input"||e==="change")return fl(t)}function ZC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sn=typeof Object.is=="function"?Object.is:ZC;function Ja(e,t){if(sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!wu.call(t,o)||!sn(e[o],t[o]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var n=lp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lp(n)}}function _v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nv(){for(var e=window,t=Si();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Si(e.document)}return t}function wf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XC(e){var t=Nv(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_v(n.ownerDocument.documentElement,n)){if(r!==null&&wf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cp(n,a);var s=cp(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YC=In&&"documentMode"in document&&11>=document.documentMode,bo=null,Vu=null,Da=null,zu=!1;function up(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||bo==null||bo!==Si(r)||(r=bo,"selectionStart"in r&&wf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Ja(Da,r)||(Da=r,r=Mi(Vu,"onSelect"),0<r.length&&(t=new yf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bo)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wo={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},kc={},Rv={};In&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function hl(e){if(kc[e])return kc[e];if(!wo[e])return e;var t=wo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rv)return kc[e]=t[n];return e}var Mv=hl("animationend"),Tv=hl("animationiteration"),Av=hl("animationstart"),jv=hl("transitionend"),Pv=new Map,dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){Pv.set(e,t),eo(t,[e])}for(var _c=0;_c<dp.length;_c++){var Nc=dp[_c],QC=Nc.toLowerCase(),eE=Nc[0].toUpperCase()+Nc.slice(1);wr(QC,"on"+eE)}wr(Mv,"onAnimationEnd");wr(Tv,"onAnimationIteration");wr(Av,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(jv,"onTransitionEnd");Vo("onMouseEnter",["mouseout","mouseover"]);Vo("onMouseLeave",["mouseout","mouseover"]);Vo("onPointerEnter",["pointerout","pointerover"]);Vo("onPointerLeave",["pointerout","pointerover"]);eo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eo("onBeforeInput",["compositionend","keypress","textInput","paste"]);eo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function fp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Q1(r,t,void 0,e),e.currentTarget=null}function Iv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;fp(o,i,c),a=l}else for(s=0;s<r.length;s++){if(i=r[s],l=i.instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;fp(o,i,c),a=l}}}if(Ei)throw e=Lu,Ei=!1,Lu=null,e}function je(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var r=e+"__bubble";n.has(r)||(Ov(t,e,2,!1),n.add(r))}function Rc(e,t,n){var r=0;t&&(r|=4),Ov(n,e,r,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[Ls]){e[Ls]=!0,Ug.forEach(function(n){n!=="selectionchange"&&(tE.has(n)||Rc(n,!1,e),Rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,Rc("selectionchange",!1,t))}}function Ov(e,t,n,r){switch(yv(t)){case 1:var o=mC;break;case 4:o=gC;break;default:o=gf}n=o.bind(null,t,n,e),o=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Mc(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===o||i.nodeType===8&&i.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;i!==null;){if(s=Ir(i),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}i=i.parentNode}}r=r.return}ov(function(){var c=a,d=ff(n),f=[];e:{var h=Pv.get(e);if(h!==void 0){var m=yf,b=e;switch(e){case"keypress":if(ci(n)===0)break e;case"keydown":case"keyup":m=AC;break;case"focusin":b="focus",m=Sc;break;case"focusout":b="blur",m=Sc;break;case"beforeblur":case"afterblur":m=Sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=IC;break;case Mv:case Tv:case Av:m=SC;break;case jv:m=LC;break;case"scroll":m=vC;break;case"wheel":m=$C;break;case"copy":case"cut":case"paste":m=EC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=np}var w=(t&4)!==0,S=!w&&e==="scroll",v=w?h!==null?h+"Capture":null:h;w=[];for(var g=c,x;g!==null;){x=g;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,v!==null&&(E=Wa(g,v),E!=null&&w.push(Xa(g,E,x)))),S)break;g=g.return}0<w.length&&(h=new m(h,b,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Pu&&(b=n.relatedTarget||n.fromElement)&&(Ir(b)||b[On]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=c,b=b?Ir(b):null,b!==null&&(S=to(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=c),m!==b)){if(w=ep,E="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=np,E="onPointerLeave",v="onPointerEnter",g="pointer"),S=m==null?h:So(m),x=b==null?h:So(b),h=new w(E,g+"leave",m,n,d),h.target=S,h.relatedTarget=x,E=null,Ir(d)===c&&(w=new w(v,g+"enter",b,n,d),w.target=x,w.relatedTarget=S,E=w),S=E,m&&b)t:{for(w=m,v=b,g=0,x=w;x;x=io(x))g++;for(x=0,E=v;E;E=io(E))x++;for(;0<g-x;)w=io(w),g--;for(;0<x-g;)v=io(v),x--;for(;g--;){if(w===v||v!==null&&w===v.alternate)break t;w=io(w),v=io(v)}w=null}else w=null;m!==null&&hp(f,h,m,w,!1),b!==null&&S!==null&&hp(f,S,b,w,!0)}}e:{if(h=c?So(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var M=HC;else if(ap(h))if(Ev)M=JC;else{M=qC;var I=GC}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=KC);if(M&&(M=M(e,c))){Cv(f,M,n,d);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Ru(h,"number",h.value)}switch(I=c?So(c):window,e){case"focusin":(ap(I)||I.contentEditable==="true")&&(bo=I,Vu=c,Da=null);break;case"focusout":Da=Vu=bo=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,up(f,n,d);break;case"selectionchange":if(YC)break;case"keydown":case"keyup":up(f,n,d)}var _;if(bf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else xo?wv(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(bv&&n.locale!=="ko"&&(xo||R!=="onCompositionStart"?R==="onCompositionEnd"&&xo&&(_=xv()):(er=d,vf="value"in er?er.value:er.textContent,xo=!0)),I=Mi(c,R),0<I.length&&(R=new tp(R,e,null,n,d),f.push({event:R,listeners:I}),_?R.data=_:(_=Sv(n),_!==null&&(R.data=_)))),(_=VC?zC(e,n):UC(e,n))&&(c=Mi(c,"onBeforeInput"),0<c.length&&(d=new tp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}Iv(f,t)})}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Wa(e,n),a!=null&&r.unshift(Xa(e,a,o)),a=Wa(e,t),a!=null&&r.push(Xa(e,a,o))),e=e.return}return r}function io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hp(e,t,n,r,o){for(var a=t._reactName,s=[];n!==null&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(l!==null&&l===r)break;i.tag===5&&c!==null&&(i=c,o?(l=Wa(n,a),l!=null&&s.unshift(Xa(n,l,i))):o||(l=Wa(n,a),l!=null&&s.push(Xa(n,l,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var nE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function pp(e){return(typeof e=="string"?e:""+e).replace(nE,`
`).replace(rE,"")}function Ds(e,t,n){if(t=pp(t),pp(e)!==t&&n)throw Error(Q(425))}function Ti(){}var Uu=null,Bu=null;function Wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,oE=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(sE)}:Hu;function sE(e){setTimeout(function(){throw e})}function Tc(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),qa(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qa(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),hn="__reactFiber$"+Yo,Ya="__reactProps$"+Yo,On="__reactContainer$"+Yo,Gu="__reactEvents$"+Yo,iE="__reactListeners$"+Yo,lE="__reactHandles$"+Yo;function Ir(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[On]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gp(e);e!==null;){if(n=e[hn])return n;e=gp(e)}return t}e=n,n=e.parentNode}return null}function vs(e){return e=e[hn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function So(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function pl(e){return e[Ya]||null}var qu=[],Co=-1;function Sr(e){return{current:e}}function Pe(e){0>Co||(e.current=qu[Co],qu[Co]=null,Co--)}function Ae(e,t){Co++,qu[Co]=e.current,e.current=t}var vr={},ht=Sr(vr),_t=Sr(!1),Vr=vr;function zo(e,t){var n=e.type.contextTypes;if(!n)return vr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Nt(e){return e=e.childContextTypes,e!=null}function Ai(){Pe(_t),Pe(ht)}function vp(e,t,n){if(ht.current!==vr)throw Error(Q(168));Ae(ht,t),Ae(_t,n)}function Lv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Q(108,G1(e)||"Unknown",o));return $e({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Vr=ht.current,Ae(ht,e),Ae(_t,_t.current),!0}function yp(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=Lv(e,t,Vr),r.__reactInternalMemoizedMergedChildContext=e,Pe(_t),Pe(ht),Ae(ht,e)):Pe(_t),Ae(_t,n)}var Rn=null,ml=!1,Ac=!1;function Dv(e){Rn===null?Rn=[e]:Rn.push(e)}function cE(e){ml=!0,Dv(e)}function Cr(){if(!Ac&&Rn!==null){Ac=!0;var e=0,t=Ne;try{var n=Rn;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rn=null,ml=!1}catch(o){throw Rn!==null&&(Rn=Rn.slice(e+1)),lv(hf,Cr),o}finally{Ne=t,Ac=!1}}return null}var Eo=[],ko=0,Pi=null,Ii=0,Bt=[],Wt=0,zr=null,An=1,jn="";function jr(e,t){Eo[ko++]=Ii,Eo[ko++]=Pi,Pi=e,Ii=t}function $v(e,t,n){Bt[Wt++]=An,Bt[Wt++]=jn,Bt[Wt++]=zr,zr=e;var r=An;e=jn;var o=32-on(r)-1;r&=~(1<<o),n+=1;var a=32-on(t)+o;if(30<a){var s=o-o%5;a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,An=1<<32-on(t)+o|n<<o|r,jn=a+e}else An=1<<a|n<<o|r,jn=e}function Sf(e){e.return!==null&&(jr(e,1),$v(e,1,0))}function Cf(e){for(;e===Pi;)Pi=Eo[--ko],Eo[ko]=null,Ii=Eo[--ko],Eo[ko]=null;for(;e===zr;)zr=Bt[--Wt],Bt[Wt]=null,jn=Bt[--Wt],Bt[Wt]=null,An=Bt[--Wt],Bt[Wt]=null}var It=null,Pt=null,Oe=!1,tn=null;function Fv(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,It=e,Pt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,It=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zr!==null?{id:An,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,It=e,Pt=null,!0):!1;default:return!1}}function Ku(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ju(e){if(Oe){var t=Pt;if(t){var n=t;if(!xp(e,t)){if(Ku(e))throw Error(Q(418));t=cr(n.nextSibling);var r=It;t&&xp(e,t)?Fv(r,n):(e.flags=e.flags&-4097|2,Oe=!1,It=e)}}else{if(Ku(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Oe=!1,It=e}}}function bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;It=e}function $s(e){if(e!==It)return!1;if(!Oe)return bp(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wu(e.type,e.memoizedProps)),t&&(t=Pt)){if(Ku(e))throw Vv(),Error(Q(418));for(;t;)Fv(e,t),t=cr(t.nextSibling)}if(bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=It?cr(e.stateNode.nextSibling):null;return!0}function Vv(){for(var e=Pt;e;)e=cr(e.nextSibling)}function Uo(){Pt=It=null,Oe=!1}function Ef(e){tn===null?tn=[e]:tn.push(e)}var uE=Vn.ReactCurrentBatchConfig;function ga(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var i=o.refs;s===null?delete i[a]:i[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Fs(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wp(e){var t=e._init;return t(e._payload)}function zv(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=hr(v,g),v.index=0,v.sibling=null,v}function a(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function i(v,g,x,E){return g===null||g.tag!==6?(g=$c(x,v.mode,E),g.return=v,g):(g=o(g,x),g.return=v,g)}function l(v,g,x,E){var M=x.type;return M===yo?d(v,g,x.props.children,E,x.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&wp(M)===g.type)?(E=o(g,x.props),E.ref=ga(v,g,x),E.return=v,E):(E=gi(x.type,x.key,x.props,null,v.mode,E),E.ref=ga(v,g,x),E.return=v,E)}function c(v,g,x,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Fc(x,v.mode,E),g.return=v,g):(g=o(g,x.children||[]),g.return=v,g)}function d(v,g,x,E,M){return g===null||g.tag!==7?(g=$r(x,v.mode,E,M),g.return=v,g):(g=o(g,x),g.return=v,g)}function f(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$c(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rs:return x=gi(g.type,g.key,g.props,null,v.mode,x),x.ref=ga(v,null,g),x.return=v,x;case vo:return g=Fc(g,v.mode,x),g.return=v,g;case Zn:var E=g._init;return f(v,E(g._payload),x)}if(ka(g)||da(g))return g=$r(g,v.mode,x,null),g.return=v,g;Fs(v,g)}return null}function h(v,g,x,E){var M=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:i(v,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:return x.key===M?l(v,g,x,E):null;case vo:return x.key===M?c(v,g,x,E):null;case Zn:return M=x._init,h(v,g,M(x._payload),E)}if(ka(x)||da(x))return M!==null?null:d(v,g,x,E,null);Fs(v,x)}return null}function m(v,g,x,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(x)||null,i(g,v,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Rs:return v=v.get(E.key===null?x:E.key)||null,l(g,v,E,M);case vo:return v=v.get(E.key===null?x:E.key)||null,c(g,v,E,M);case Zn:var I=E._init;return m(v,g,x,I(E._payload),M)}if(ka(E)||da(E))return v=v.get(x)||null,d(g,v,E,M,null);Fs(g,E)}return null}function b(v,g,x,E){for(var M=null,I=null,_=g,R=g=0,$=null;_!==null&&R<x.length;R++){_.index>R?($=_,_=null):$=_.sibling;var D=h(v,_,x[R],E);if(D===null){_===null&&(_=$);break}e&&_&&D.alternate===null&&t(v,_),g=a(D,g,R),I===null?M=D:I.sibling=D,I=D,_=$}if(R===x.length)return n(v,_),Oe&&jr(v,R),M;if(_===null){for(;R<x.length;R++)_=f(v,x[R],E),_!==null&&(g=a(_,g,R),I===null?M=_:I.sibling=_,I=_);return Oe&&jr(v,R),M}for(_=r(v,_);R<x.length;R++)$=m(_,v,R,x[R],E),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?R:$.key),g=a($,g,R),I===null?M=$:I.sibling=$,I=$);return e&&_.forEach(function(W){return t(v,W)}),Oe&&jr(v,R),M}function w(v,g,x,E){var M=da(x);if(typeof M!="function")throw Error(Q(150));if(x=M.call(x),x==null)throw Error(Q(151));for(var I=M=null,_=g,R=g=0,$=null,D=x.next();_!==null&&!D.done;R++,D=x.next()){_.index>R?($=_,_=null):$=_.sibling;var W=h(v,_,D.value,E);if(W===null){_===null&&(_=$);break}e&&_&&W.alternate===null&&t(v,_),g=a(W,g,R),I===null?M=W:I.sibling=W,I=W,_=$}if(D.done)return n(v,_),Oe&&jr(v,R),M;if(_===null){for(;!D.done;R++,D=x.next())D=f(v,D.value,E),D!==null&&(g=a(D,g,R),I===null?M=D:I.sibling=D,I=D);return Oe&&jr(v,R),M}for(_=r(v,_);!D.done;R++,D=x.next())D=m(_,v,R,D.value,E),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?R:D.key),g=a(D,g,R),I===null?M=D:I.sibling=D,I=D);return e&&_.forEach(function(K){return t(v,K)}),Oe&&jr(v,R),M}function S(v,g,x,E){if(typeof x=="object"&&x!==null&&x.type===yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Rs:e:{for(var M=x.key,I=g;I!==null;){if(I.key===M){if(M=x.type,M===yo){if(I.tag===7){n(v,I.sibling),g=o(I,x.props.children),g.return=v,v=g;break e}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Zn&&wp(M)===I.type){n(v,I.sibling),g=o(I,x.props),g.ref=ga(v,I,x),g.return=v,v=g;break e}n(v,I);break}else t(v,I);I=I.sibling}x.type===yo?(g=$r(x.props.children,v.mode,E,x.key),g.return=v,v=g):(E=gi(x.type,x.key,x.props,null,v.mode,E),E.ref=ga(v,g,x),E.return=v,v=E)}return s(v);case vo:e:{for(I=x.key;g!==null;){if(g.key===I)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(v,g.sibling),g=o(g,x.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Fc(x,v.mode,E),g.return=v,v=g}return s(v);case Zn:return I=x._init,S(v,g,I(x._payload),E)}if(ka(x))return b(v,g,x,E);if(da(x))return w(v,g,x,E);Fs(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(v,g.sibling),g=o(g,x),g.return=v,v=g):(n(v,g),g=$c(x,v.mode,E),g.return=v,v=g),s(v)):n(v,g)}return S}var Bo=zv(!0),Uv=zv(!1),Oi=Sr(null),Li=null,_o=null,kf=null;function _f(){kf=_o=Li=null}function Nf(e){var t=Oi.current;Pe(Oi),e._currentValue=t}function Zu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Po(e,t){Li=e,kf=_o=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(kf!==e)if(e={context:e,memoizedValue:t,next:null},_o===null){if(Li===null)throw Error(Q(308));_o=e,Li.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Or=null;function Rf(e){Or===null?Or=[e]:Or.push(e)}function Bv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Rf(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ln(e,r)}function Ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xn=!1;function Mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ln(e,n)}return o=r.interleaved,o===null?(t.next=t,Rf(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ln(e,n)}function ui(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pf(e,n)}}function Sp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Di(e,t,n,r){var o=e.updateQueue;Xn=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(i!==null){o.shared.pending=null;var l=i,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=o.baseState;s=0,d=c=l=null,i=a;do{var h=i.lane,m=i.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,w=i;switch(h=t,m=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(m,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(m,f,h):b,h==null)break e;f=$e({},f,h);break e;case 2:Xn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[i]:h.push(i))}else m={eventTime:m,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(i=i.next,i===null){if(i=o.shared.pending,i===null)break;h=i,i=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(d===null&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Br|=s,e.lanes=s,e.memoizedState=f}}function Cp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Q(191,o));o.call(r)}}}var ys={},yn=Sr(ys),Qa=Sr(ys),es=Sr(ys);function Lr(e){if(e===ys)throw Error(Q(174));return e}function Tf(e,t){switch(Ae(es,t),Ae(Qa,e),Ae(yn,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tu(t,e)}Pe(yn),Ae(yn,t)}function Wo(){Pe(yn),Pe(Qa),Pe(es)}function Hv(e){Lr(es.current);var t=Lr(yn.current),n=Tu(t,e.type);t!==n&&(Ae(Qa,e),Ae(yn,n))}function Af(e){Qa.current===e&&(Pe(yn),Pe(Qa))}var Le=Sr(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jc=[];function jf(){for(var e=0;e<jc.length;e++)jc[e]._workInProgressVersionPrimary=null;jc.length=0}var di=Vn.ReactCurrentDispatcher,Pc=Vn.ReactCurrentBatchConfig,Ur=0,De=null,He=null,Je=null,Fi=!1,$a=!1,ts=0,dE=0;function nt(){throw Error(Q(321))}function Pf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sn(e[n],t[n]))return!1;return!0}function If(e,t,n,r,o,a){if(Ur=a,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,di.current=e===null||e.memoizedState===null?mE:gE,e=n(r,o),$a){a=0;do{if($a=!1,ts=0,25<=a)throw Error(Q(301));a+=1,Je=He=null,t.updateQueue=null,di.current=vE,e=n(r,o)}while($a)}if(di.current=Vi,t=He!==null&&He.next!==null,Ur=0,Je=He=De=null,Fi=!1,t)throw Error(Q(300));return e}function Of(){var e=ts!==0;return ts=0,e}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function Jt(){if(He===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,He=e;else{if(e===null)throw Error(Q(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function ns(e,t){return typeof t=="function"?t(e):t}function Ic(e){var t=Jt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=He,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var i=s=null,l=null,c=a;do{var d=c.lane;if((Ur&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(i=l=f,s=r):l=l.next=f,De.lanes|=d,Br|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=i,sn(r,t.memoizedState)||(Et=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,De.lanes|=a,Br|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oc(e){var t=Jt(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do a=e(a,s.action),s=s.next;while(s!==o);sn(a,t.memoizedState)||(Et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Gv(){}function qv(e,t){var n=De,r=Jt(),o=t(),a=!sn(r.memoizedState,o);if(a&&(r.memoizedState=o,Et=!0),r=r.queue,Lf(Zv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,rs(9,Jv.bind(null,n,r,o,t),void 0,null),Ze===null)throw Error(Q(349));Ur&30||Kv(n,t,o)}return o}function Kv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jv(e,t,n,r){t.value=n,t.getSnapshot=r,Xv(t)&&Yv(e)}function Zv(e,t,n){return n(function(){Xv(t)&&Yv(e)})}function Xv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sn(e,n)}catch{return!0}}function Yv(e){var t=Ln(e,1);t!==null&&an(t,e,1,-1)}function Ep(e){var t=fn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},t.queue=e,e=e.dispatch=pE.bind(null,De,e),[t.memoizedState,e]}function rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qv(){return Jt().memoizedState}function fi(e,t,n,r){var o=fn();De.flags|=e,o.memoizedState=rs(1|t,n,void 0,r===void 0?null:r)}function gl(e,t,n,r){var o=Jt();r=r===void 0?null:r;var a=void 0;if(He!==null){var s=He.memoizedState;if(a=s.destroy,r!==null&&Pf(r,s.deps)){o.memoizedState=rs(t,n,a,r);return}}De.flags|=e,o.memoizedState=rs(1|t,n,a,r)}function kp(e,t){return fi(8390656,8,e,t)}function Lf(e,t){return gl(2048,8,e,t)}function ey(e,t){return gl(4,2,e,t)}function ty(e,t){return gl(4,4,e,t)}function ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ry(e,t,n){return n=n!=null?n.concat([e]):null,gl(4,4,ny.bind(null,t,e),n)}function Df(){}function oy(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ay(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sy(e,t,n){return Ur&21?(sn(n,t)||(n=dv(),De.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n)}function fE(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=Pc.transition;Pc.transition={};try{e(!1),t()}finally{Ne=n,Pc.transition=r}}function iy(){return Jt().memoizedState}function hE(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ly(e))cy(t,n);else if(n=Bv(e,t,n,r),n!==null){var o=yt();an(n,e,r,o),uy(n,t,r)}}function pE(e,t,n){var r=fr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(e))cy(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,i=a(s,n);if(o.hasEagerState=!0,o.eagerState=i,sn(i,s)){var l=t.interleaved;l===null?(o.next=o,Rf(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=Bv(e,t,o,r),n!==null&&(o=yt(),an(n,e,r,o),uy(n,t,r))}}function ly(e){var t=e.alternate;return e===De||t!==null&&t===De}function cy(e,t){$a=Fi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pf(e,n)}}var Vi={readContext:Kt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},mE={readContext:Kt,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fi(4194308,4,ny.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return fi(4,2,e,t)},useMemo:function(e,t){var n=fn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hE.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:Ep,useDebugValue:Df,useDeferredValue:function(e){return fn().memoizedState=e},useTransition:function(){var e=Ep(!1),t=e[0];return e=fE.bind(null,e[1]),fn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,o=fn();if(Oe){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),Ze===null)throw Error(Q(349));Ur&30||Kv(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,kp(Zv.bind(null,r,a,e),[e]),r.flags|=2048,rs(9,Jv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=fn(),t=Ze.identifierPrefix;if(Oe){var n=jn,r=An;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ts++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gE={readContext:Kt,useCallback:oy,useContext:Kt,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:Ic,useRef:Qv,useState:function(){return Ic(ns)},useDebugValue:Df,useDeferredValue:function(e){var t=Jt();return sy(t,He.memoizedState,e)},useTransition:function(){var e=Ic(ns)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Gv,useSyncExternalStore:qv,useId:iy,unstable_isNewReconciler:!1},vE={readContext:Kt,useCallback:oy,useContext:Kt,useEffect:Lf,useImperativeHandle:ry,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ay,useReducer:Oc,useRef:Qv,useState:function(){return Oc(ns)},useDebugValue:Df,useDeferredValue:function(e){var t=Jt();return He===null?t.memoizedState=e:sy(t,He.memoizedState,e)},useTransition:function(){var e=Oc(ns)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:Gv,useSyncExternalStore:qv,useId:iy,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=$e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vl={isMounted:function(e){return(e=e._reactInternals)?to(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),o=fr(e),a=Pn(r,o);a.payload=t,n!=null&&(a.callback=n),t=ur(e,a,o),t!==null&&(an(t,e,o,r),ui(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),o=fr(e),a=Pn(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ur(e,a,o),t!==null&&(an(t,e,o,r),ui(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=fr(e),o=Pn(n,r);o.tag=2,t!=null&&(o.callback=t),t=ur(e,o,r),t!==null&&(an(t,e,r,n),ui(t,e,r))}};function _p(e,t,n,r,o,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Ja(n,r)||!Ja(o,a):!0}function dy(e,t,n){var r=!1,o=vr,a=t.contextType;return typeof a=="object"&&a!==null?a=Kt(a):(o=Nt(t)?Vr:ht.current,r=t.contextTypes,a=(r=r!=null)?zo(e,o):vr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Np(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vl.enqueueReplaceState(t,t.state,null)}function Yu(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Mf(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Kt(a):(a=Nt(t)?Vr:ht.current,o.context=zo(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xu(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&vl.enqueueReplaceState(o,o.state,null),Di(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ho(e,t){try{var n="",r=t;do n+=H1(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Lc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yE=typeof WeakMap=="function"?WeakMap:Map;function fy(e,t,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ui||(Ui=!0,cd=r),Qu(e,t)},n}function hy(e,t,n){n=Pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Qu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Qu(e,t),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Rp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yE;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=jE.bind(null,e,t,n),t.then(e,e))}function Mp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pn(-1,1),t.tag=2,ur(n,t,1))),n.lanes|=1),e)}var xE=Vn.ReactCurrentOwner,Et=!1;function vt(e,t,n,r){t.child=e===null?Uv(t,null,n,r):Bo(t,e.child,n,r)}function Ap(e,t,n,r,o){n=n.render;var a=t.ref;return Po(t,o),r=If(e,t,n,r,a,o),n=Of(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dn(e,t,o)):(Oe&&n&&Sf(t),t.flags|=1,vt(e,t,r,o),t.child)}function jp(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!Hf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,py(e,t,a,r,o)):(e=gi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(s,r)&&e.ref===t.ref)return Dn(e,t,o)}return t.flags|=1,e=hr(a,r),e.ref=t.ref,e.return=t,t.child=e}function py(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(Ja(a,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Dn(e,t,o)}return ed(e,t,n,r,o)}function my(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ro,At),At|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(Ro,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ae(Ro,At),At|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ae(Ro,At),At|=r;return vt(e,t,o,n),t.child}function gy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ed(e,t,n,r,o){var a=Nt(n)?Vr:ht.current;return a=zo(t,a),Po(t,o),n=If(e,t,n,r,a,o),r=Of(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dn(e,t,o)):(Oe&&r&&Sf(t),t.flags|=1,vt(e,t,n,o),t.child)}function Pp(e,t,n,r,o){if(Nt(n)){var a=!0;ji(t)}else a=!1;if(Po(t,o),t.stateNode===null)hi(e,t),dy(t,n,r),Yu(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=Nt(n)?Vr:ht.current,c=zo(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||l!==c)&&Np(t,s,r,c),Xn=!1;var h=t.memoizedState;s.state=h,Di(t,r,s,o),l=t.memoizedState,i!==r||h!==l||_t.current||Xn?(typeof d=="function"&&(Xu(t,n,d,r),l=t.memoizedState),(i=Xn||_p(t,n,i,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Wv(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:Qt(t.type,i),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=Nt(n)?Vr:ht.current,l=zo(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||h!==l)&&Np(t,s,r,l),Xn=!1,h=t.memoizedState,s.state=h,Di(t,r,s,o);var b=t.memoizedState;i!==f||h!==b||_t.current||Xn?(typeof m=="function"&&(Xu(t,n,m,r),b=t.memoizedState),(c=Xn||_p(t,n,c,r,h,b,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,b,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,b,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),s.props=r,s.state=b,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return td(e,t,n,r,a,o)}function td(e,t,n,r,o,a){gy(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&yp(t,n,!1),Dn(e,t,a);r=t.stateNode,xE.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Bo(t,e.child,null,a),t.child=Bo(t,null,i,a)):vt(e,t,i,a),t.memoizedState=r.state,o&&yp(t,n,!0),t.child}function vy(e){var t=e.stateNode;t.pendingContext?vp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vp(e,t.context,!1),Tf(e,t.containerInfo)}function Ip(e,t,n,r,o){return Uo(),Ef(o),t.flags|=256,vt(e,t,n,r),t.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(e){return{baseLanes:e,cachePool:null,transitions:null}}function yy(e,t,n){var r=t.pendingProps,o=Le.current,a=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(o&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ae(Le,o&1),e===null)return Ju(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=bl(s,r,0,null),e=$r(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=rd(n),t.memoizedState=nd,e):$f(t,s));if(o=e.memoizedState,o!==null&&(i=o.dehydrated,i!==null))return bE(e,t,s,r,i,o,n);if(a){a=r.fallback,s=t.mode,o=e.child,i=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hr(o,l),r.subtreeFlags=o.subtreeFlags&14680064),i!==null?a=hr(i,a):(a=$r(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?rd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=nd,r}return a=e.child,e=a.sibling,r=hr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $f(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,n,r){return r!==null&&Ef(r),Bo(t,e.child,null,n),e=$f(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bE(e,t,n,r,o,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Lc(Error(Q(422))),Vs(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=bl({mode:"visible",children:r.children},o,0,null),a=$r(a,o,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bo(t,e.child,null,s),t.child.memoizedState=rd(s),t.memoizedState=nd,a);if(!(t.mode&1))return Vs(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(Q(419)),r=Lc(a,r,void 0),Vs(e,t,s,r)}if(i=(s&e.childLanes)!==0,Et||i){if(r=Ze,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Ln(e,o),an(r,e,o,-1))}return Wf(),r=Lc(Error(Q(421))),Vs(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=PE.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Pt=cr(o.nextSibling),It=t,Oe=!0,tn=null,e!==null&&(Bt[Wt++]=An,Bt[Wt++]=jn,Bt[Wt++]=zr,An=e.id,jn=e.overflow,zr=t),t=$f(t,r.children),t.flags|=4096,t)}function Op(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zu(e.return,t,n)}function Dc(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function xy(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(vt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,n,t);else if(e.tag===19)Op(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(Le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&$i(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Dc(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&$i(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Dc(t,!0,n,null,a);break;case"together":Dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wE(e,t,n){switch(t.tag){case 3:vy(t),Uo();break;case 5:Hv(t);break;case 1:Nt(t.type)&&ji(t);break;case 4:Tf(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ae(Oi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?yy(e,t,n):(Ae(Le,Le.current&1),e=Dn(e,t,n),e!==null?e.sibling:null);Ae(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ae(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,my(e,t,n)}return Dn(e,t,n)}var by,od,wy,Sy;by=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};od=function(){};wy=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Lr(yn.current);var a=null;switch(n){case"input":o=_u(e,o),r=_u(e,r),a=[];break;case"select":o=$e({},o,{value:void 0}),r=$e({},r,{value:void 0}),a=[];break;case"textarea":o=Mu(e,o),r=Mu(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ti)}Au(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var i=o[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ua.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(i=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==i&&(l!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&i[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",e),a||i===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Sy=function(e,t,n,r){n!==r&&(t.flags|=4)};function va(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function SE(e,t,n){var r=t.pendingProps;switch(Cf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return Nt(t.type)&&Ai(),rt(t),null;case 3:return r=t.stateNode,Wo(),Pe(_t),Pe(ht),jf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tn!==null&&(fd(tn),tn=null))),od(e,t),rt(t),null;case 5:Af(t);var o=Lr(es.current);if(n=t.type,e!==null&&t.stateNode!=null)wy(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return rt(t),null}if(e=Lr(yn.current),$s(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hn]=t,r[Ya]=a,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(o=0;o<Na.length;o++)je(Na[o],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Wh(r,a),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},je("invalid",r);break;case"textarea":Gh(r,a),je("invalid",r)}Au(n,a),o=null;for(var s in a)if(a.hasOwnProperty(s)){var i=a[s];s==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Ds(r.textContent,i,e),o=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Ds(r.textContent,i,e),o=["children",""+i]):Ua.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&je("scroll",r)}switch(n){case"input":Ms(r),Hh(r,a,!0);break;case"textarea":Ms(r),qh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ti)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hn]=t,e[Ya]=r,by(e,t,!1,!1),t.stateNode=e;e:{switch(s=ju(n,r),n){case"dialog":je("cancel",e),je("close",e),o=r;break;case"iframe":case"object":case"embed":je("load",e),o=r;break;case"video":case"audio":for(o=0;o<Na.length;o++)je(Na[o],e);o=r;break;case"source":je("error",e),o=r;break;case"img":case"image":case"link":je("error",e),je("load",e),o=r;break;case"details":je("toggle",e),o=r;break;case"input":Wh(e,r),o=_u(e,r),je("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$e({},r,{value:void 0}),je("invalid",e);break;case"textarea":Gh(e,r),o=Mu(e,r),je("invalid",e);break;default:o=r}Au(n,o),i=o;for(a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="style"?Qg(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xg(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ba(e,l):typeof l=="number"&&Ba(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ua.hasOwnProperty(a)?l!=null&&a==="onScroll"&&je("scroll",e):l!=null&&lf(e,a,l,s))}switch(n){case"input":Ms(e),Hh(e,r,!1);break;case"textarea":Ms(e),qh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Mo(e,!!r.multiple,a,!1):r.defaultValue!=null&&Mo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ti)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)Sy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=Lr(es.current),Lr(yn.current),$s(t)){if(r=t.stateNode,n=t.memoizedProps,r[hn]=t,(a=r.nodeValue!==n)&&(e=It,e!==null))switch(e.tag){case 3:Ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ds(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=t,t.stateNode=r}return rt(t),null;case 13:if(Pe(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Pt!==null&&t.mode&1&&!(t.flags&128))Vv(),Uo(),t.flags|=98560,a=!1;else if(a=$s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[hn]=t}else Uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),a=!1}else tn!==null&&(fd(tn),tn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ge===0&&(Ge=3):Wf())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Wo(),od(e,t),e===null&&Za(t.stateNode.containerInfo),rt(t),null;case 10:return Nf(t.type._context),rt(t),null;case 17:return Nt(t.type)&&Ai(),rt(t),null;case 19:if(Pe(Le),a=t.memoizedState,a===null)return rt(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)va(a,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$i(e),s!==null){for(t.flags|=128,va(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(Le,Le.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ve()>Go&&(t.flags|=128,r=!0,va(a,!1),t.lanes=4194304)}else{if(!r)if(e=$i(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),va(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Oe)return rt(t),null}else 2*Ve()-a.renderingStartTime>Go&&n!==1073741824&&(t.flags|=128,r=!0,va(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ve(),t.sibling=null,n=Le.current,Ae(Le,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return Bf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?At&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function CE(e,t){switch(Cf(t),t.tag){case 1:return Nt(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wo(),Pe(_t),Pe(ht),jf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Af(t),null;case 13:if(Pe(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Le),null;case 4:return Wo(),null;case 10:return Nf(t.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var zs=!1,ft=!1,EE=typeof WeakSet=="function"?WeakSet:Set,oe=null;function No(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(e,t,r)}else n.current=null}function ad(e,t,n){try{n()}catch(r){Fe(e,t,r)}}var Lp=!1;function kE(e,t){if(Uu=Ni,e=Nv(),wf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,i=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(i=s+o),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===o&&(i=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bu={focusedElem:e,selectionRange:n},Ni=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,S=b.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?w:Qt(t.type,w),S);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(E){Fe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return b=Lp,Lp=!1,b}function Fa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&ad(t,n,a)}o=o.next}while(o!==r)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Cy(e){var t=e.alternate;t!==null&&(e.alternate=null,Cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Ya],delete t[Gu],delete t[iE],delete t[lE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ey(e){return e.tag===5||e.tag===3||e.tag===4}function Dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ti));else if(r!==4&&(e=e.child,e!==null))for(id(e,t,n),e=e.sibling;e!==null;)id(e,t,n),e=e.sibling}function ld(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ld(e,t,n),e=e.sibling;e!==null;)ld(e,t,n),e=e.sibling}var Qe=null,en=!1;function Hn(e,t,n){for(n=n.child;n!==null;)ky(e,t,n),n=n.sibling}function ky(e,t,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:ft||No(n,t);case 6:var r=Qe,o=en;Qe=null,Hn(e,t,n),Qe=r,en=o,Qe!==null&&(en?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(en?(e=Qe,n=n.stateNode,e.nodeType===8?Tc(e.parentNode,n):e.nodeType===1&&Tc(e,n),qa(e)):Tc(Qe,n.stateNode));break;case 4:r=Qe,o=en,Qe=n.stateNode.containerInfo,en=!0,Hn(e,t,n),Qe=r,en=o;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ad(n,t,s),o=o.next}while(o!==r)}Hn(e,t,n);break;case 1:if(!ft&&(No(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Fe(n,t,i)}Hn(e,t,n);break;case 21:Hn(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,Hn(e,t,n),ft=r):Hn(e,t,n);break;default:Hn(e,t,n)}}function $p(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EE),t.forEach(function(r){var o=IE.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Qe=i.stateNode,en=!1;break e;case 3:Qe=i.stateNode.containerInfo,en=!0;break e;case 4:Qe=i.stateNode.containerInfo,en=!0;break e}i=i.return}if(Qe===null)throw Error(Q(160));ky(a,s,o),Qe=null,en=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){Fe(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_y(t,e),t=t.sibling}function _y(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),dn(e),r&4){try{Fa(3,e,e.return),yl(3,e)}catch(w){Fe(e,e.return,w)}try{Fa(5,e,e.return)}catch(w){Fe(e,e.return,w)}}break;case 1:Xt(t,e),dn(e),r&512&&n!==null&&No(n,n.return);break;case 5:if(Xt(t,e),dn(e),r&512&&n!==null&&No(n,n.return),e.flags&32){var o=e.stateNode;try{Ba(o,"")}catch(w){Fe(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Kg(o,a),ju(i,s);var c=ju(i,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?Qg(o,f):d==="dangerouslySetInnerHTML"?Xg(o,f):d==="children"?Ba(o,f):lf(o,d,f,c)}switch(i){case"input":Nu(o,a);break;case"textarea":Jg(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Mo(o,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Mo(o,!!a.multiple,a.defaultValue,!0):Mo(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ya]=a}catch(w){Fe(e,e.return,w)}}break;case 6:if(Xt(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(Q(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(w){Fe(e,e.return,w)}}break;case 3:if(Xt(t,e),dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(t.containerInfo)}catch(w){Fe(e,e.return,w)}break;case 4:Xt(t,e),dn(e);break;case 13:Xt(t,e),dn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(zf=Ve())),r&4&&$p(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(c=ft)||d,Xt(t,e),ft=c):Xt(t,e),dn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Fa(4,h,h.return);break;case 1:No(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){Fe(r,n,w)}}break;case 5:No(h,h.return);break;case 22:if(h.memoizedState!==null){Vp(f);continue}}m!==null?(m.return=h,oe=m):Vp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,c?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=Yg("display",s))}catch(w){Fe(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Fe(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(t,e),dn(e),r&4&&$p(e);break;case 21:break;default:Xt(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ey(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ba(o,""),r.flags&=-33);var a=Dp(e);ld(e,a,o);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Dp(e);id(e,i,s);break;default:throw Error(Q(161))}}catch(l){Fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _E(e,t,n){oe=e,Ny(e)}function Ny(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var o=oe,a=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||zs;if(!s){var i=o.alternate,l=i!==null&&i.memoizedState!==null||ft;i=zs;var c=ft;if(zs=s,(ft=l)&&!c)for(oe=o;oe!==null;)s=oe,l=s.child,s.tag===22&&s.memoizedState!==null?zp(o):l!==null?(l.return=s,oe=l):zp(o);for(;a!==null;)oe=a,Ny(a),a=a.sibling;oe=o,zs=i,ft=c}Fp(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,oe=a):Fp(e)}}function Fp(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||yl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Qt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Cp(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cp(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}ft||t.flags&512&&sd(t)}catch(h){Fe(t,t.return,h)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Vp(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function zp(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(l){Fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){Fe(t,o,l)}}var a=t.return;try{sd(t)}catch(l){Fe(t,a,l)}break;case 5:var s=t.return;try{sd(t)}catch(l){Fe(t,s,l)}}}catch(l){Fe(t,t.return,l)}if(t===e){oe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,oe=i;break}oe=t.return}}var NE=Math.ceil,zi=Vn.ReactCurrentDispatcher,Ff=Vn.ReactCurrentOwner,Gt=Vn.ReactCurrentBatchConfig,Ce=0,Ze=null,Ue=null,et=0,At=0,Ro=Sr(0),Ge=0,os=null,Br=0,xl=0,Vf=0,Va=null,St=null,zf=0,Go=1/0,Nn=null,Ui=!1,cd=null,dr=null,Us=!1,tr=null,Bi=0,za=0,ud=null,pi=-1,mi=0;function yt(){return Ce&6?Ve():pi!==-1?pi:pi=Ve()}function fr(e){return e.mode&1?Ce&2&&et!==0?et&-et:uE.transition!==null?(mi===0&&(mi=dv()),mi):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:yv(e.type)),e):1}function an(e,t,n,r){if(50<za)throw za=0,ud=null,Error(Q(185));ms(e,n,r),(!(Ce&2)||e!==Ze)&&(e===Ze&&(!(Ce&2)&&(xl|=n),Ge===4&&Qn(e,et)),Rt(e,r),n===1&&Ce===0&&!(t.mode&1)&&(Go=Ve()+500,ml&&Cr()))}function Rt(e,t){var n=e.callbackNode;uC(e,t);var r=_i(e,e===Ze?et:0);if(r===0)n!==null&&Zh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zh(n),t===1)e.tag===0?cE(Up.bind(null,e)):Dv(Up.bind(null,e)),aE(function(){!(Ce&6)&&Cr()}),n=null;else{switch(fv(r)){case 1:n=hf;break;case 4:n=cv;break;case 16:n=ki;break;case 536870912:n=uv;break;default:n=ki}n=Oy(n,Ry.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ry(e,t){if(pi=-1,mi=0,Ce&6)throw Error(Q(327));var n=e.callbackNode;if(Io()&&e.callbackNode!==n)return null;var r=_i(e,e===Ze?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wi(e,r);else{t=r;var o=Ce;Ce|=2;var a=Ty();(Ze!==e||et!==t)&&(Nn=null,Go=Ve()+500,Dr(e,t));do try{TE();break}catch(i){My(e,i)}while(!0);_f(),zi.current=a,Ce=o,Ue!==null?t=0:(Ze=null,et=0,t=Ge)}if(t!==0){if(t===2&&(o=Du(e),o!==0&&(r=o,t=dd(e,o))),t===1)throw n=os,Dr(e,0),Qn(e,r),Rt(e,Ve()),n;if(t===6)Qn(e,r);else{if(o=e.current.alternate,!(r&30)&&!RE(o)&&(t=Wi(e,r),t===2&&(a=Du(e),a!==0&&(r=a,t=dd(e,a))),t===1))throw n=os,Dr(e,0),Qn(e,r),Rt(e,Ve()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:Pr(e,St,Nn);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=zf+500-Ve(),10<t)){if(_i(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Hu(Pr.bind(null,e,St,Nn),t);break}Pr(e,St,Nn);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-on(r);a=1<<s,s=t[s],s>o&&(o=s),r&=~a}if(r=o,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NE(r/1960))-r,10<r){e.timeoutHandle=Hu(Pr.bind(null,e,St,Nn),r);break}Pr(e,St,Nn);break;case 5:Pr(e,St,Nn);break;default:throw Error(Q(329))}}}return Rt(e,Ve()),e.callbackNode===n?Ry.bind(null,e):null}function dd(e,t){var n=Va;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=Wi(e,t),e!==2&&(t=St,St=n,t!==null&&fd(t)),e}function fd(e){St===null?St=e:St.push.apply(St,e)}function RE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!sn(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Vf,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-on(t),r=1<<n;e[n]=-1,t&=~r}}function Up(e){if(Ce&6)throw Error(Q(327));Io();var t=_i(e,0);if(!(t&1))return Rt(e,Ve()),null;var n=Wi(e,t);if(e.tag!==0&&n===2){var r=Du(e);r!==0&&(t=r,n=dd(e,r))}if(n===1)throw n=os,Dr(e,0),Qn(e,t),Rt(e,Ve()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pr(e,St,Nn),Rt(e,Ve()),null}function Uf(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Go=Ve()+500,ml&&Cr())}}function Wr(e){tr!==null&&tr.tag===0&&!(Ce&6)&&Io();var t=Ce;Ce|=1;var n=Gt.transition,r=Ne;try{if(Gt.transition=null,Ne=1,e)return e()}finally{Ne=r,Gt.transition=n,Ce=t,!(Ce&6)&&Cr()}}function Bf(){At=Ro.current,Pe(Ro)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oE(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ai();break;case 3:Wo(),Pe(_t),Pe(ht),jf();break;case 5:Af(r);break;case 4:Wo();break;case 13:Pe(Le);break;case 19:Pe(Le);break;case 10:Nf(r.type._context);break;case 22:case 23:Bf()}n=n.return}if(Ze=e,Ue=e=hr(e.current,null),et=At=t,Ge=0,os=null,Vf=xl=Br=0,St=Va=null,Or!==null){for(t=0;t<Or.length;t++)if(n=Or[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=o,r.next=s}n.pending=r}Or=null}return e}function My(e,t){do{var n=Ue;try{if(_f(),di.current=Vi,Fi){for(var r=De.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Fi=!1}if(Ur=0,Je=He=De=null,$a=!1,ts=0,Ff.current=null,n===null||n.return===null){Ge=1,os=t,Ue=null;break}e:{var a=e,s=n.return,i=n,l=t;if(t=et,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=i,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Mp(s);if(m!==null){m.flags&=-257,Tp(m,s,i,a,t),m.mode&1&&Rp(a,c,t),t=m,l=c;var b=t.updateQueue;if(b===null){var w=new Set;w.add(l),t.updateQueue=w}else b.add(l);break e}else{if(!(t&1)){Rp(a,c,t),Wf();break e}l=Error(Q(426))}}else if(Oe&&i.mode&1){var S=Mp(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Tp(S,s,i,a,t),Ef(Ho(l,i));break e}}a=l=Ho(l,i),Ge!==4&&(Ge=2),Va===null?Va=[a]:Va.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=fy(a,l,t);Sp(a,v);break e;case 1:i=l;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(dr===null||!dr.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var E=hy(a,i,t);Sp(a,E);break e}}a=a.return}while(a!==null)}jy(n)}catch(M){t=M,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Ty(){var e=zi.current;return zi.current=Vi,e===null?Vi:e}function Wf(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||!(Br&268435455)&&!(xl&268435455)||Qn(Ze,et)}function Wi(e,t){var n=Ce;Ce|=2;var r=Ty();(Ze!==e||et!==t)&&(Nn=null,Dr(e,t));do try{ME();break}catch(o){My(e,o)}while(!0);if(_f(),Ce=n,zi.current=r,Ue!==null)throw Error(Q(261));return Ze=null,et=0,Ge}function ME(){for(;Ue!==null;)Ay(Ue)}function TE(){for(;Ue!==null&&!tC();)Ay(Ue)}function Ay(e){var t=Iy(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?jy(e):Ue=t,Ff.current=null}function jy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CE(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Ue=null;return}}else if(n=SE(n,t,At),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ge===0&&(Ge=5)}function Pr(e,t,n){var r=Ne,o=Gt.transition;try{Gt.transition=null,Ne=1,AE(e,t,n,r)}finally{Gt.transition=o,Ne=r}return null}function AE(e,t,n,r){do Io();while(tr!==null);if(Ce&6)throw Error(Q(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dC(e,a),e===Ze&&(Ue=Ze=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Us||(Us=!0,Oy(ki,function(){return Io(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gt.transition,Gt.transition=null;var s=Ne;Ne=1;var i=Ce;Ce|=4,Ff.current=null,kE(e,n),_y(n,e),XC(Bu),Ni=!!Uu,Bu=Uu=null,e.current=n,_E(n),nC(),Ce=i,Ne=s,Gt.transition=a}else e.current=n;if(Us&&(Us=!1,tr=e,Bi=o),a=e.pendingLanes,a===0&&(dr=null),aC(n.stateNode),Rt(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ui)throw Ui=!1,e=cd,cd=null,e;return Bi&1&&e.tag!==0&&Io(),a=e.pendingLanes,a&1?e===ud?za++:(za=0,ud=e):za=0,Cr(),null}function Io(){if(tr!==null){var e=fv(Bi),t=Gt.transition,n=Ne;try{if(Gt.transition=null,Ne=16>e?16:e,tr===null)var r=!1;else{if(e=tr,tr=null,Bi=0,Ce&6)throw Error(Q(331));var o=Ce;for(Ce|=4,oe=e.current;oe!==null;){var a=oe,s=a.child;if(oe.flags&16){var i=a.deletions;if(i!==null){for(var l=0;l<i.length;l++){var c=i[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:Fa(8,d,a)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,m=d.return;if(Cy(d),d===c){oe=null;break}if(h!==null){h.return=m,oe=h;break}oe=m}}}var b=a.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}oe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,oe=s;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fa(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,oe=v;break e}oe=a.return}}var g=e.current;for(oe=g;oe!==null;){s=oe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,oe=x;else e:for(s=g;oe!==null;){if(i=oe,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:yl(9,i)}}catch(M){Fe(i,i.return,M)}if(i===s){oe=null;break e}var E=i.sibling;if(E!==null){E.return=i.return,oe=E;break e}oe=i.return}}if(Ce=o,Cr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ul,e)}catch{}r=!0}return r}finally{Ne=n,Gt.transition=t}}return!1}function Bp(e,t,n){t=Ho(n,t),t=fy(e,t,1),e=ur(e,t,1),t=yt(),e!==null&&(ms(e,1,t),Rt(e,t))}function Fe(e,t,n){if(e.tag===3)Bp(e,e,n);else for(;t!==null;){if(t.tag===3){Bp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){e=Ho(n,e),e=hy(t,e,1),t=ur(t,e,1),e=yt(),t!==null&&(ms(t,1,e),Rt(t,e));break}}t=t.return}}function jE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,Ze===e&&(et&n)===n&&(Ge===4||Ge===3&&(et&130023424)===et&&500>Ve()-zf?Dr(e,0):Vf|=n),Rt(e,t)}function Py(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var n=yt();e=Ln(e,t),e!==null&&(ms(e,t,n),Rt(e,n))}function PE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Py(e,n)}function IE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Py(e,n)}var Iy;Iy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)Et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Et=!1,wE(e,t,n);Et=!!(e.flags&131072)}else Et=!1,Oe&&t.flags&1048576&&$v(t,Ii,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hi(e,t),e=t.pendingProps;var o=zo(t,ht.current);Po(t,n),o=If(null,t,r,e,o,n);var a=Of();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(r)?(a=!0,ji(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Mf(t),o.updater=vl,t.stateNode=o,o._reactInternals=t,Yu(t,r,e,n),t=td(null,t,r,!0,a,n)):(t.tag=0,Oe&&a&&Sf(t),vt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=LE(r),e=Qt(r,e),o){case 0:t=ed(null,t,r,e,n);break e;case 1:t=Pp(null,t,r,e,n);break e;case 11:t=Ap(null,t,r,e,n);break e;case 14:t=jp(null,t,r,Qt(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qt(r,o),ed(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qt(r,o),Pp(e,t,r,o,n);case 3:e:{if(vy(t),e===null)throw Error(Q(387));r=t.pendingProps,a=t.memoizedState,o=a.element,Wv(e,t),Di(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Ho(Error(Q(423)),t),t=Ip(e,t,r,n,o);break e}else if(r!==o){o=Ho(Error(Q(424)),t),t=Ip(e,t,r,n,o);break e}else for(Pt=cr(t.stateNode.containerInfo.firstChild),It=t,Oe=!0,tn=null,n=Uv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Uo(),r===o){t=Dn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return Hv(t),e===null&&Ju(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,s=o.children,Wu(r,o)?s=null:a!==null&&Wu(r,a)&&(t.flags|=32),gy(e,t),vt(e,t,s,n),t.child;case 6:return e===null&&Ju(t),null;case 13:return yy(e,t,n);case 4:return Tf(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qt(r,o),Ap(e,t,r,o,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Ae(Oi,r._currentValue),r._currentValue=s,a!==null)if(sn(a.value,s)){if(a.children===o.children&&!_t.current){t=Dn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){s=a.child;for(var l=i.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Pn(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zu(a.return,n,t),i.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Q(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),Zu(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}vt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Po(t,n),o=Kt(o),r=r(o),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,o=Qt(r,t.pendingProps),o=Qt(r.type,o),jp(e,t,r,o,n);case 15:return py(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qt(r,o),hi(e,t),t.tag=1,Nt(r)?(e=!0,ji(t)):e=!1,Po(t,n),dy(t,r,o),Yu(t,r,o,n),td(null,t,r,!0,e,n);case 19:return xy(e,t,n);case 22:return my(e,t,n)}throw Error(Q(156,t.tag))};function Oy(e,t){return lv(e,t)}function OE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new OE(e,t,n,r)}function Hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LE(e){if(typeof e=="function")return Hf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uf)return 11;if(e===df)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gi(e,t,n,r,o,a){var s=2;if(r=e,typeof e=="function")Hf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case yo:return $r(n.children,o,a,t);case cf:s=8,o|=8;break;case Su:return e=Ht(12,n,t,o|2),e.elementType=Su,e.lanes=a,e;case Cu:return e=Ht(13,n,t,o),e.elementType=Cu,e.lanes=a,e;case Eu:return e=Ht(19,n,t,o),e.elementType=Eu,e.lanes=a,e;case Hg:return bl(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bg:s=10;break e;case Wg:s=9;break e;case uf:s=11;break e;case df:s=14;break e;case Zn:s=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Ht(s,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function $r(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function bl(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=Hg,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function Fc(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DE(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xc(0),this.expirationTimes=xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gf(e,t,n,r,o,a,s,i,l){return e=new DE(e,t,n,i,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ht(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mf(a),e}function $E(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ly(e){if(!e)return vr;e=e._reactInternals;e:{if(to(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(Nt(n))return Lv(e,n,t)}return t}function Dy(e,t,n,r,o,a,s,i,l){return e=Gf(n,r,!0,e,o,a,s,i,l),e.context=Ly(null),n=e.current,r=yt(),o=fr(n),a=Pn(r,o),a.callback=t??null,ur(n,a,o),e.current.lanes=o,ms(e,o,r),Rt(e,r),e}function wl(e,t,n,r){var o=t.current,a=yt(),s=fr(o);return n=Ly(n),t.context===null?t.context=n:t.pendingContext=n,t=Pn(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ur(o,t,s),e!==null&&(an(e,o,s,a),ui(e,o,s)),s}function Hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qf(e,t){Wp(e,t),(e=e.alternate)&&Wp(e,t)}function FE(){return null}var $y=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kf(e){this._internalRoot=e}Sl.prototype.render=Kf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));wl(e,t,null,null)};Sl.prototype.unmount=Kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wr(function(){wl(null,e,null,null)}),t[On]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=mv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&vv(e)}};function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hp(){}function VE(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var c=Hi(s);a.call(c)}}var s=Dy(t,r,e,0,null,!1,!1,"",Hp);return e._reactRootContainer=s,e[On]=s.current,Za(e.nodeType===8?e.parentNode:e),Wr(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var i=r;r=function(){var c=Hi(l);i.call(c)}}var l=Gf(e,0,!1,null,null,!1,!1,"",Hp);return e._reactRootContainer=l,e[On]=l.current,Za(e.nodeType===8?e.parentNode:e),Wr(function(){wl(t,l,n,r)}),l}function El(e,t,n,r,o){var a=n._reactRootContainer;if(a){var s=a;if(typeof o=="function"){var i=o;o=function(){var l=Hi(s);i.call(l)}}wl(t,s,e,o)}else s=VE(n,t,e,o,r);return Hi(s)}hv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_a(t.pendingLanes);n!==0&&(pf(t,n|1),Rt(t,Ve()),!(Ce&6)&&(Go=Ve()+500,Cr()))}break;case 13:Wr(function(){var r=Ln(e,1);if(r!==null){var o=yt();an(r,e,1,o)}}),qf(e,1)}};mf=function(e){if(e.tag===13){var t=Ln(e,134217728);if(t!==null){var n=yt();an(t,e,134217728,n)}qf(e,134217728)}};pv=function(e){if(e.tag===13){var t=fr(e),n=Ln(e,t);if(n!==null){var r=yt();an(n,e,t,r)}qf(e,t)}};mv=function(){return Ne};gv=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};Iu=function(e,t,n){switch(t){case"input":if(Nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=pl(r);if(!o)throw Error(Q(90));qg(r),Nu(r,o)}}}break;case"textarea":Jg(e,n);break;case"select":t=n.value,t!=null&&Mo(e,!!n.multiple,t,!1)}};nv=Uf;rv=Wr;var zE={usingClientEntryPoint:!1,Events:[vs,So,pl,ev,tv,Uf]},ya={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UE={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sv(e),e===null?null:e.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||FE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{ul=Bs.inject(UE),vn=Bs}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;$t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(t))throw Error(Q(200));return $E(e,t,null,n)};$t.createRoot=function(e,t){if(!Jf(e))throw Error(Q(299));var n=!1,r="",o=$y;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Gf(e,1,!1,null,null,n,!1,r,o),e[On]=t.current,Za(e.nodeType===8?e.parentNode:e),new Kf(t)};$t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=sv(t),e=e===null?null:e.stateNode,e};$t.flushSync=function(e){return Wr(e)};$t.hydrate=function(e,t,n){if(!Cl(t))throw Error(Q(200));return El(null,e,t,!0,n)};$t.hydrateRoot=function(e,t,n){if(!Jf(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",s=$y;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Dy(t,null,e,1,n??null,o,!1,a,s),e[On]=t.current,Za(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Sl(t)};$t.render=function(e,t,n){if(!Cl(t))throw Error(Q(200));return El(null,e,t,!1,n)};$t.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(Q(40));return e._reactRootContainer?(Wr(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};$t.unstable_batchedUpdates=Uf;$t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cl(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return El(e,t,n,!1,r)};$t.version="18.3.1-next-f1338f8080-20240426";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(e){console.error(e)}}Fy(),Fg.exports=$t;var Qo=Fg.exports;const BE=Qd(Qo);var Gp=Qo;bu.createRoot=Gp.createRoot,bu.hydrateRoot=Gp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},as.apply(this,arguments)}var nr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nr||(nr={}));const qp="popstate";function WE(e){e===void 0&&(e={});function t(r,o){let{pathname:a,search:s,hash:i}=r.location;return hd("",{pathname:a,search:s,hash:i},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Gi(o)}return GE(t,n,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HE(){return Math.random().toString(36).substr(2,8)}function Kp(e,t){return{usr:e.state,key:e.key,idx:t}}function hd(e,t,n,r){return n===void 0&&(n=null),as({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ea(t):t,{state:n,key:t&&t.key||r||HE()})}function Gi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GE(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:a=!1}=r,s=o.history,i=nr.Pop,l=null,c=d();c==null&&(c=0,s.replaceState(as({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function f(){i=nr.Pop;let S=d(),v=S==null?null:S-c;c=S,l&&l({action:i,location:w.location,delta:v})}function h(S,v){i=nr.Push;let g=hd(w.location,S,v);c=d()+1;let x=Kp(g,c),E=w.createHref(g);try{s.pushState(x,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(E)}a&&l&&l({action:i,location:w.location,delta:1})}function m(S,v){i=nr.Replace;let g=hd(w.location,S,v);c=d();let x=Kp(g,c),E=w.createHref(g);s.replaceState(x,"",E),a&&l&&l({action:i,location:w.location,delta:0})}function b(S){let v=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof S=="string"?S:Gi(S);return g=g.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let w={get action(){return i},get location(){return e(o,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(qp,f),l=S,()=>{o.removeEventListener(qp,f),l=null}},createHref(S){return t(o,S)},createURL:b,encodeLocation(S){let v=b(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(S){return s.go(S)}};return w}var Jp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jp||(Jp={}));function qE(e,t,n){return n===void 0&&(n="/"),KE(e,t,n,!1)}function KE(e,t,n,r){let o=typeof t=="string"?ea(t):t,a=Zf(o.pathname||"/",n);if(a==null)return null;let s=zy(e);JE(s);let i=null;for(let l=0;i==null&&l<s.length;++l){let c=sk(a);i=ok(s[l],c,r)}return i}function zy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(a,s,i)=>{let l={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=pr([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(Be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zy(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:nk(c,a.index),routesMeta:d})};return e.forEach((a,s)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))o(a,s);else for(let l of Uy(a.path))o(a,s,l)}),t}function Uy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let s=Uy(r.join("/")),i=[];return i.push(...s.map(l=>l===""?a:[a,l].join("/"))),o&&i.push(...s),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function JE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZE=/^:[\w-]+$/,XE=3,YE=2,QE=1,ek=10,tk=-2,Zp=e=>e==="*";function nk(e,t){let n=e.split("/"),r=n.length;return n.some(Zp)&&(r+=tk),t&&(r+=YE),n.filter(o=>!Zp(o)).reduce((o,a)=>o+(ZE.test(a)?XE:a===""?QE:ek),r)}function rk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function ok(e,t,n){let{routesMeta:r}=e,o={},a="/",s=[];for(let i=0;i<r.length;++i){let l=r[i],c=i===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Xp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Xp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(o,f.params),s.push({params:o,pathname:pr([a,f.pathname]),pathnameBase:uk(pr([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=pr([a,f.pathnameBase]))}return s}function Xp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ak(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],s=a.replace(/(.)\/+$/,"$1"),i=o.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let w=i[f]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=i[f];return m&&!b?c[h]=void 0:c[h]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function ak(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function sk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ik(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?ea(e):e;return{pathname:n?n.startsWith("/")?n:lk(n,t):t,search:dk(r),hash:fk(o)}}function lk(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ck(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function By(e,t){let n=ck(e);return t?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wy(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=ea(e):(o=as({},e),Be(!o.pathname||!o.pathname.includes("?"),Vc("?","pathname","search",o)),Be(!o.pathname||!o.pathname.includes("#"),Vc("#","pathname","hash",o)),Be(!o.search||!o.search.includes("#"),Vc("#","search","hash",o)));let a=e===""||o.pathname==="",s=a?"/":o.pathname,i;if(s==null)i=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;o.pathname=h.join("/")}i=f>=0?t[f]:"/"}let l=ik(o,i),c=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),uk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Hy=["post","put","patch","delete"];new Set(Hy);const pk=["get",...Hy];new Set(pk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(this,arguments)}const Xf=p.createContext(null),mk=p.createContext(null),no=p.createContext(null),kl=p.createContext(null),ro=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Gy=p.createContext(null);function gk(e,t){let{relative:n}=t===void 0?{}:t;xs()||Be(!1);let{basename:r,navigator:o}=p.useContext(no),{hash:a,pathname:s,search:i}=Ky(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:pr([r,s])),o.createHref({pathname:l,search:i,hash:a})}function xs(){return p.useContext(kl)!=null}function _l(){return xs()||Be(!1),p.useContext(kl).location}function qy(e){p.useContext(no).static||p.useLayoutEffect(e)}function Nl(){let{isDataRoute:e}=p.useContext(ro);return e?Mk():vk()}function vk(){xs()||Be(!1);let e=p.useContext(Xf),{basename:t,future:n,navigator:r}=p.useContext(no),{matches:o}=p.useContext(ro),{pathname:a}=_l(),s=JSON.stringify(By(o,n.v7_relativeSplatPath)),i=p.useRef(!1);return qy(()=>{i.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!i.current)return;if(typeof c=="number"){r.go(c);return}let f=Wy(c,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,s,a,e])}function Ky(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(no),{matches:o}=p.useContext(ro),{pathname:a}=_l(),s=JSON.stringify(By(o,r.v7_relativeSplatPath));return p.useMemo(()=>Wy(e,JSON.parse(s),a,n==="path"),[e,s,a,n])}function yk(e,t){return xk(e,t)}function xk(e,t,n,r){xs()||Be(!1);let{navigator:o}=p.useContext(no),{matches:a}=p.useContext(ro),s=a[a.length-1],i=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=_l(),d;if(t){var f;let S=typeof t=="string"?ea(t):t;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||Be(!1),d=S}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=qE(e,{pathname:m}),w=Ek(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:pr([l,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:pr([l,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return t&&w?p.createElement(kl.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nr.Pop}},w):w}function bk(){let e=Rk(),t=hk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:o},n):null,null)}const wk=p.createElement(bk,null);class Sk extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ro.Provider,{value:this.props.routeContext},p.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ck(e){let{routeContext:t,match:n,children:r}=e,o=p.useContext(Xf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ro.Provider,{value:t},r)}function Ek(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=(o=n)==null?void 0:o.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);d>=0||Be(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,b=!1,w=null,S=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,w=f.route.errorElement||wk,l&&(c<0&&h===0?(b=!0,S=null):c===h&&(b=!0,S=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),g=()=>{let x;return m?x=w:b?x=S:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(Ck,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(Sk,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Jy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jy||{}),qi=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qi||{});function kk(e){let t=p.useContext(Xf);return t||Be(!1),t}function _k(e){let t=p.useContext(mk);return t||Be(!1),t}function Nk(e){let t=p.useContext(ro);return t||Be(!1),t}function Zy(e){let t=Nk(),n=t.matches[t.matches.length-1];return n.route.id||Be(!1),n.route.id}function Rk(){var e;let t=p.useContext(Gy),n=_k(qi.UseRouteError),r=Zy(qi.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Mk(){let{router:e}=kk(Jy.UseNavigateStable),t=Zy(qi.UseNavigateStable),n=p.useRef(!1);return qy(()=>{n.current=!0}),p.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,ss({fromRouteId:t},a)))},[e,t])}function Tk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Hr(e){Be(!1)}function Ak(e){let{basename:t="/",children:n=null,location:r,navigationType:o=nr.Pop,navigator:a,static:s=!1,future:i}=e;xs()&&Be(!1);let l=t.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:a,static:s,future:ss({v7_relativeSplatPath:!1},i)}),[l,i,a,s]);typeof r=="string"&&(r=ea(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:b="default"}=r,w=p.useMemo(()=>{let S=Zf(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:m,key:b},navigationType:o}},[l,d,f,h,m,b,o]);return w==null?null:p.createElement(no.Provider,{value:c},p.createElement(kl.Provider,{children:n,value:w}))}function Yf(e){let{children:t,location:n}=e;return yk(pd(t),n)}new Promise(()=>{});function pd(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,o)=>{if(!p.isValidElement(r))return;let a=[...t,o];if(r.type===p.Fragment){n.push.apply(n,pd(r.props.children,a));return}r.type!==Hr&&Be(!1),!r.props.index||!r.props.children||Be(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pd(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function jk(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Pk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ik(e,t){return e.button===0&&(!t||t==="_self")&&!Pk(e)}const Ok=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lk="6";try{window.__reactRouterVersion=Lk}catch{}const Dk="startTransition",Yp=of[Dk];function $k(e){let{basename:t,children:n,future:r,window:o}=e,a=p.useRef();a.current==null&&(a.current=WE({window:o,v5Compat:!0}));let s=a.current,[i,l]=p.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=p.useCallback(f=>{c&&Yp?Yp(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>s.listen(d),[s,d]),p.useEffect(()=>Tk(r),[r]),p.createElement(Ak,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:s,future:r})}const Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oo=p.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:a,replace:s,state:i,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=jk(t,Ok),{basename:m}=p.useContext(no),b,w=!1;if(typeof c=="string"&&Vk.test(c)&&(b=c,Fk))try{let x=new URL(window.location.href),E=c.startsWith("//")?new URL(x.protocol+c):new URL(c),M=Zf(E.pathname,m);E.origin===x.origin&&M!=null?c=M+E.search+E.hash:w=!0}catch{}let S=gk(c,{relative:o}),v=zk(c,{replace:s,state:i,target:l,preventScrollReset:d,relative:o,viewTransition:f});function g(x){r&&r(x),x.defaultPrevented||v(x)}return p.createElement("a",md({},h,{href:b||S,onClick:w||a?r:g,ref:n,target:l}))});var Qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qp||(Qp={}));var em;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(em||(em={}));function zk(e,t){let{target:n,replace:r,state:o,preventScrollReset:a,relative:s,viewTransition:i}=t===void 0?{}:t,l=Nl(),c=_l(),d=Ky(e,{relative:s});return p.useCallback(f=>{if(Ik(f,n)){f.preventDefault();let h=r!==void 0?r:Gi(c)===Gi(d);l(e,{replace:h,state:o,preventScrollReset:a,relative:s,viewTransition:i})}},[c,l,d,r,o,n,e,a,s,i])}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bk=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),tm=e=>{const t=Bk(e);return t.charAt(0).toUpperCase()+t.slice(1)},Xy=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Wk=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:s,...i},l)=>p.createElement("svg",{ref:l,...Hk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Xy("lucide",o),...!a&&!Wk(i)&&{"aria-hidden":"true"},...i},[...s.map(([c,d])=>p.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const n=p.forwardRef(({className:r,...o},a)=>p.createElement(Gk,{ref:a,iconNode:t,className:Xy(`lucide-${Uk(tm(e))}`,`lucide-${e}`,r),...o}));return n.displayName=tm(e),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lo=qe("check",qk);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ki=qe("chevron-down",Kk);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zk=qe("chevron-left",Jk);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ji=qe("chevron-right",Xk);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qk=qe("chevron-up",Yk);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t_=qe("circle",e_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],r_=qe("download",n_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],gd=qe("git-branch",o_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],s_=qe("house",a_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],l_=qe("monitor",i_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nm=qe("moon",c_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],d_=qe("plus",u_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],h_=qe("save",f_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yy=qe("settings",p_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],rm=qe("sun",m_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],v_=qe("trash-2",g_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],x_=qe("upload",y_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rl=qe("x",b_);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],S_=qe("zap",w_),Qy=p.createContext(void 0),C_=({children:e})=>{const[t,n]=p.useState(()=>localStorage.getItem("theme")||"system"),[r,o]=p.useState(!1);p.useEffect(()=>{const s=window.document.documentElement,i=()=>{let d=!1;t==="dark"?d=!0:t==="light"?d=!1:d=window.matchMedia("(prefers-color-scheme: dark)").matches,d?s.classList.add("dark"):s.classList.remove("dark"),o(d)};i();const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{t==="system"&&i()};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[t]);const a=s=>{n(s),localStorage.setItem("theme",s)};return u.jsx(Qy.Provider,{value:{theme:t,setTheme:a,isDark:r},children:e})},E_=()=>{const e=p.useContext(Qy);if(!e)throw new Error("useDarkMode must be used within DarkModeProvider");return e};function om(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ml(...e){return t=>{let n=!1;const r=e.map(o=>{const a=om(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():om(e[o],null)}}}}function Re(...e){return p.useCallback(Ml(...e),e)}function Gr(e){const t=__(e),n=p.forwardRef((r,o)=>{const{children:a,...s}=r,i=p.Children.toArray(a),l=i.find(R_);if(l){const c=l.props.children,d=i.map(f=>f===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:f);return u.jsx(t,{...s,ref:o,children:p.isValidElement(c)?p.cloneElement(c,void 0,d):null})}return u.jsx(t,{...s,ref:o,children:a})});return n.displayName=`${e}.Slot`,n}var k_=Gr("Slot");function __(e){const t=p.forwardRef((n,r)=>{const{children:o,...a}=n;if(p.isValidElement(o)){const s=T_(o),i=M_(a,o.props);return o.type!==p.Fragment&&(i.ref=r?Ml(r,s):s),p.cloneElement(o,i)}return p.Children.count(o)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var N_=Symbol("radix.slottable");function R_(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===N_}function M_(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...i)=>{const l=a(...i);return o(...i),l}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function T_(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function e0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=e0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function t0(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=e0(e))&&(r&&(r+=" "),r+=t);return r}const am=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sm=t0,Tl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return sm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,s=Object.keys(o).map(c=>{const d=n==null?void 0:n[c],f=a==null?void 0:a[c];if(d===null)return null;const h=am(d)||am(f);return o[c][h]}),i=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(b=>{let[w,S]=b;return Array.isArray(S)?S.includes({...a,...i}[w]):{...a,...i}[w]===S})?[...c,f,h]:c},[]);return sm(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},Qf="-",A_=e=>{const t=P_(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(Qf);return i[0]===""&&i.length!==1&&i.shift(),n0(i,t)||j_(s)},getConflictingClassGroupIds:(s,i)=>{const l=n[s]||[];return i&&r[s]?[...l,...r[s]]:l}}},n0=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?n0(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Qf);return(s=t.validators.find(({validator:i})=>i(a)))==null?void 0:s.classGroupId},im=/^\[(.+)\]$/,j_=e=>{if(im.test(e)){const t=im.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},P_=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)vd(n[o],r,o,t);return r},vd=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:lm(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(I_(o)){vd(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,s])=>{vd(s,lm(t,a),n,r)})})},lm=(e,t)=>{let n=e;return t.split(Qf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},I_=e=>e.isThemeGetter,O_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return o(a,s),s},set(a,s){n.has(a)?n.set(a,s):o(a,s)}}},yd="!",xd=":",L_=xd.length,D_=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const a=[];let s=0,i=0,l=0,c;for(let b=0;b<o.length;b++){let w=o[b];if(s===0&&i===0){if(w===xd){a.push(o.slice(l,b)),l=b+L_;continue}if(w==="/"){c=b;continue}}w==="["?s++:w==="]"?s--:w==="("?i++:w===")"&&i--}const d=a.length===0?o:o.substring(l),f=$_(d),h=f!==d,m=c&&c>l?c-l:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const o=t+xd,a=r;r=s=>s.startsWith(o)?a(s.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},$_=e=>e.endsWith(yd)?e.substring(0,e.length-1):e.startsWith(yd)?e.substring(1):e,F_=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(s=>{s[0]==="["||t[s]?(o.push(...a.sort(),s),a=[]):a.push(s)}),o.push(...a.sort()),o}},V_=e=>({cache:O_(e.cacheSize),parseClassName:D_(e),sortModifiers:F_(e),...A_(e)}),z_=/\s+/,U_=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=t,s=[],i=e.trim().split(z_);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let S=!!w,v=r(S?b.substring(0,w):b);if(!v){if(!S){l=d+(l.length>0?" "+l:l);continue}if(v=r(b),!v){l=d+(l.length>0?" "+l:l);continue}S=!1}const g=a(h).join(":"),x=m?g+yd:g,E=x+v;if(s.includes(E))continue;s.push(E);const M=o(v,S);for(let I=0;I<M.length;++I){const _=M[I];s.push(x+_)}l=d+(l.length>0?" "+l:l)}return l};function B_(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=r0(t))&&(r&&(r+=" "),r+=n);return r}const r0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=r0(e[r]))&&(n&&(n+=" "),n+=t);return n};function W_(e,...t){let n,r,o,a=s;function s(l){const c=t.reduce((d,f)=>f(d),e());return n=V_(c),r=n.cache.get,o=n.cache.set,a=i,i(l)}function i(l){const c=r(l);if(c)return c;const d=U_(l,n);return o(l,d),d}return function(){return a(B_.apply(null,arguments))}}const We=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},o0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,a0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H_=/^\d+\/\d+$/,G_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,J_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lo=e=>H_.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),Gn=e=>!!e&&Number.isInteger(Number(e)),zc=e=>e.endsWith("%")&&ve(e.slice(0,-1)),_n=e=>G_.test(e),X_=()=>!0,Y_=e=>q_.test(e)&&!K_.test(e),s0=()=>!1,Q_=e=>J_.test(e),eN=e=>Z_.test(e),tN=e=>!ae(e)&&!se(e),nN=e=>ta(e,c0,s0),ae=e=>o0.test(e),Mr=e=>ta(e,u0,Y_),Uc=e=>ta(e,iN,ve),cm=e=>ta(e,i0,s0),rN=e=>ta(e,l0,eN),Ws=e=>ta(e,d0,Q_),se=e=>a0.test(e),xa=e=>na(e,u0),oN=e=>na(e,lN),um=e=>na(e,i0),aN=e=>na(e,c0),sN=e=>na(e,l0),Hs=e=>na(e,d0,!0),ta=(e,t,n)=>{const r=o0.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},na=(e,t,n=!1)=>{const r=a0.exec(e);return r?r[1]?t(r[1]):n:!1},i0=e=>e==="position"||e==="percentage",l0=e=>e==="image"||e==="url",c0=e=>e==="length"||e==="size"||e==="bg-size",u0=e=>e==="length",iN=e=>e==="number",lN=e=>e==="family-name",d0=e=>e==="shadow",cN=()=>{const e=We("color"),t=We("font"),n=We("text"),r=We("font-weight"),o=We("tracking"),a=We("leading"),s=We("breakpoint"),i=We("container"),l=We("spacing"),c=We("radius"),d=We("shadow"),f=We("inset-shadow"),h=We("text-shadow"),m=We("drop-shadow"),b=We("blur"),w=We("perspective"),S=We("aspect"),v=We("ease"),g=We("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...E(),se,ae],I=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],R=()=>[se,ae,l],$=()=>[lo,"full","auto",...R()],D=()=>[Gn,"none","subgrid",se,ae],W=()=>["auto",{span:["full",Gn,se,ae]},Gn,se,ae],K=()=>[Gn,"auto",se,ae],V=()=>["auto","min","max","fr",se,ae],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...R()],Z=()=>[lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],y=()=>[e,se,ae],C=()=>[...E(),um,cm,{position:[se,ae]}],N=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",aN,nN,{size:[se,ae]}],j=()=>[zc,xa,Mr],F=()=>["","none","full",c,se,ae],U=()=>["",ve,xa,Mr],J=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>[ve,zc,um,cm],k=()=>["","none",b,se,ae],O=()=>["none",ve,se,ae],L=()=>["none",ve,se,ae],z=()=>[ve,se,ae],B=()=>[lo,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_n],breakpoint:[_n],color:[X_],container:[_n],"drop-shadow":[_n],ease:["in","out","in-out"],font:[tN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_n],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_n],shadow:[_n],spacing:["px",ve],text:[_n],"text-shadow":[_n],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lo,ae,se,S]}],container:["container"],columns:[{columns:[ve,ae,se,i]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[Gn,"auto",se,ae]}],basis:[{basis:[lo,"full","auto",i,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,lo,"auto","initial","none",ae]}],grow:[{grow:["",ve,se,ae]}],shrink:[{shrink:["",ve,se,ae]}],order:[{order:[Gn,"first","last","none",se,ae]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[i,"screen",...Z()]}],"min-w":[{"min-w":[i,"screen","none",...Z()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,xa,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,se,Uc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zc,ae]}],"font-family":[{font:[oN,ae,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,se,ae]}],"line-clamp":[{"line-clamp":[ve,"none",se,Uc]}],leading:[{leading:[a,...R()]}],"list-image":[{"list-image":["none",se,ae]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:y()}],"text-color":[{text:y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",se,Mr]}],"text-decoration-color":[{decoration:y()}],"underline-offset":[{"underline-offset":[ve,"auto",se,ae]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:C()}],"bg-repeat":[{bg:N()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gn,se,ae],radial:["",se,ae],conic:[Gn,se,ae]},sN,rN]}],"bg-color":[{bg:y()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:y()}],"gradient-via":[{via:y()}],"gradient-to":[{to:y()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:y()}],"border-color-x":[{"border-x":y()}],"border-color-y":[{"border-y":y()}],"border-color-s":[{"border-s":y()}],"border-color-e":[{"border-e":y()}],"border-color-t":[{"border-t":y()}],"border-color-r":[{"border-r":y()}],"border-color-b":[{"border-b":y()}],"border-color-l":[{"border-l":y()}],"divide-color":[{divide:y()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,se,ae]}],"outline-w":[{outline:["",ve,xa,Mr]}],"outline-color":[{outline:y()}],shadow:[{shadow:["","none",d,Hs,Ws]}],"shadow-color":[{shadow:y()}],"inset-shadow":[{"inset-shadow":["none",f,Hs,Ws]}],"inset-shadow-color":[{"inset-shadow":y()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:y()}],"ring-offset-w":[{"ring-offset":[ve,Mr]}],"ring-offset-color":[{"ring-offset":y()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":y()}],"text-shadow":[{"text-shadow":["none",h,Hs,Ws]}],"text-shadow-color":[{"text-shadow":y()}],opacity:[{opacity:[ve,se,ae]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":P()}],"mask-image-linear-to-pos":[{"mask-linear-to":P()}],"mask-image-linear-from-color":[{"mask-linear-from":y()}],"mask-image-linear-to-color":[{"mask-linear-to":y()}],"mask-image-t-from-pos":[{"mask-t-from":P()}],"mask-image-t-to-pos":[{"mask-t-to":P()}],"mask-image-t-from-color":[{"mask-t-from":y()}],"mask-image-t-to-color":[{"mask-t-to":y()}],"mask-image-r-from-pos":[{"mask-r-from":P()}],"mask-image-r-to-pos":[{"mask-r-to":P()}],"mask-image-r-from-color":[{"mask-r-from":y()}],"mask-image-r-to-color":[{"mask-r-to":y()}],"mask-image-b-from-pos":[{"mask-b-from":P()}],"mask-image-b-to-pos":[{"mask-b-to":P()}],"mask-image-b-from-color":[{"mask-b-from":y()}],"mask-image-b-to-color":[{"mask-b-to":y()}],"mask-image-l-from-pos":[{"mask-l-from":P()}],"mask-image-l-to-pos":[{"mask-l-to":P()}],"mask-image-l-from-color":[{"mask-l-from":y()}],"mask-image-l-to-color":[{"mask-l-to":y()}],"mask-image-x-from-pos":[{"mask-x-from":P()}],"mask-image-x-to-pos":[{"mask-x-to":P()}],"mask-image-x-from-color":[{"mask-x-from":y()}],"mask-image-x-to-color":[{"mask-x-to":y()}],"mask-image-y-from-pos":[{"mask-y-from":P()}],"mask-image-y-to-pos":[{"mask-y-to":P()}],"mask-image-y-from-color":[{"mask-y-from":y()}],"mask-image-y-to-color":[{"mask-y-to":y()}],"mask-image-radial":[{"mask-radial":[se,ae]}],"mask-image-radial-from-pos":[{"mask-radial-from":P()}],"mask-image-radial-to-pos":[{"mask-radial-to":P()}],"mask-image-radial-from-color":[{"mask-radial-from":y()}],"mask-image-radial-to-color":[{"mask-radial-to":y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":P()}],"mask-image-conic-to-pos":[{"mask-conic-to":P()}],"mask-image-conic-from-color":[{"mask-conic-from":y()}],"mask-image-conic-to-color":[{"mask-conic-to":y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:C()}],"mask-repeat":[{mask:N()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,ae]}],filter:[{filter:["","none",se,ae]}],blur:[{blur:k()}],brightness:[{brightness:[ve,se,ae]}],contrast:[{contrast:[ve,se,ae]}],"drop-shadow":[{"drop-shadow":["","none",m,Hs,Ws]}],"drop-shadow-color":[{"drop-shadow":y()}],grayscale:[{grayscale:["",ve,se,ae]}],"hue-rotate":[{"hue-rotate":[ve,se,ae]}],invert:[{invert:["",ve,se,ae]}],saturate:[{saturate:[ve,se,ae]}],sepia:[{sepia:["",ve,se,ae]}],"backdrop-filter":[{"backdrop-filter":["","none",se,ae]}],"backdrop-blur":[{"backdrop-blur":k()}],"backdrop-brightness":[{"backdrop-brightness":[ve,se,ae]}],"backdrop-contrast":[{"backdrop-contrast":[ve,se,ae]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,se,ae]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,se,ae]}],"backdrop-invert":[{"backdrop-invert":["",ve,se,ae]}],"backdrop-opacity":[{"backdrop-opacity":[ve,se,ae]}],"backdrop-saturate":[{"backdrop-saturate":[ve,se,ae]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,se,ae]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,ae]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",se,ae]}],ease:[{ease:["linear","initial",v,se,ae]}],delay:[{delay:[ve,se,ae]}],animate:[{animate:["none",g,se,ae]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,se,ae]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:O()}],"rotate-x":[{"rotate-x":O()}],"rotate-y":[{"rotate-y":O()}],"rotate-z":[{"rotate-z":O()}],scale:[{scale:L()}],"scale-x":[{"scale-x":L()}],"scale-y":[{"scale-y":L()}],"scale-z":[{"scale-z":L()}],"scale-3d":["scale-3d"],skew:[{skew:z()}],"skew-x":[{"skew-x":z()}],"skew-y":[{"skew-y":z()}],transform:[{transform:[se,ae,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,ae]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,ae]}],fill:[{fill:["none",...y()]}],"stroke-w":[{stroke:[ve,xa,Mr,Uc]}],stroke:[{stroke:["none",...y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uN=W_(cN);function he(...e){return uN(t0(e))}const bd=Tl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-emerald-500 text-white shadow hover:bg-emerald-600 dark:bg-emerald-500 dark:hover:bg-emerald-600",warning:"bg-amber-500 text-white shadow hover:bg-amber-600 dark:bg-amber-500 dark:hover:bg-amber-600",info:"bg-indigo-500 text-white shadow hover:bg-indigo-600 dark:bg-indigo-500 dark:hover:bg-indigo-600"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dt=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},a)=>{const s=r?k_:"button";return u.jsx(s,{className:he(bd({variant:t,size:n,className:e})),ref:a,...o})});dt.displayName="Button";function ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function dN(e,t){const n=p.createContext(t),r=a=>{const{children:s,...i}=a,l=p.useMemo(()=>i,Object.values(i));return u.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function o(a){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function zn(e,t=[]){let n=[];function r(a,s){const i=p.createContext(s),l=n.length;n=[...n,s];const c=f=>{var v;const{scope:h,children:m,...b}=f,w=((v=h==null?void 0:h[e])==null?void 0:v[l])||i,S=p.useMemo(()=>b,Object.values(b));return u.jsx(w.Provider,{value:S,children:m})};c.displayName=a+"Provider";function d(f,h){var w;const m=((w=h==null?void 0:h[e])==null?void 0:w[l])||i,b=p.useContext(m);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[c,d]}const o=()=>{const a=n.map(s=>p.createContext(s));return function(i){const l=(i==null?void 0:i[e])||a;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return o.scopeName=e,[r,fN(o,...t)]}function fN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:l,scopeName:c})=>{const f=l(a)[`__scope${c}`];return{...i,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var pt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},hN=of[" useInsertionEffect ".trim().toString()]||pt;function qr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,a,s]=pN({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:o;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const c=p.useCallback(d=>{var f;if(i){const h=mN(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else a(d)},[i,e,a,s]);return[l,c]}function pN({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),o=p.useRef(n),a=p.useRef(t);return hN(()=>{a.current=t},[t]),p.useEffect(()=>{var s;o.current!==n&&((s=a.current)==null||s.call(a,n),o.current=n)},[n,o]),[n,r,a]}function mN(e){return typeof e=="function"}var gN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=gN.reduce((e,t)=>{const n=Gr(`Primitive.${t}`),r=p.forwardRef((o,a)=>{const{asChild:s,...i}=o,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function f0(e,t){e&&Qo.flushSync(()=>e.dispatchEvent(t))}function eh(e){const t=e+"CollectionProvider",[n,r]=zn(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=w=>{const{scope:S,children:v}=w,g=Ut.useRef(null),x=Ut.useRef(new Map).current;return u.jsx(o,{scope:S,itemMap:x,collectionRef:g,children:v})};s.displayName=t;const i=e+"CollectionSlot",l=Gr(i),c=Ut.forwardRef((w,S)=>{const{scope:v,children:g}=w,x=a(i,v),E=Re(S,x.collectionRef);return u.jsx(l,{ref:E,children:g})});c.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Gr(d),m=Ut.forwardRef((w,S)=>{const{scope:v,children:g,...x}=w,E=Ut.useRef(null),M=Re(S,E),I=a(d,v);return Ut.useEffect(()=>(I.itemMap.set(E,{ref:E,...x}),()=>void I.itemMap.delete(E))),u.jsx(h,{[f]:"",ref:M,children:g})});m.displayName=d;function b(w){const S=a(e+"CollectionConsumer",w);return Ut.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((I,_)=>x.indexOf(I.ref.current)-x.indexOf(_.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:c,ItemSlot:m},b,r]}var vN=p.createContext(void 0);function Al(e){const t=p.useContext(vN);return e||t||"ltr"}function wn(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function yN(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e);p.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var xN="DismissableLayer",wd="dismissableLayer.update",bN="dismissableLayer.pointerDownOutside",wN="dismissableLayer.focusOutside",dm,h0=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:i,...l}=e,c=p.useContext(h0),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),b=Re(t,_=>f(_)),w=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=w.indexOf(S),g=d?w.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,E=g>=v,M=EN(_=>{const R=_.target,$=[...c.branches].some(D=>D.contains(R));!E||$||(o==null||o(_),s==null||s(_),_.defaultPrevented||i==null||i())},h),I=kN(_=>{const R=_.target;[...c.branches].some(D=>D.contains(R))||(a==null||a(_),s==null||s(_),_.defaultPrevented||i==null||i())},h);return yN(_=>{g===c.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&i&&(_.preventDefault(),i()))},h),p.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(dm=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),fm(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=dm)}},[d,h,n,c]),p.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),fm())},[d,c]),p.useEffect(()=>{const _=()=>m({});return document.addEventListener(wd,_),()=>document.removeEventListener(wd,_)},[]),u.jsx(pe.div,{...l,ref:b,style:{pointerEvents:x?E?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,I.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,M.onPointerDownCapture)})});jl.displayName=xN;var SN="DismissableLayerBranch",CN=p.forwardRef((e,t)=>{const n=p.useContext(h0),r=p.useRef(null),o=Re(t,r);return p.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(pe.div,{...e,ref:o})});CN.displayName=SN;function EN(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e),r=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let l=function(){p0(bN,n,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=l,t.addEventListener("click",o.current,{once:!0})):l()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kN(e,t=globalThis==null?void 0:globalThis.document){const n=wn(e),r=p.useRef(!1);return p.useEffect(()=>{const o=a=>{a.target&&!r.current&&p0(wN,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fm(){const e=new CustomEvent(wd);document.dispatchEvent(e)}function p0(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?f0(o,a):o.dispatchEvent(a)}var Bc=0;function th(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hm()),document.body.insertAdjacentElement("beforeend",e[1]??hm()),Bc++,()=>{Bc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bc--}},[])}function hm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wc="focusScope.autoFocusOnMount",Hc="focusScope.autoFocusOnUnmount",pm={bubbles:!1,cancelable:!0},_N="FocusScope",Pl=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[i,l]=p.useState(null),c=wn(o),d=wn(a),f=p.useRef(null),h=Re(t,w=>l(w)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let w=function(x){if(m.paused||!i)return;const E=x.target;i.contains(E)?f.current=E:Jn(f.current,{select:!0})},S=function(x){if(m.paused||!i)return;const E=x.relatedTarget;E!==null&&(i.contains(E)||Jn(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const M of x)M.removedNodes.length>0&&Jn(i)};document.addEventListener("focusin",w),document.addEventListener("focusout",S);const g=new MutationObserver(v);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",S),g.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){gm.add(m);const w=document.activeElement;if(!i.contains(w)){const v=new CustomEvent(Wc,pm);i.addEventListener(Wc,c),i.dispatchEvent(v),v.defaultPrevented||(NN(jN(m0(i)),{select:!0}),document.activeElement===w&&Jn(i))}return()=>{i.removeEventListener(Wc,c),setTimeout(()=>{const v=new CustomEvent(Hc,pm);i.addEventListener(Hc,d),i.dispatchEvent(v),v.defaultPrevented||Jn(w??document.body,{select:!0}),i.removeEventListener(Hc,d),gm.remove(m)},0)}}},[i,c,d,m]);const b=p.useCallback(w=>{if(!n&&!r||m.paused)return;const S=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,v=document.activeElement;if(S&&v){const g=w.currentTarget,[x,E]=RN(g);x&&E?!w.shiftKey&&v===E?(w.preventDefault(),n&&Jn(x,{select:!0})):w.shiftKey&&v===x&&(w.preventDefault(),n&&Jn(E,{select:!0})):v===g&&w.preventDefault()}},[n,r,m.paused]);return u.jsx(pe.div,{tabIndex:-1,...s,ref:h,onKeyDown:b})});Pl.displayName=_N;function NN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Jn(r,{select:t}),document.activeElement!==n)return}function RN(e){const t=m0(e),n=mm(t,e),r=mm(t.reverse(),e);return[n,r]}function m0(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mm(e,t){for(const n of e)if(!MN(n,{upTo:t}))return n}function MN(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TN(e){return e instanceof HTMLInputElement&&"select"in e}function Jn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&TN(e)&&t&&e.select()}}var gm=AN();function AN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vm(e,t),e.unshift(t)},remove(t){var n;e=vm(e,t),(n=e[0])==null||n.resume()}}}function vm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jN(e){return e.filter(t=>t.tagName!=="A")}var PN=of[" useId ".trim().toString()]||(()=>{}),IN=0;function xn(e){const[t,n]=p.useState(PN());return pt(()=>{n(r=>r??String(IN++))},[e]),t?`radix-${t}`:""}const ON=["top","right","bottom","left"],yr=Math.min,jt=Math.max,Zi=Math.round,Gs=Math.floor,bn=e=>({x:e,y:e}),LN={left:"right",right:"left",bottom:"top",top:"bottom"},DN={start:"end",end:"start"};function Sd(e,t,n){return jt(e,yr(t,n))}function $n(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function ra(e){return e.split("-")[1]}function nh(e){return e==="x"?"y":"x"}function rh(e){return e==="y"?"height":"width"}const $N=new Set(["top","bottom"]);function mn(e){return $N.has(Fn(e))?"y":"x"}function oh(e){return nh(mn(e))}function FN(e,t,n){n===void 0&&(n=!1);const r=ra(e),o=oh(e),a=rh(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Xi(s)),[s,Xi(s)]}function VN(e){const t=Xi(e);return[Cd(e),t,Cd(t)]}function Cd(e){return e.replace(/start|end/g,t=>DN[t])}const ym=["left","right"],xm=["right","left"],zN=["top","bottom"],UN=["bottom","top"];function BN(e,t,n){switch(e){case"top":case"bottom":return n?t?xm:ym:t?ym:xm;case"left":case"right":return t?zN:UN;default:return[]}}function WN(e,t,n,r){const o=ra(e);let a=BN(Fn(e),n==="start",r);return o&&(a=a.map(s=>s+"-"+o),t&&(a=a.concat(a.map(Cd)))),a}function Xi(e){return e.replace(/left|right|bottom|top/g,t=>LN[t])}function HN(e){return{top:0,right:0,bottom:0,left:0,...e}}function g0(e){return typeof e!="number"?HN(e):{top:e,right:e,bottom:e,left:e}}function Yi(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function bm(e,t,n){let{reference:r,floating:o}=e;const a=mn(t),s=oh(t),i=rh(s),l=Fn(t),c=a==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,h=r[i]/2-o[i]/2;let m;switch(l){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ra(t)){case"start":m[s]-=h*(n&&c?-1:1);break;case"end":m[s]+=h*(n&&c?-1:1);break}return m}const GN=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,i=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=bm(c,r,l),h=r,m={},b=0;for(let w=0;w<i.length;w++){const{name:S,fn:v}=i[w],{x:g,y:x,data:E,reset:M}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:o,middlewareData:m,rects:c,platform:s,elements:{reference:e,floating:t}});d=g??d,f=x??f,m={...m,[S]:{...m[S],...E}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(c=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:d,y:f}=bm(c,h,l)),w=-1)}return{x:d,y:f,placement:h,strategy:o,middlewareData:m}};async function is(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=$n(t,e),b=g0(m),S=i[h?f==="floating"?"reference":"floating":f],v=Yi(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),g=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),E=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},M=Yi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:x,strategy:l}):g);return{top:(v.top-M.top+b.top)/E.y,bottom:(M.bottom-v.bottom+b.bottom)/E.y,left:(v.left-M.left+b.left)/E.x,right:(M.right-v.right+b.right)/E.x}}const qN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:s,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=$n(e,t)||{};if(c==null)return{};const f=g0(d),h={x:n,y:r},m=oh(o),b=rh(m),w=await s.getDimensions(c),S=m==="y",v=S?"top":"left",g=S?"bottom":"right",x=S?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[m]-h[m]-a.floating[b],M=h[m]-a.reference[m],I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let _=I?I[x]:0;(!_||!await(s.isElement==null?void 0:s.isElement(I)))&&(_=i.floating[x]||a.floating[b]);const R=E/2-M/2,$=_/2-w[b]/2-1,D=yr(f[v],$),W=yr(f[g],$),K=D,V=_-w[b]-W,A=_/2-w[b]/2+R,q=Sd(K,A,V),X=!l.arrow&&ra(o)!=null&&A!==q&&a.reference[b]/2-(A<K?D:W)-w[b]/2<0,Z=X?A<K?A-K:A-V:0;return{[m]:h[m]+Z,data:{[m]:q,centerOffset:A-q-Z,...X&&{alignmentOffset:Z}},reset:X}}}),KN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:s,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...S}=$n(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Fn(o),g=mn(i),x=Fn(i)===i,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=h||(x||!w?[Xi(i)]:VN(i)),I=b!=="none";!h&&I&&M.push(...WN(i,w,b,E));const _=[i,...M],R=await is(t,S),$=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&$.push(R[v]),f){const A=FN(o,s,E);$.push(R[A[0]],R[A[1]])}if(D=[...D,{placement:o,overflows:$}],!$.every(A=>A<=0)){var W,K;const A=(((W=a.flip)==null?void 0:W.index)||0)+1,q=_[A];if(q&&(!(f==="alignment"?g!==mn(q):!1)||D.every(y=>mn(y.placement)===g?y.overflows[0]>0:!0)))return{data:{index:A,overflows:D},reset:{placement:q}};let X=(K=D.filter(Z=>Z.overflows[0]<=0).sort((Z,y)=>Z.overflows[1]-y.overflows[1])[0])==null?void 0:K.placement;if(!X)switch(m){case"bestFit":{var V;const Z=(V=D.filter(y=>{if(I){const C=mn(y.placement);return C===g||C==="y"}return!0}).map(y=>[y.placement,y.overflows.filter(C=>C>0).reduce((C,N)=>C+N,0)]).sort((y,C)=>y[1]-C[1])[0])==null?void 0:V[0];Z&&(X=Z);break}case"initialPlacement":X=i;break}if(o!==X)return{reset:{placement:X}}}return{}}}};function wm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sm(e){return ON.some(t=>e[t]>=0)}const JN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=$n(e,t);switch(r){case"referenceHidden":{const a=await is(t,{...o,elementContext:"reference"}),s=wm(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Sm(s)}}}case"escaped":{const a=await is(t,{...o,altBoundary:!0}),s=wm(a,n.floating);return{data:{escapedOffsets:s,escaped:Sm(s)}}}default:return{}}}}},v0=new Set(["left","top"]);async function ZN(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Fn(n),i=ra(n),l=mn(n)==="y",c=v0.has(s)?-1:1,d=a&&l?-1:1,f=$n(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof b=="number"&&(m=i==="end"?b*-1:b),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const XN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:s,middlewareData:i}=t,l=await ZN(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:a+l.y,data:{...l,placement:s}}}}},YN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:i={fn:S=>{let{x:v,y:g}=S;return{x:v,y:g}}},...l}=$n(e,t),c={x:n,y:r},d=await is(t,l),f=mn(Fn(o)),h=nh(f);let m=c[h],b=c[f];if(a){const S=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=m+d[S],x=m-d[v];m=Sd(g,m,x)}if(s){const S=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=b+d[S],x=b-d[v];b=Sd(g,b,x)}const w=i.fn({...t,[h]:m,[f]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[h]:a,[f]:s}}}}}},QN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=$n(e,t),d={x:n,y:r},f=mn(o),h=nh(f);let m=d[h],b=d[f];const w=$n(i,t),S=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const x=h==="y"?"height":"width",E=a.reference[h]-a.floating[x]+S.mainAxis,M=a.reference[h]+a.reference[x]-S.mainAxis;m<E?m=E:m>M&&(m=M)}if(c){var v,g;const x=h==="y"?"width":"height",E=v0.has(Fn(o)),M=a.reference[f]-a.floating[x]+(E&&((v=s.offset)==null?void 0:v[f])||0)+(E?0:S.crossAxis),I=a.reference[f]+a.reference[x]+(E?0:((g=s.offset)==null?void 0:g[f])||0)-(E?S.crossAxis:0);b<M?b=M:b>I&&(b=I)}return{[h]:m,[f]:b}}}},eR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:s,elements:i}=t,{apply:l=()=>{},...c}=$n(e,t),d=await is(t,c),f=Fn(o),h=ra(o),m=mn(o)==="y",{width:b,height:w}=a.floating;let S,v;f==="top"||f==="bottom"?(S=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(v=f,S=h==="end"?"top":"bottom");const g=w-d.top-d.bottom,x=b-d.left-d.right,E=yr(w-d[S],g),M=yr(b-d[v],x),I=!t.middlewareData.shift;let _=E,R=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=g),I&&!h){const D=jt(d.left,0),W=jt(d.right,0),K=jt(d.top,0),V=jt(d.bottom,0);m?R=b-2*(D!==0||W!==0?D+W:jt(d.left,d.right)):_=w-2*(K!==0||V!==0?K+V:jt(d.top,d.bottom))}await l({...t,availableWidth:R,availableHeight:_});const $=await s.getDimensions(i.floating);return b!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function Il(){return typeof window<"u"}function oa(e){return y0(e)?(e.nodeName||"").toLowerCase():"#document"}function Ot(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cn(e){var t;return(t=(y0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y0(e){return Il()?e instanceof Node||e instanceof Ot(e).Node:!1}function ln(e){return Il()?e instanceof Element||e instanceof Ot(e).Element:!1}function Sn(e){return Il()?e instanceof HTMLElement||e instanceof Ot(e).HTMLElement:!1}function Cm(e){return!Il()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ot(e).ShadowRoot}const tR=new Set(["inline","contents"]);function bs(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!tR.has(o)}const nR=new Set(["table","td","th"]);function rR(e){return nR.has(oa(e))}const oR=[":popover-open",":modal"];function Ol(e){return oR.some(t=>{try{return e.matches(t)}catch{return!1}})}const aR=["transform","translate","scale","rotate","perspective"],sR=["transform","translate","scale","rotate","perspective","filter"],iR=["paint","layout","strict","content"];function ah(e){const t=sh(),n=ln(e)?cn(e):e;return aR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||sR.some(r=>(n.willChange||"").includes(r))||iR.some(r=>(n.contain||"").includes(r))}function lR(e){let t=xr(e);for(;Sn(t)&&!qo(t);){if(ah(t))return t;if(Ol(t))return null;t=xr(t)}return null}function sh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cR=new Set(["html","body","#document"]);function qo(e){return cR.has(oa(e))}function cn(e){return Ot(e).getComputedStyle(e)}function Ll(e){return ln(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xr(e){if(oa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cm(e)&&e.host||Cn(e);return Cm(t)?t.host:t}function x0(e){const t=xr(e);return qo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sn(t)&&bs(t)?t:x0(t)}function ls(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=x0(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),s=Ot(o);if(a){const i=Ed(s);return t.concat(s,s.visualViewport||[],bs(o)?o:[],i&&n?ls(i):[])}return t.concat(o,ls(o,[],n))}function Ed(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function b0(e){const t=cn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Sn(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,i=Zi(n)!==a||Zi(r)!==s;return i&&(n=a,r=s),{width:n,height:r,$:i}}function ih(e){return ln(e)?e:e.contextElement}function Do(e){const t=ih(e);if(!Sn(t))return bn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=b0(t);let s=(a?Zi(n.width):n.width)/r,i=(a?Zi(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const uR=bn(0);function w0(e){const t=Ot(e);return!sh()||!t.visualViewport?uR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ot(e)?!1:t}function Kr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=ih(e);let s=bn(1);t&&(r?ln(r)&&(s=Do(r)):s=Do(e));const i=dR(a,n,r)?w0(a):bn(0);let l=(o.left+i.x)/s.x,c=(o.top+i.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(a){const h=Ot(a),m=r&&ln(r)?Ot(r):r;let b=h,w=Ed(b);for(;w&&r&&m!==b;){const S=Do(w),v=w.getBoundingClientRect(),g=cn(w),x=v.left+(w.clientLeft+parseFloat(g.paddingLeft))*S.x,E=v.top+(w.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,f*=S.y,l+=x,c+=E,b=Ot(w),w=Ed(b)}}return Yi({width:d,height:f,x:l,y:c})}function Dl(e,t){const n=Ll(e).scrollLeft;return t?t.left+n:Kr(Cn(e)).left+n}function S0(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Dl(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function fR(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",s=Cn(r),i=t?Ol(t.floating):!1;if(r===s||i&&a)return n;let l={scrollLeft:0,scrollTop:0},c=bn(1);const d=bn(0),f=Sn(r);if((f||!f&&!a)&&((oa(r)!=="body"||bs(s))&&(l=Ll(r)),Sn(r))){const m=Kr(r);c=Do(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!a?S0(s,l):bn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function hR(e){return Array.from(e.getClientRects())}function pR(e){const t=Cn(e),n=Ll(e),r=e.ownerDocument.body,o=jt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=jt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Dl(e);const i=-n.scrollTop;return cn(r).direction==="rtl"&&(s+=jt(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:s,y:i}}const Em=25;function mR(e,t){const n=Ot(e),r=Cn(e),o=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,i=0,l=0;if(o){a=o.width,s=o.height;const d=sh();(!d||d&&t==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}const c=Dl(r);if(c<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-m);b<=Em&&(a-=b)}else c<=Em&&(a+=c);return{width:a,height:s,x:i,y:l}}const gR=new Set(["absolute","fixed"]);function vR(e,t){const n=Kr(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Sn(e)?Do(e):bn(1),s=e.clientWidth*a.x,i=e.clientHeight*a.y,l=o*a.x,c=r*a.y;return{width:s,height:i,x:l,y:c}}function km(e,t,n){let r;if(t==="viewport")r=mR(e,n);else if(t==="document")r=pR(Cn(e));else if(ln(t))r=vR(t,n);else{const o=w0(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Yi(r)}function C0(e,t){const n=xr(e);return n===t||!ln(n)||qo(n)?!1:cn(n).position==="fixed"||C0(n,t)}function yR(e,t){const n=t.get(e);if(n)return n;let r=ls(e,[],!1).filter(i=>ln(i)&&oa(i)!=="body"),o=null;const a=cn(e).position==="fixed";let s=a?xr(e):e;for(;ln(s)&&!qo(s);){const i=cn(s),l=ah(s);!l&&i.position==="fixed"&&(o=null),(a?!l&&!o:!l&&i.position==="static"&&!!o&&gR.has(o.position)||bs(s)&&!l&&C0(e,s))?r=r.filter(d=>d!==s):o=i,s=xr(s)}return t.set(e,r),r}function xR(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Ol(t)?[]:yR(t,this._c):[].concat(n),r],i=s[0],l=s.reduce((c,d)=>{const f=km(t,d,o);return c.top=jt(f.top,c.top),c.right=yr(f.right,c.right),c.bottom=yr(f.bottom,c.bottom),c.left=jt(f.left,c.left),c},km(t,i,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bR(e){const{width:t,height:n}=b0(e);return{width:t,height:n}}function wR(e,t,n){const r=Sn(t),o=Cn(t),a=n==="fixed",s=Kr(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const l=bn(0);function c(){l.x=Dl(o)}if(r||!r&&!a)if((oa(t)!=="body"||bs(o))&&(i=Ll(t)),r){const m=Kr(t,!0,a,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else o&&c();a&&!r&&o&&c();const d=o&&!r&&!a?S0(o,i):bn(0),f=s.left+i.scrollLeft-l.x-d.x,h=s.top+i.scrollTop-l.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function Gc(e){return cn(e).position==="static"}function _m(e,t){if(!Sn(e)||cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cn(e)===n&&(n=n.ownerDocument.body),n}function E0(e,t){const n=Ot(e);if(Ol(e))return n;if(!Sn(e)){let o=xr(e);for(;o&&!qo(o);){if(ln(o)&&!Gc(o))return o;o=xr(o)}return n}let r=_m(e,t);for(;r&&rR(r)&&Gc(r);)r=_m(r,t);return r&&qo(r)&&Gc(r)&&!ah(r)?n:r||lR(e)||n}const SR=async function(e){const t=this.getOffsetParent||E0,n=this.getDimensions,r=await n(e.floating);return{reference:wR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function CR(e){return cn(e).direction==="rtl"}const ER={convertOffsetParentRelativeRectToViewportRelativeRect:fR,getDocumentElement:Cn,getClippingRect:xR,getOffsetParent:E0,getElementRects:SR,getClientRects:hR,getDimensions:bR,getScale:Do,isElement:ln,isRTL:CR};function k0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kR(e,t){let n=null,r;const o=Cn(e);function a(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=c;if(i||t(),!h||!m)return;const b=Gs(f),w=Gs(o.clientWidth-(d+h)),S=Gs(o.clientHeight-(f+m)),v=Gs(d),x={rootMargin:-b+"px "+-w+"px "+-S+"px "+-v+"px",threshold:jt(0,yr(1,l))||1};let E=!0;function M(I){const _=I[0].intersectionRatio;if(_!==l){if(!E)return s();_?s(!1,_):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_===1&&!k0(c,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver(M,{...x,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,x)}n.observe(e)}return s(!0),a}function _R(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ih(e),d=o||a?[...c?ls(c):[],...ls(t)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=c&&i?kR(c,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(v=>{let[g]=v;g&&g.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let b,w=l?Kr(e):null;l&&S();function S(){const v=Kr(e);w&&!k0(w,v)&&n(),w=v,b=requestAnimationFrame(S)}return n(),()=>{var v;d.forEach(g=>{o&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const NR=XN,RR=YN,MR=KN,TR=eR,AR=JN,Nm=qN,jR=QN,PR=(e,t,n)=>{const r=new Map,o={platform:ER,...n},a={...o.platform,_c:r};return GN(e,t,{...o,platform:a})};var IR=typeof document<"u",OR=function(){},vi=IR?p.useLayoutEffect:OR;function Qi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Qi(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Qi(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function _0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rm(e,t){const n=_0(e);return Math.round(t*n)/n}function qc(e){const t=p.useRef(e);return vi(()=>{t.current=e}),t}function LR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Qi(h,r)||m(r);const[b,w]=p.useState(null),[S,v]=p.useState(null),g=p.useCallback(y=>{y!==I.current&&(I.current=y,w(y))},[]),x=p.useCallback(y=>{y!==_.current&&(_.current=y,v(y))},[]),E=a||b,M=s||S,I=p.useRef(null),_=p.useRef(null),R=p.useRef(d),$=l!=null,D=qc(l),W=qc(o),K=qc(c),V=p.useCallback(()=>{if(!I.current||!_.current)return;const y={placement:t,strategy:n,middleware:h};W.current&&(y.platform=W.current),PR(I.current,_.current,y).then(C=>{const N={...C,isPositioned:K.current!==!1};A.current&&!Qi(R.current,N)&&(R.current=N,Qo.flushSync(()=>{f(N)}))})},[h,t,n,W,K]);vi(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(y=>({...y,isPositioned:!1})))},[c]);const A=p.useRef(!1);vi(()=>(A.current=!0,()=>{A.current=!1}),[]),vi(()=>{if(E&&(I.current=E),M&&(_.current=M),E&&M){if(D.current)return D.current(E,M,V);V()}},[E,M,V,D,$]);const q=p.useMemo(()=>({reference:I,floating:_,setReference:g,setFloating:x}),[g,x]),X=p.useMemo(()=>({reference:E,floating:M}),[E,M]),Z=p.useMemo(()=>{const y={position:n,left:0,top:0};if(!X.floating)return y;const C=Rm(X.floating,d.x),N=Rm(X.floating,d.y);return i?{...y,transform:"translate("+C+"px, "+N+"px)",..._0(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:N}},[n,i,X.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:V,refs:q,elements:X,floatingStyles:Z}),[d,V,q,X,Z])}const DR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Nm({element:r.current,padding:o}).fn(n):{}:r?Nm({element:r,padding:o}).fn(n):{}}}},$R=(e,t)=>({...NR(e),options:[e,t]}),FR=(e,t)=>({...RR(e),options:[e,t]}),VR=(e,t)=>({...jR(e),options:[e,t]}),zR=(e,t)=>({...MR(e),options:[e,t]}),UR=(e,t)=>({...TR(e),options:[e,t]}),BR=(e,t)=>({...AR(e),options:[e,t]}),WR=(e,t)=>({...DR(e),options:[e,t]});var HR="Arrow",N0=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return u.jsx(pe.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});N0.displayName=HR;var GR=N0;function R0(e){const[t,n]=p.useState(void 0);return pt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,i;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,i=c.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var lh="Popper",[M0,$l]=zn(lh),[qR,T0]=M0(lh),A0=e=>{const{__scopePopper:t,children:n}=e,[r,o]=p.useState(null);return u.jsx(qR,{scope:t,anchor:r,onAnchorChange:o,children:n})};A0.displayName=lh;var j0="PopperAnchor",P0=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=T0(j0,n),s=p.useRef(null),i=Re(t,s),l=p.useRef(null);return p.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||s.current,c!==l.current&&a.onAnchorChange(l.current)}),r?null:u.jsx(pe.div,{...o,ref:i})});P0.displayName=j0;var ch="PopperContent",[KR,JR]=M0(ch),I0=p.forwardRef((e,t)=>{var P,k,O,L,z,B;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:b,...w}=e,S=T0(ch,n),[v,g]=p.useState(null),x=Re(t,ee=>g(ee)),[E,M]=p.useState(null),I=R0(E),_=(I==null?void 0:I.width)??0,R=(I==null?void 0:I.height)??0,$=r+(a!=="center"?"-"+a:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(c)?c:[c],K=W.length>0,V={padding:D,boundary:W.filter(XR),altBoundary:K},{refs:A,floatingStyles:q,placement:X,isPositioned:Z,middlewareData:y}=LR({strategy:"fixed",placement:$,whileElementsMounted:(...ee)=>_R(...ee,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[$R({mainAxis:o+R,alignmentAxis:s}),l&&FR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VR():void 0,...V}),l&&zR({...V}),UR({...V,apply:({elements:ee,rects:le,availableWidth:be,availableHeight:me})=>{const{width:fe,height:ye}=le.reference,we=ee.floating.style;we.setProperty("--radix-popper-available-width",`${be}px`),we.setProperty("--radix-popper-available-height",`${me}px`),we.setProperty("--radix-popper-anchor-width",`${fe}px`),we.setProperty("--radix-popper-anchor-height",`${ye}px`)}}),E&&WR({element:E,padding:i}),YR({arrowWidth:_,arrowHeight:R}),h&&BR({strategy:"referenceHidden",...V})]}),[C,N]=D0(X),T=wn(b);pt(()=>{Z&&(T==null||T())},[Z,T]);const j=(P=y.arrow)==null?void 0:P.x,F=(k=y.arrow)==null?void 0:k.y,U=((O=y.arrow)==null?void 0:O.centerOffset)!==0,[J,G]=p.useState();return pt(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),u.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(L=y.transformOrigin)==null?void 0:L.x,(z=y.transformOrigin)==null?void 0:z.y].join(" "),...((B=y.hide)==null?void 0:B.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(KR,{scope:n,placedSide:C,onArrowChange:M,arrowX:j,arrowY:F,shouldHideArrow:U,children:u.jsx(pe.div,{"data-side":C,"data-align":N,...w,ref:x,style:{...w.style,animation:Z?void 0:"none"}})})})});I0.displayName=ch;var O0="PopperArrow",ZR={top:"bottom",right:"left",bottom:"top",left:"right"},L0=p.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=JR(O0,r),s=ZR[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(GR,{...o,ref:n,style:{...o.style,display:"block"}})})});L0.displayName=O0;function XR(e){return e!==null}var YR=e=>({name:"transformOrigin",options:e,fn(t){var S,v,g;const{placement:n,rects:r,middlewareData:o}=t,s=((S=o.arrow)==null?void 0:S.centerOffset)!==0,i=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[c,d]=D0(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=o.arrow)==null?void 0:v.x)??0)+i/2,m=(((g=o.arrow)==null?void 0:g.y)??0)+l/2;let b="",w="";return c==="bottom"?(b=s?f:`${h}px`,w=`${-l}px`):c==="top"?(b=s?f:`${h}px`,w=`${r.floating.height+l}px`):c==="right"?(b=`${-l}px`,w=s?f:`${m}px`):c==="left"&&(b=`${r.floating.width+l}px`,w=s?f:`${m}px`),{data:{x:b,y:w}}}});function D0(e){const[t,n="center"]=e.split("-");return[t,n]}var $0=A0,F0=P0,V0=I0,z0=L0,QR="Portal",Fl=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[o,a]=p.useState(!1);pt(()=>a(!0),[]);const s=n||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?BE.createPortal(u.jsx(pe.div,{...r,ref:t}),s):null});Fl.displayName=QR;function eM(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var En=e=>{const{present:t,children:n}=e,r=tM(t),o=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),a=Re(r.ref,nM(o));return typeof n=="function"||r.isPresent?p.cloneElement(o,{ref:a}):null};En.displayName="Presence";function tM(e){const[t,n]=p.useState(),r=p.useRef(null),o=p.useRef(e),a=p.useRef("none"),s=e?"mounted":"unmounted",[i,l]=eM(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=qs(r.current);a.current=i==="mounted"?c:"none"},[i]),pt(()=>{const c=r.current,d=o.current;if(d!==e){const h=a.current,m=qs(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),pt(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,f=m=>{const w=qs(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&w&&(l("ANIMATION_END"),!o.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=m=>{m.target===t&&(a.current=qs(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function qs(e){return(e==null?void 0:e.animationName)||"none"}function nM(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kc="rovingFocusGroup.onEntryFocus",rM={bubbles:!1,cancelable:!0},ws="RovingFocusGroup",[kd,U0,oM]=eh(ws),[aM,Vl]=zn(ws,[oM]),[sM,iM]=aM(ws),B0=p.forwardRef((e,t)=>u.jsx(kd.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(kd.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(lM,{...e,ref:t})})}));B0.displayName=ws;var lM=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Re(t,h),b=Al(a),[w,S]=qr({prop:s,defaultProp:i??null,onChange:l,caller:ws}),[v,g]=p.useState(!1),x=wn(c),E=U0(n),M=p.useRef(!1),[I,_]=p.useState(0);return p.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Kc,x),()=>R.removeEventListener(Kc,x)},[x]),u.jsx(sM,{scope:n,orientation:r,dir:b,loop:o,currentTabStopId:w,onItemFocus:p.useCallback(R=>S(R),[S]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>_(R=>R-1),[]),children:u.jsx(pe.div,{tabIndex:v||I===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{M.current=!0}),onFocus:ie(e.onFocus,R=>{const $=!M.current;if(R.target===R.currentTarget&&$&&!v){const D=new CustomEvent(Kc,rM);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const W=E().filter(X=>X.focusable),K=W.find(X=>X.active),V=W.find(X=>X.id===w),q=[K,V,...W].filter(Boolean).map(X=>X.ref.current);G0(q,d)}}M.current=!1}),onBlur:ie(e.onBlur,()=>g(!1))})})}),W0="RovingFocusGroupItem",H0=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,children:s,...i}=e,l=xn(),c=a||l,d=iM(W0,n),f=d.currentTabStopId===c,h=U0(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:w}=d;return p.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),u.jsx(kd.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:u.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ie(e.onMouseDown,S=>{r?d.onItemFocus(c):S.preventDefault()}),onFocus:ie(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:ie(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const v=dM(S,d.orientation,d.dir);if(v!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let x=h().filter(E=>E.focusable).map(E=>E.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const E=x.indexOf(S.currentTarget);x=d.loop?fM(x,E+1):x.slice(E+1)}setTimeout(()=>G0(x))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:w!=null}):s})})});H0.displayName=W0;var cM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function uM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dM(e,t,n){const r=uM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cM[r]}function G0(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function fM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var q0=B0,K0=H0,hM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},co=new WeakMap,Ks=new WeakMap,Js={},Jc=0,J0=function(e){return e&&(e.host||J0(e.parentNode))},pM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=J0(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},mM=function(e,t,n,r){var o=pM(t,Array.isArray(e)?e:[e]);Js[n]||(Js[n]=new WeakMap);var a=Js[n],s=[],i=new Set,l=new Set(o),c=function(f){!f||i.has(f)||(i.add(f),c(f.parentNode))};o.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var m=h.getAttribute(r),b=m!==null&&m!=="false",w=(co.get(h)||0)+1,S=(a.get(h)||0)+1;co.set(h,w),a.set(h,S),s.push(h),w===1&&b&&Ks.set(h,!0),S===1&&h.setAttribute(n,"true"),b||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),i.clear(),Jc++,function(){s.forEach(function(f){var h=co.get(f)-1,m=a.get(f)-1;co.set(f,h),a.set(f,m),h||(Ks.has(f)||f.removeAttribute(r),Ks.delete(f)),m||f.removeAttribute(n)}),Jc--,Jc||(co=new WeakMap,co=new WeakMap,Ks=new WeakMap,Js={})}},uh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=hM(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),mM(r,o,n,"aria-hidden")):function(){return null}},pn=function(){return pn=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pn.apply(this,arguments)};function Z0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function gM(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var yi="right-scroll-bar-position",xi="width-before-scroll-bar",vM="with-scroll-bars-hidden",yM="--removed-body-scroll-bar-size";function Zc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xM(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var bM=typeof window<"u"?p.useLayoutEffect:p.useEffect,Mm=new WeakMap;function wM(e,t){var n=xM(null,function(r){return e.forEach(function(o){return Zc(o,r)})});return bM(function(){var r=Mm.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(i){a.has(i)||Zc(i,null)}),a.forEach(function(i){o.has(i)||Zc(i,s)})}Mm.set(n,e)},[e]),n}function SM(e){return e}function CM(e,t){t===void 0&&(t=SM);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return o}function EM(e){e===void 0&&(e={});var t=CM(null);return t.options=pn({async:!0,ssr:!1},e),t}var X0=function(e){var t=e.sideCar,n=Z0(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,pn({},n))};X0.isSideCarExport=!0;function kM(e,t){return e.useMedium(t),X0}var Y0=EM(),Xc=function(){},zl=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Xc,onWheelCapture:Xc,onTouchMoveCapture:Xc}),o=r[0],a=r[1],s=e.forwardProps,i=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,b=e.noIsolation,w=e.inert,S=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,x=e.gapMode,E=Z0(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=h,I=wM([n,t]),_=pn(pn({},E),o);return p.createElement(p.Fragment,null,d&&p.createElement(M,{sideCar:Y0,removeScrollBar:c,shards:f,noRelative:m,noIsolation:b,inert:w,setCallbacks:a,allowPinchZoom:!!S,lockRef:n,gapMode:x}),s?p.cloneElement(p.Children.only(i),pn(pn({},_),{ref:I})):p.createElement(g,pn({},_,{className:l,ref:I}),i))});zl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zl.classNames={fullWidth:xi,zeroRight:yi};var _M=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_M();return t&&e.setAttribute("nonce",t),e}function RM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=NM())&&(RM(t,n),MM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},AM=function(){var e=TM();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Q0=function(){var e=AM(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},jM={left:0,top:0,right:0,gap:0},Yc=function(e){return parseInt(e||"",10)||0},PM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Yc(n),Yc(r),Yc(o)]},IM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jM;var t=PM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},OM=Q0(),$o="data-scroll-locked",LM=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(vM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat($o,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yi,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(xi,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(yi," .").concat(yi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(xi," .").concat(xi,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($o,`] {
    `).concat(yM,": ").concat(i,`px;
  }
`)},Tm=function(){var e=parseInt(document.body.getAttribute($o)||"0",10);return isFinite(e)?e:0},DM=function(){p.useEffect(function(){return document.body.setAttribute($o,(Tm()+1).toString()),function(){var e=Tm()-1;e<=0?document.body.removeAttribute($o):document.body.setAttribute($o,e.toString())}},[])},$M=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;DM();var a=p.useMemo(function(){return IM(o)},[o]);return p.createElement(OM,{styles:LM(a,!t,o,n?"":"!important")})},_d=!1;if(typeof window<"u")try{var Zs=Object.defineProperty({},"passive",{get:function(){return _d=!0,!0}});window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{_d=!1}var uo=_d?{passive:!1}:!1,FM=function(e){return e.tagName==="TEXTAREA"},ex=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FM(e)&&n[t]==="visible")},VM=function(e){return ex(e,"overflowY")},zM=function(e){return ex(e,"overflowX")},Am=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=tx(e,r);if(o){var a=nx(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},BM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},tx=function(e,t){return e==="v"?VM(t):zM(t)},nx=function(e,t){return e==="v"?UM(t):BM(t)},WM=function(e,t){return e==="h"&&t==="rtl"?-1:1},HM=function(e,t,n,r,o){var a=WM(e,window.getComputedStyle(t).direction),s=a*r,i=n.target,l=t.contains(i),c=!1,d=s>0,f=0,h=0;do{if(!i)break;var m=nx(e,i),b=m[0],w=m[1],S=m[2],v=w-S-a*b;(b||v)&&tx(e,i)&&(f+=v,h+=b);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&(Math.abs(f)<1||!o)||!d&&(Math.abs(h)<1||!o))&&(c=!0),c},Xs=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},jm=function(e){return[e.deltaX,e.deltaY]},Pm=function(e){return e&&"current"in e?e.current:e},GM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KM=0,fo=[];function JM(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),o=p.useState(KM++)[0],a=p.useState(Q0)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=gM([e.lockRef.current],(e.shards||[]).map(Pm),!0).filter(Boolean);return w.forEach(function(S){return S.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(w,S){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!s.current.allowPinchZoom;var v=Xs(w),g=n.current,x="deltaX"in w?w.deltaX:g[0]-v[0],E="deltaY"in w?w.deltaY:g[1]-v[1],M,I=w.target,_=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in w&&_==="h"&&I.type==="range")return!1;var R=Am(_,I);if(!R)return!0;if(R?M=_:(M=_==="v"?"h":"v",R=Am(_,I)),!R)return!1;if(!r.current&&"changedTouches"in w&&(x||E)&&(r.current=M),!M)return!0;var $=r.current||M;return HM($,S,w,$==="h"?x:E,!0)},[]),l=p.useCallback(function(w){var S=w;if(!(!fo.length||fo[fo.length-1]!==a)){var v="deltaY"in S?jm(S):Xs(S),g=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&GM(M.delta,v)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var x=(s.current.shards||[]).map(Pm).filter(Boolean).filter(function(M){return M.contains(S.target)}),E=x.length>0?i(S,x[0]):!s.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),c=p.useCallback(function(w,S,v,g){var x={name:w,delta:S,target:v,should:g,shadowParent:ZM(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),d=p.useCallback(function(w){n.current=Xs(w),r.current=void 0},[]),f=p.useCallback(function(w){c(w.type,jm(w),w.target,i(w,e.lockRef.current))},[]),h=p.useCallback(function(w){c(w.type,Xs(w),w.target,i(w,e.lockRef.current))},[]);p.useEffect(function(){return fo.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,uo),document.addEventListener("touchmove",l,uo),document.addEventListener("touchstart",d,uo),function(){fo=fo.filter(function(w){return w!==a}),document.removeEventListener("wheel",l,uo),document.removeEventListener("touchmove",l,uo),document.removeEventListener("touchstart",d,uo)}},[]);var m=e.removeScrollBar,b=e.inert;return p.createElement(p.Fragment,null,b?p.createElement(a,{styles:qM(o)}):null,m?p.createElement($M,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ZM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XM=kM(Y0,JM);var Ul=p.forwardRef(function(e,t){return p.createElement(zl,pn({},e,{ref:t,sideCar:XM}))});Ul.classNames=zl.classNames;var Nd=["Enter"," "],YM=["ArrowDown","PageUp","Home"],rx=["ArrowUp","PageDown","End"],QM=[...YM,...rx],eT={ltr:[...Nd,"ArrowRight"],rtl:[...Nd,"ArrowLeft"]},tT={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ss="Menu",[cs,nT,rT]=eh(Ss),[oo,ox]=zn(Ss,[rT,$l,Vl]),Bl=$l(),ax=Vl(),[oT,ao]=oo(Ss),[aT,Cs]=oo(Ss),sx=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:s=!0}=e,i=Bl(t),[l,c]=p.useState(null),d=p.useRef(!1),f=wn(a),h=Al(o);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),u.jsx($0,{...i,children:u.jsx(oT,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(aT,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};sx.displayName=Ss;var sT="MenuAnchor",dh=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bl(n);return u.jsx(F0,{...o,...r,ref:t})});dh.displayName=sT;var fh="MenuPortal",[iT,ix]=oo(fh,{forceMount:void 0}),lx=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=ao(fh,t);return u.jsx(iT,{scope:t,forceMount:n,children:u.jsx(En,{present:n||a.open,children:u.jsx(Fl,{asChild:!0,container:o,children:r})})})};lx.displayName=fh;var qt="MenuContent",[lT,hh]=oo(qt),cx=p.forwardRef((e,t)=>{const n=ix(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=ao(qt,e.__scopeMenu),s=Cs(qt,e.__scopeMenu);return u.jsx(cs.Provider,{scope:e.__scopeMenu,children:u.jsx(En,{present:r||a.open,children:u.jsx(cs.Slot,{scope:e.__scopeMenu,children:s.modal?u.jsx(cT,{...o,ref:t}):u.jsx(uT,{...o,ref:t})})})})}),cT=p.forwardRef((e,t)=>{const n=ao(qt,e.__scopeMenu),r=p.useRef(null),o=Re(t,r);return p.useEffect(()=>{const a=r.current;if(a)return uh(a)},[]),u.jsx(ph,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),uT=p.forwardRef((e,t)=>{const n=ao(qt,e.__scopeMenu);return u.jsx(ph,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),dT=Gr("MenuContent.ScrollLock"),ph=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:b,...w}=e,S=ao(qt,n),v=Cs(qt,n),g=Bl(n),x=ax(n),E=nT(n),[M,I]=p.useState(null),_=p.useRef(null),R=Re(t,_,S.onContentChange),$=p.useRef(0),D=p.useRef(""),W=p.useRef(0),K=p.useRef(null),V=p.useRef("right"),A=p.useRef(0),q=b?Ul:p.Fragment,X=b?{as:dT,allowPinchZoom:!0}:void 0,Z=C=>{var P,k;const N=D.current+C,T=E().filter(O=>!O.disabled),j=document.activeElement,F=(P=T.find(O=>O.ref.current===j))==null?void 0:P.textValue,U=T.map(O=>O.textValue),J=CT(U,N,F),G=(k=T.find(O=>O.textValue===J))==null?void 0:k.ref.current;(function O(L){D.current=L,window.clearTimeout($.current),L!==""&&($.current=window.setTimeout(()=>O(""),1e3))})(N),G&&setTimeout(()=>G.focus())};p.useEffect(()=>()=>window.clearTimeout($.current),[]),th();const y=p.useCallback(C=>{var T,j;return V.current===((T=K.current)==null?void 0:T.side)&&kT(C,(j=K.current)==null?void 0:j.area)},[]);return u.jsx(lT,{scope:n,searchRef:D,onItemEnter:p.useCallback(C=>{y(C)&&C.preventDefault()},[y]),onItemLeave:p.useCallback(C=>{var N;y(C)||((N=_.current)==null||N.focus(),I(null))},[y]),onTriggerLeave:p.useCallback(C=>{y(C)&&C.preventDefault()},[y]),pointerGraceTimerRef:W,onPointerGraceIntentChange:p.useCallback(C=>{K.current=C},[]),children:u.jsx(q,{...X,children:u.jsx(Pl,{asChild:!0,trapped:o,onMountAutoFocus:ie(a,C=>{var N;C.preventDefault(),(N=_.current)==null||N.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:u.jsx(jl,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:u.jsx(q0,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:I,onEntryFocus:ie(l,C=>{v.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(V0,{role:"menu","aria-orientation":"vertical","data-state":kx(S.open),"data-radix-menu-content":"",dir:v.dir,...g,...w,ref:R,style:{outline:"none",...w.style},onKeyDown:ie(w.onKeyDown,C=>{const T=C.target.closest("[data-radix-menu-content]")===C.currentTarget,j=C.ctrlKey||C.altKey||C.metaKey,F=C.key.length===1;T&&(C.key==="Tab"&&C.preventDefault(),!j&&F&&Z(C.key));const U=_.current;if(C.target!==U||!QM.includes(C.key))return;C.preventDefault();const G=E().filter(P=>!P.disabled).map(P=>P.ref.current);rx.includes(C.key)&&G.reverse(),wT(G)}),onBlur:ie(e.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout($.current),D.current="")}),onPointerMove:ie(e.onPointerMove,us(C=>{const N=C.target,T=A.current!==C.clientX;if(C.currentTarget.contains(N)&&T){const j=C.clientX>A.current?"right":"left";V.current=j,A.current=C.clientX}}))})})})})})})});cx.displayName=qt;var fT="MenuGroup",mh=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(pe.div,{role:"group",...r,ref:t})});mh.displayName=fT;var hT="MenuLabel",ux=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(pe.div,{...r,ref:t})});ux.displayName=hT;var el="MenuItem",Im="menu.itemSelect",Wl=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=p.useRef(null),s=Cs(el,e.__scopeMenu),i=hh(el,e.__scopeMenu),l=Re(t,a),c=p.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(Im,{bubbles:!0,cancelable:!0});f.addEventListener(Im,m=>r==null?void 0:r(m),{once:!0}),f0(f,h),h.defaultPrevented?c.current=!1:s.onClose()}};return u.jsx(dx,{...o,ref:l,disabled:n,onClick:ie(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),c.current=!0},onPointerUp:ie(e.onPointerUp,f=>{var h;c.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ie(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||Nd.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wl.displayName=el;var dx=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,s=hh(el,n),i=ax(n),l=p.useRef(null),c=Re(t,l),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const b=l.current;b&&m((b.textContent??"").trim())},[a.children]),u.jsx(cs.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:u.jsx(K0,{asChild:!0,...i,focusable:!r,children:u.jsx(pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:c,onPointerMove:ie(e.onPointerMove,us(b=>{r?s.onItemLeave(b):(s.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(e.onPointerLeave,us(b=>s.onItemLeave(b))),onFocus:ie(e.onFocus,()=>f(!0)),onBlur:ie(e.onBlur,()=>f(!1))})})})}),pT="MenuCheckboxItem",fx=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return u.jsx(vx,{scope:e.__scopeMenu,checked:n,children:u.jsx(Wl,{role:"menuitemcheckbox","aria-checked":tl(n)?"mixed":n,...o,ref:t,"data-state":vh(n),onSelect:ie(o.onSelect,()=>r==null?void 0:r(tl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fx.displayName=pT;var hx="MenuRadioGroup",[mT,gT]=oo(hx,{value:void 0,onValueChange:()=>{}}),px=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,a=wn(r);return u.jsx(mT,{scope:e.__scopeMenu,value:n,onValueChange:a,children:u.jsx(mh,{...o,ref:t})})});px.displayName=hx;var mx="MenuRadioItem",gx=p.forwardRef((e,t)=>{const{value:n,...r}=e,o=gT(mx,e.__scopeMenu),a=n===o.value;return u.jsx(vx,{scope:e.__scopeMenu,checked:a,children:u.jsx(Wl,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":vh(a),onSelect:ie(r.onSelect,()=>{var s;return(s=o.onValueChange)==null?void 0:s.call(o,n)},{checkForDefaultPrevented:!1})})})});gx.displayName=mx;var gh="MenuItemIndicator",[vx,vT]=oo(gh,{checked:!1}),yx=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,a=vT(gh,n);return u.jsx(En,{present:r||tl(a.checked)||a.checked===!0,children:u.jsx(pe.span,{...o,ref:t,"data-state":vh(a.checked)})})});yx.displayName=gh;var yT="MenuSeparator",xx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return u.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});xx.displayName=yT;var xT="MenuArrow",bx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Bl(n);return u.jsx(z0,{...o,...r,ref:t})});bx.displayName=xT;var bT="MenuSub",[AL,wx]=oo(bT),Ra="MenuSubTrigger",Sx=p.forwardRef((e,t)=>{const n=ao(Ra,e.__scopeMenu),r=Cs(Ra,e.__scopeMenu),o=wx(Ra,e.__scopeMenu),a=hh(Ra,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=a,c={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),l(null)}},[i,l]),u.jsx(dh,{asChild:!0,...c,children:u.jsx(dx,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":kx(n.open),...e,ref:Ml(t,o.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(e.onPointerMove,us(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(e.onPointerLeave,us(f=>{var m,b;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const w=(b=n.content)==null?void 0:b.dataset.side,S=w==="right",v=S?-5:5,g=h[S?"left":"right"],x=h[S?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:g,y:h.bottom}],side:w}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ie(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||eT[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});Sx.displayName=Ra;var Cx="MenuSubContent",Ex=p.forwardRef((e,t)=>{const n=ix(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=ao(qt,e.__scopeMenu),s=Cs(qt,e.__scopeMenu),i=wx(Cx,e.__scopeMenu),l=p.useRef(null),c=Re(t,l);return u.jsx(cs.Provider,{scope:e.__scopeMenu,children:u.jsx(En,{present:r||a.open,children:u.jsx(cs.Slot,{scope:e.__scopeMenu,children:u.jsx(ph,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(e.onFocusOutside,d=>{d.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ie(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:ie(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=tT[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=i.trigger)==null||m.focus(),d.preventDefault())})})})})})});Ex.displayName=Cx;function kx(e){return e?"open":"closed"}function tl(e){return e==="indeterminate"}function vh(e){return tl(e)?"indeterminate":e?"checked":"unchecked"}function wT(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ST(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function CT(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=ST(e,Math.max(a,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function ET(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const i=t[a],l=t[s],c=i.x,d=i.y,f=l.x,h=l.y;d>r!=h>r&&n<(f-c)*(r-d)/(h-d)+c&&(o=!o)}return o}function kT(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ET(n,t)}function us(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _T=sx,NT=dh,RT=lx,MT=cx,TT=mh,AT=ux,jT=Wl,PT=fx,IT=px,OT=gx,LT=yx,DT=xx,$T=bx,FT=Sx,VT=Ex,Hl="DropdownMenu",[zT,jL]=zn(Hl,[ox]),wt=ox(),[UT,_x]=zT(Hl),Nx=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=wt(t),c=p.useRef(null),[d,f]=qr({prop:o,defaultProp:a??!1,onChange:s,caller:Hl});return u.jsx(UT,{scope:t,triggerId:xn(),triggerRef:c,contentId:xn(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:u.jsx(_T,{...l,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};Nx.displayName=Hl;var Rx="DropdownMenuTrigger",Mx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=_x(Rx,n),s=wt(n);return u.jsx(NT,{asChild:!0,...s,children:u.jsx(pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Ml(t,a.triggerRef),onPointerDown:ie(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(a.onOpenToggle(),a.open||i.preventDefault())}),onKeyDown:ie(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&a.onOpenToggle(),i.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});Mx.displayName=Rx;var BT="DropdownMenuPortal",Tx=e=>{const{__scopeDropdownMenu:t,...n}=e,r=wt(t);return u.jsx(RT,{...r,...n})};Tx.displayName=BT;var Ax="DropdownMenuContent",jx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=_x(Ax,n),a=wt(n),s=p.useRef(!1);return u.jsx(MT,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...r,ref:t,onCloseAutoFocus:ie(e.onCloseAutoFocus,i=>{var l;s.current||(l=o.triggerRef.current)==null||l.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:ie(e.onInteractOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jx.displayName=Ax;var WT="DropdownMenuGroup",HT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(TT,{...o,...r,ref:t})});HT.displayName=WT;var GT="DropdownMenuLabel",Px=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(AT,{...o,...r,ref:t})});Px.displayName=GT;var qT="DropdownMenuItem",Ix=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(jT,{...o,...r,ref:t})});Ix.displayName=qT;var KT="DropdownMenuCheckboxItem",Ox=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(PT,{...o,...r,ref:t})});Ox.displayName=KT;var JT="DropdownMenuRadioGroup",ZT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(IT,{...o,...r,ref:t})});ZT.displayName=JT;var XT="DropdownMenuRadioItem",Lx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(OT,{...o,...r,ref:t})});Lx.displayName=XT;var YT="DropdownMenuItemIndicator",Dx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(LT,{...o,...r,ref:t})});Dx.displayName=YT;var QT="DropdownMenuSeparator",$x=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(DT,{...o,...r,ref:t})});$x.displayName=QT;var eA="DropdownMenuArrow",tA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx($T,{...o,...r,ref:t})});tA.displayName=eA;var nA="DropdownMenuSubTrigger",Fx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(FT,{...o,...r,ref:t})});Fx.displayName=nA;var rA="DropdownMenuSubContent",Vx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=wt(n);return u.jsx(VT,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vx.displayName=rA;var oA=Nx,aA=Mx,sA=Tx,zx=jx,Ux=Px,Bx=Ix,Wx=Ox,Hx=Lx,Gx=Dx,qx=$x,Kx=Fx,Jx=Vx;const iA=oA,lA=aA,cA=p.forwardRef(({className:e,inset:t,children:n,...r},o)=>u.jsxs(Kx,{ref:o,className:he("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,u.jsx(Ji,{className:"ml-auto h-4 w-4"})]}));cA.displayName=Kx.displayName;const uA=p.forwardRef(({className:e,...t},n)=>u.jsx(Jx,{ref:n,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uA.displayName=Jx.displayName;const Zx=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>u.jsx(sA,{children:u.jsx(zx,{ref:r,sideOffset:t,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Zx.displayName=zx.displayName;const bi=p.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(Bx,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));bi.displayName=Bx.displayName;const dA=p.forwardRef(({className:e,children:t,checked:n,...r},o)=>u.jsxs(Wx,{ref:o,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Gx,{children:u.jsx(Lo,{className:"h-4 w-4"})})}),t]}));dA.displayName=Wx.displayName;const fA=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(Hx,{ref:r,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Gx,{children:u.jsx(t_,{className:"h-2 w-2 fill-current"})})}),t]}));fA.displayName=Hx.displayName;const hA=p.forwardRef(({className:e,inset:t,...n},r)=>u.jsx(Ux,{ref:r,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));hA.displayName=Ux.displayName;const pA=p.forwardRef(({className:e,...t},n)=>u.jsx(qx,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));pA.displayName=qx.displayName;const mA=()=>{const{theme:e,setTheme:t,isDark:n}=E_();return u.jsxs(iA,{children:[u.jsx(lA,{asChild:!0,children:u.jsx(dt,{variant:"ghost",size:"icon","aria-label":"Toggle theme",children:n?u.jsx(nm,{className:"h-5 w-5"}):u.jsx(rm,{className:"h-5 w-5"})})}),u.jsxs(Zx,{align:"end",children:[u.jsxs(bi,{onClick:()=>t("light"),children:[u.jsx(rm,{className:"mr-2 h-4 w-4"}),"Light",e==="light"&&u.jsx(Lo,{className:"ml-auto h-4 w-4"})]}),u.jsxs(bi,{onClick:()=>t("dark"),children:[u.jsx(nm,{className:"mr-2 h-4 w-4"}),"Dark",e==="dark"&&u.jsx(Lo,{className:"ml-auto h-4 w-4"})]}),u.jsxs(bi,{onClick:()=>t("system"),children:[u.jsx(l_,{className:"mr-2 h-4 w-4"}),"System",e==="system"&&u.jsx(Lo,{className:"ml-auto h-4 w-4"})]})]})]})},gA=()=>u.jsx("nav",{className:"bg-blue-600 dark:bg-gray-800 text-white shadow-lg transition-colors",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx(Oo,{className:"text-xl font-bold hover:text-blue-200 dark:hover:text-blue-400 transition-colors",to:"/",children:"OCPP ChargePoint Simulator"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("ul",{className:"flex space-x-4",children:[u.jsx("li",{children:u.jsx(Oo,{className:"hover:text-blue-200 dark:hover:text-blue-400 transition-colors",to:"/",children:"ChargePoint"})}),u.jsx("li",{children:u.jsx(Oo,{className:"hover:text-blue-200 dark:hover:text-blue-400 transition-colors",to:"/settings",children:"Settings"})})]}),u.jsx(mA,{})]})]})})}),Rd=p.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:he("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Rd.displayName="Card";const Xx=p.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:he("flex flex-col space-y-1.5 p-6",e),...t}));Xx.displayName="CardHeader";const Yx=p.forwardRef(({className:e,...t},n)=>u.jsx("h3",{ref:n,className:he("font-semibold leading-none tracking-tight",e),...t}));Yx.displayName="CardTitle";const vA=p.forwardRef(({className:e,...t},n)=>u.jsx("p",{ref:n,className:he("text-sm text-muted-foreground",e),...t}));vA.displayName="CardDescription";const Md=p.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:he("p-6 pt-0",e),...t}));Md.displayName="CardContent";const yA=p.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:he("flex items-center p-6 pt-0",e),...t}));yA.displayName="CardFooter";const Qx=p.forwardRef(({className:e,...t},n)=>u.jsx("textarea",{className:he("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Qx.displayName="Textarea";const xA=Tl("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Td=p.forwardRef(({className:e,variant:t,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:he(xA({variant:t}),e),...n}));Td.displayName="Alert";const bA=p.forwardRef(({className:e,...t},n)=>u.jsx("h5",{ref:n,className:he("mb-1 font-medium leading-none tracking-tight",e),...t}));bA.displayName="AlertTitle";const Ad=p.forwardRef(({className:e,...t},n)=>u.jsx("div",{ref:n,className:he("text-sm [&_p]:leading-relaxed",e),...t}));Ad.displayName="AlertDescription";const Ma={BASE_URL:"/ocpp-cp-simulator",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/ocpp-cp-simulator"},Om=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Lm=e=>"init"in e,Qc=e=>!!e.write,Dm=e=>"v"in e||"e"in e,Ys=e=>{if("e"in e)throw e.e;if((Ma?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},nl=new WeakMap,$m=e=>{var t;return rl(e)&&!!((t=nl.get(e))!=null&&t[0])},wA=e=>{const t=nl.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},eb=(e,t)=>{let n=nl.get(e);if(!n){n=[!0,new Set],nl.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},rl=e=>typeof(e==null?void 0:e.then)=="function",tb=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},eu=(e,t,n)=>{const r=n(e),o="v"in r,a=r.v;if(rl(t))for(const s of r.d.keys())tb(e,t,n(s));r.v=t,delete r.e,(!o||!Object.is(a,r.v))&&(++r.n,rl(a)&&wA(a))},Fm=(e,t,n)=>{var r;const o=new Set;for(const a of((r=n.get(e))==null?void 0:r.t)||[])n.has(a)&&o.add(a);for(const a of t.p)o.add(a);return o},SA=()=>{const e=new Set,t=()=>{e.forEach(n=>n())};return t.add=n=>(e.add(n),()=>{e.delete(n)}),t},tu=()=>{const e={},t=new WeakMap,n=r=>{var o,a;(o=t.get(e))==null||o.forEach(s=>s(r)),(a=t.get(r))==null||a.forEach(s=>s())};return n.add=(r,o)=>{const a=r||e,s=(t.has(a)?t:t.set(a,new Set)).get(a);return s.add(o),()=>{s==null||s.delete(o),s.size||t.delete(a)}},n},CA=e=>(e.c||(e.c=tu()),e.m||(e.m=tu()),e.u||(e.u=tu()),e.f||(e.f=SA()),e),EA=Symbol(),kA=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,o=new Set,a=new Set,s={},i=(h,...m)=>h.read(...m),l=(h,...m)=>h.write(...m),c=(h,m)=>{var b;return(b=h.unstable_onInit)==null?void 0:b.call(h,m)},d=(h,m)=>{var b;return(b=h.onMount)==null?void 0:b.call(h,m)},...f)=>{const h=f[0]||(_=>{if((Ma?"production":void 0)!=="production"&&!_)throw new Error("Atom is undefined or null");let R=e.get(_);return R||(R={d:new Map,p:new Set,n:0},e.set(_,R),c==null||c(_,I)),R}),m=f[1]||(()=>{const _=[],R=$=>{try{$()}catch(D){_.push(D)}};do{s.f&&R(s.f);const $=new Set,D=$.add.bind($);r.forEach(W=>{var K;return(K=t.get(W))==null?void 0:K.l.forEach(D)}),r.clear(),a.forEach(D),a.clear(),o.forEach(D),o.clear(),$.forEach(R),r.size&&b()}while(r.size||a.size||o.size);if(_.length)throw new AggregateError(_)}),b=f[2]||(()=>{const _=[],R=new WeakSet,$=new WeakSet,D=Array.from(r);for(;D.length;){const W=D[D.length-1],K=h(W);if($.has(W)){D.pop();continue}if(R.has(W)){if(n.get(W)===K.n)_.push([W,K]);else if((Ma?"production":void 0)!=="production"&&n.has(W))throw new Error("[Bug] invalidated atom exists");$.add(W),D.pop();continue}R.add(W);for(const V of Fm(W,K,t))R.has(V)||D.push(V)}for(let W=_.length-1;W>=0;--W){const[K,V]=_[W];let A=!1;for(const q of V.d.keys())if(q!==K&&r.has(q)){A=!0;break}A&&(w(K),g(K)),n.delete(K)}}),w=f[3]||(_=>{var R;const $=h(_);if(Dm($)&&(t.has(_)&&n.get(_)!==$.n||Array.from($.d).every(([Z,y])=>w(Z).n===y)))return $;$.d.clear();let D=!0;const W=()=>{t.has(_)&&(g(_),b(),m())},K=Z=>{var y;if(Om(_,Z)){const N=h(Z);if(!Dm(N))if(Lm(Z))eu(Z,Z.init,h);else throw new Error("no atom init");return Ys(N)}const C=w(Z);try{return Ys(C)}finally{$.d.set(Z,C.n),$m($.v)&&tb(_,$.v,C),(y=t.get(Z))==null||y.t.add(_),D||W()}};let V,A;const q={get signal(){return V||(V=new AbortController),V.signal},get setSelf(){return(Ma?"production":void 0)!=="production"&&!Qc(_)&&console.warn("setSelf function cannot be used with read-only atom"),!A&&Qc(_)&&(A=(...Z)=>{if((Ma?"production":void 0)!=="production"&&D&&console.warn("setSelf function cannot be called in sync"),!D)try{return v(_,...Z)}finally{b(),m()}}),A}},X=$.n;try{const Z=i(_,K,q);return eu(_,Z,h),rl(Z)&&(eb(Z,()=>V==null?void 0:V.abort()),Z.then(W,W)),$}catch(Z){return delete $.v,$.e=Z,++$.n,$}finally{D=!1,X!==$.n&&n.get(_)===X&&(n.set(_,$.n),r.add(_),(R=s.c)==null||R.call(s,_))}}),S=f[4]||(_=>{const R=[_];for(;R.length;){const $=R.pop(),D=h($);for(const W of Fm($,D,t)){const K=h(W);n.set(W,K.n),R.push(W)}}}),v=f[5]||((_,...R)=>{let $=!0;const D=K=>Ys(w(K)),W=(K,...V)=>{var A;const q=h(K);try{if(Om(_,K)){if(!Lm(K))throw new Error("atom not writable");const X=q.n,Z=V[0];eu(K,Z,h),g(K),X!==q.n&&(r.add(K),(A=s.c)==null||A.call(s,K),S(K));return}else return v(K,...V)}finally{$||(b(),m())}};try{return l(_,D,W,...R)}finally{$=!1}}),g=f[6]||(_=>{var R;const $=h(_),D=t.get(_);if(D&&!$m($.v)){for(const[W,K]of $.d)if(!D.d.has(W)){const V=h(W);x(W).t.add(_),D.d.add(W),K!==V.n&&(r.add(W),(R=s.c)==null||R.call(s,W),S(W))}for(const W of D.d||[])if(!$.d.has(W)){D.d.delete(W);const K=E(W);K==null||K.t.delete(_)}}}),x=f[7]||(_=>{var R;const $=h(_);let D=t.get(_);if(!D){w(_);for(const W of $.d.keys())x(W).t.add(_);if(D={l:new Set,d:new Set($.d.keys()),t:new Set},t.set(_,D),(R=s.m)==null||R.call(s,_),Qc(_)){const W=()=>{let K=!0;const V=(...A)=>{try{return v(_,...A)}finally{K||(b(),m())}};try{const A=d(_,V);A&&(D.u=()=>{K=!0;try{A()}finally{K=!1}})}finally{K=!1}};o.add(W)}}return D}),E=f[8]||(_=>{var R;const $=h(_);let D=t.get(_);if(D&&!D.l.size&&!Array.from(D.t).some(W=>{var K;return(K=t.get(W))==null?void 0:K.d.has(_)})){D.u&&a.add(D.u),D=void 0,t.delete(_),(R=s.u)==null||R.call(s,_);for(const W of $.d.keys()){const K=E(W);K==null||K.t.delete(_)}return}return D}),M=[e,t,n,r,o,a,s,i,l,c,d,h,m,b,w,S,v,g,x,E],I={get:_=>Ys(w(_)),set:(_,...R)=>{try{return v(_,...R)}finally{b(),m()}},sub:(_,R)=>{const D=x(_).l;return D.add(R),m(),()=>{D.delete(R),E(_),m()}}};return Object.defineProperty(I,EA,{value:M}),I},nb=kA,_A=CA,Vm=eb,yh={BASE_URL:"/ocpp-cp-simulator",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/ocpp-cp-simulator"};let NA=0;function Fr(e,t){const n=`atom${++NA}`,r={toString(){return(yh?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=RA,r.write=MA),t&&(r.write=t),r}function RA(e){return e(this)}function MA(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const TA=()=>{let e=0;const t=_A({}),n=new WeakMap,r=new WeakMap,o=nb(n,r,void 0,void 0,void 0,void 0,t,void 0,(i,l,c,...d)=>e?c(i,...d):i.write(l,c,...d)),a=new Set;return t.m.add(void 0,i=>{a.add(i);const l=n.get(i);l.m=r.get(i)}),t.u.add(void 0,i=>{a.delete(i);const l=n.get(i);delete l.m}),Object.assign(o,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>a,dev4_restore_atoms:i=>{const l={read:()=>null,write:(c,d)=>{++e;try{for(const[f,h]of i)"init"in f&&d(f,h)}finally{--e}}};o.set(l)}})};function Gl(){return(yh?"production":void 0)!=="production"?TA():nb()}let ba;function AA(){return ba||(ba=Gl(),(yh?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ba),globalThis.__JOTAI_DEFAULT_STORE__!==ba&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ba}const jA={BASE_URL:"/ocpp-cp-simulator",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/ocpp-cp-simulator"},rb=p.createContext(void 0);function ob(e){return p.useContext(rb)||AA()}function PA({children:e,store:t}){const n=p.useRef(void 0);return!t&&!n.current&&(n.current=Gl()),p.createElement(rb.Provider,{value:t||n.current},e)}const jd=e=>typeof(e==null?void 0:e.then)=="function",Pd=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},IA=Ut.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(Pd(e),e)}),nu=new WeakMap,zm=(e,t)=>{let n=nu.get(e);return n||(n=new Promise((r,o)=>{let a=e;const s=c=>d=>{a===c&&r(d)},i=c=>d=>{a===c&&o(d)},l=()=>{try{const c=t();jd(c)?(nu.set(c,n),a=c,c.then(s(c),i(c)),Vm(c,l)):r(c)}catch(c){o(c)}};e.then(s(e),i(e)),Vm(e,l)}),nu.set(e,n)),n};function OA(e,t){const{delay:n,unstable_promiseStatus:r=!Ut.use}={},o=ob(),[[a,s,i],l]=p.useReducer(d=>{const f=o.get(e);return Object.is(d[0],f)&&d[1]===o&&d[2]===e?d:[f,o,e]},void 0,()=>[o.get(e),o,e]);let c=a;if((s!==o||i!==e)&&(l(),c=o.get(e)),p.useEffect(()=>{const d=o.sub(e,()=>{if(r)try{const f=o.get(e);jd(f)&&Pd(zm(f,()=>o.get(e)))}catch{}if(typeof n=="number"){setTimeout(l,n);return}l()});return l(),d},[o,e,n,r]),p.useDebugValue(c),jd(c)){const d=zm(c,()=>o.get(e));return r&&Pd(d),IA(d)}return c}function LA(e,t){const n=ob();return p.useCallback((...o)=>{if((jA?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}function ab(e,t){return[OA(e),LA(e)]}const Id="local";function Um(e){return e&&e.trim().toLowerCase()==="remote"?"remote":Id}function DA(e){if(typeof e=="string")return Um(e);if(typeof import.meta<"u"){const t=import.meta;if(typeof t=="object"&&t!==null&&"env"in t){const n=t.env,r=typeof(n==null?void 0:n.VITE_RUNTIME_MODE)=="string"?n.VITE_RUNTIME_MODE:void 0;if(r)return Um(r)}}return Id}const xh={BASE_URL:"/ocpp-cp-simulator",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BASE_URL:"/ocpp-cp-simulator"},sb=Symbol((xh?"production":void 0)!=="production"?"RESET":""),ib=e=>typeof(e==null?void 0:e.then)=="function";function $A(e=()=>{try{return window.localStorage}catch(n){(xh?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,o;const a={getItem:(l,c)=>{var d,f;const h=b=>{if(b=b||"",r!==b){try{o=JSON.parse(b,t==null?void 0:t.reviver)}catch{return c}r=b}return o},m=(f=(d=e())==null?void 0:d.getItem(l))!=null?f:null;return ib(m)?m.then(h):h(m)},setItem:(l,c)=>{var d;return(d=e())==null?void 0:d.setItem(l,JSON.stringify(c,void 0))},removeItem:l=>{var c;return(c=e())==null?void 0:c.removeItem(l)}},s=l=>(c,d,f)=>l(c,h=>{let m;try{m=JSON.parse(h||"")}catch{m=f}d(m)});let i;try{i=(n=e())==null?void 0:n.subscribe}catch{}return!i&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(i=(l,c)=>{if(!(e()instanceof window.Storage))return()=>{};const d=f=>{f.storageArea===e()&&f.key===l&&c(f.newValue)};return window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}}),i&&(a.subscribe=s(i)),a}const FA=$A();function lb(e,t,n=FA,r){const o=r==null?void 0:r.getOnInit,a=Fr(o?n.getItem(e,t):t);return(xh?"production":void 0)!=="production"&&(a.debugPrivate=!0),a.onMount=i=>{i(n.getItem(e,t));let l;return n.subscribe&&(l=n.subscribe(e,i,t)),l},Fr(i=>i(a),(i,l,c)=>{const d=typeof c=="function"?c(i(a)):c;return d===sb?(l(a,t),n.removeItem(e)):ib(d)?d.then(f=>(l(a,f),n.setItem(e,f))):(l(a,d),n.setItem(e,d))})}const VA=e=>{window.location.hash=e},zA=e=>{window.history.replaceState(window.history.state,"",`${window.location.pathname}${window.location.search}#${e}`)};function cb(e,t,n){const r=JSON.stringify,o=(c=>d=>{try{return JSON.parse(d)}catch{return c}})(t),a=c=>(window.addEventListener("hashchange",c),()=>{window.removeEventListener("hashchange",c)}),s=typeof window<"u"&&!!window.location,i=Fr(s?new URLSearchParams(window.location.hash.slice(1)).get(e):null);i.onMount=c=>{if(!s)return;const d=()=>{c(new URLSearchParams(window.location.hash.slice(1)).get(e))},f=a(d);return d(),f};const l=Fr(c=>{const d=c(i);return d===null?t:o(d)});return Fr(c=>c(l),(c,d,f,h)=>{var m;const b=typeof f=="function"?f(c(l)):f,w=new URLSearchParams(window.location.hash.slice(1));if(b===sb)d(i,null),w.delete(e);else{const v=r(b);d(i,v),w.set(e,v)}var S;((S=(m=h==null?void 0:h.setHash)!=null?m:void 0)==="replaceState"?zA:typeof S=="function"?S:VA)(w.toString())})}const ub="config",Bm=cb(ub,null),Wm=lb(ub,null,void 0,{getOnInit:!0}),wa=Fr(e=>{const t=e(Bm),n=e(Wm);return t??n},(e,t,n)=>{t(Bm,n),t(Wm,n)});class UA{constructor(t){H(this,"store");this.store=t??Gl()}async load(){return this.store.get(wa)}async save(t){this.store.set(wa,t)}subscribe(t){return t(this.store.get(wa)),this.store.sub(wa,()=>{t(this.store.get(wa))})}getStore(){return this.store}}const Od="scenario_",Ld="scenarios_",BA=1;function WA(e,t){const n=fb(e,t);try{const r=localStorage.getItem(n);if(r)return JSON.parse(r)}catch(r){console.error("Failed to load scenario:",r)}return null}function db(e,t){const n=fb(e,t);try{localStorage.removeItem(n)}catch(r){console.error("Failed to delete scenario:",r)}}function HA(e){const t=[],n=`${Od}${e}_`;try{Object.keys(localStorage).forEach(o=>{if(o.startsWith(n)){const a=localStorage.getItem(o);a&&t.push(JSON.parse(a))}})}catch(r){console.error("Failed to list scenarios:",r)}return t}function GA(e){const t=[],n=`${Ld}${e}_`;try{Object.keys(localStorage).forEach(a=>{if(a.startsWith(n)){const s=localStorage.getItem(a);if(s){const i=JSON.parse(s);t.push(...i.scenarios||[])}}});const o=HA(e);o.length>0&&(console.log(`[scenarioStorage] Found ${o.length} legacy scenarios, migrating...`),o.forEach(a=>{const s=a.targetId||null,i=pb(a),l=ds(e,s);l.some(d=>d.id===i.id)||(l.push(i),aa(e,s,l),t.push(i))}),o.forEach(a=>{const s=a.targetId||null;db(e,s)}))}catch(r){console.error("Failed to list all scenarios:",r)}return t}function PL(e){const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download=`scenario_${e.name}_${Date.now()}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function IL(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=o=>{var a;try{const s=(a=o.target)==null?void 0:a.result,i=JSON.parse(s);if(!i.id||!i.nodes||!i.edges)throw new Error("Invalid scenario file format");t(i)}catch(s){n(s)}},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(e)})}function fb(e,t){return t===null?`${Od}${e}_chargepoint`:`${Od}${e}_connector_${t}`}function OL(e,t,n){const r=t===null?"chargePoint":"connector",o=n||`Scenario for ${r==="chargePoint"?e:`${e} Connector ${t}`}`;return{id:`${e}_${t||"cp"}_${Date.now()}`,name:o,description:"",targetType:r,targetId:t||void 0,nodes:[{id:"start-1",type:"start",position:{x:250,y:50},data:{label:"Start"}},{id:"end-1",type:"end",position:{x:250,y:300},data:{label:"End"}}],edges:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),trigger:{type:"manual"},defaultExecutionMode:"oneshot",enabled:!0}}function hb(e,t){return t===null?`${Ld}${e}_chargepoint`:`${Ld}${e}_connector_${t}`}function ds(e,t){const n=hb(e,t);try{const r=localStorage.getItem(n);if(r)return JSON.parse(r).scenarios||[];{const o=WA(e,t);if(o){const a=pb(o);return aa(e,t,[a]),db(e,t),[a]}}}catch(r){console.error("Failed to load scenarios:",r)}return[]}function aa(e,t,n){const r=hb(e,t);try{const o={version:BA,scenarios:n};localStorage.setItem(r,JSON.stringify(o))}catch(o){console.error("Failed to save scenarios:",o)}}function qA(e,t,n){aa(e,t,[n])}function LL(e,t,n,r){const o={...r,updatedAt:new Date().toISOString()};aa(e,t,[o])}function KA(e,t,n){aa(e,t,[])}function DL(e,t,n){return ds(e,t).find(o=>o.id===n)||null}function pb(e){return{...e,trigger:e.trigger||{type:"manual"},defaultExecutionMode:e.defaultExecutionMode||"oneshot",enabled:e.enabled!==void 0?e.enabled:!0,updatedAt:new Date().toISOString()}}function JA(e,t){const n=ds(e,t);if(n.length>1){console.warn(`[scenarioStorage] Found ${n.length} scenarios for connector ${t}, keeping only the first one`);const r=n.find(o=>o.enabled)||n[0];aa(e,t,[r])}}function Hm(e,t){return`${e}::${t??"cp"}`}class ZA{constructor(){H(this,"listeners",new Map)}async load(t,n){JA(t,n);const r=ds(t,n);return r.length>0?r[0]:null}async save(t,n,r){qA(t,n,r),this.notify(t,n,r)}async delete(t,n){const r=ds(t,n);r.length>0&&KA(t,n,r[0].id),this.notify(t,n,null)}async list(t){return GA(t)}subscribe(t,n,r){const o=Hm(t,n),a=this.listeners.get(o)??new Set;return a.add(r),this.listeners.set(o,a),this.load(t,n).then(s=>r(s)),()=>{const s=this.listeners.get(o);s&&(s.delete(r),s.size===0&&this.listeners.delete(o))}}notify(t,n,r){const o=this.listeners.get(Hm(t,n));o&&o.forEach(a=>{try{a(r)}catch(s){console.error("[LocalScenarioRepository] listener error",s)}})}}const ql="connector_auto_meter_";function mb(e,t,n){const r=`${ql}${e}_${t}`;try{localStorage.setItem(r,JSON.stringify(n))}catch(o){console.error("Failed to save connector auto meter config:",o)}}function gb(e,t){const n=`${ql}${e}_${t}`;try{const r=localStorage.getItem(n);if(r)return JSON.parse(r)}catch(r){console.error("Failed to load connector auto meter config:",r)}return null}function XA(e,t){const n=`${ql}${e}_${t}`;try{localStorage.removeItem(n)}catch(r){console.error("Failed to clear connector auto meter config:",r)}}function YA(e){try{const t=Object.keys(localStorage),n=`${ql}${e}_`;t.forEach(r=>{r.startsWith(n)&&localStorage.removeItem(r)})}catch(t){console.error("Failed to clear charge point auto meter configs:",t)}}class QA{async loadAutoMeterValueConfig(t,n){return gb(t,n)}async saveAutoMeterValueConfig(t,n,r){mb(t,n,r)}async clearAutoMeterValueConfig(t,n){XA(t,n)}async clearAllAutoMeterValueConfigs(t){YA(t)}}var vb={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(e,t){(function(n){var r=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(C){return Object.prototype.toString.call(C)==="[object Array]"},a=10,s=typeof process=="object"&&typeof process.nextTick=="function",i=typeof Symbol=="function",l=typeof Reflect=="object",c=typeof setImmediate=="function",d=c?setImmediate:setTimeout,f=i?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y){var C=Object.getOwnPropertyNames(y);return C.push.apply(C,Object.getOwnPropertySymbols(y)),C}:Object.keys;function h(){this._events={},this._conf&&m.call(this,this._conf)}function m(y){y&&(this._conf=y,y.delimiter&&(this.delimiter=y.delimiter),y.maxListeners!==n&&(this._maxListeners=y.maxListeners),y.wildcard&&(this.wildcard=y.wildcard),y.newListener&&(this._newListener=y.newListener),y.removeListener&&(this._removeListener=y.removeListener),y.verboseMemoryLeak&&(this.verboseMemoryLeak=y.verboseMemoryLeak),y.ignoreErrors&&(this.ignoreErrors=y.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function b(y,C){var N="(node) warning: possible EventEmitter memory leak detected. "+y+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(N+=" Event name: "+C+"."),typeof process<"u"&&process.emitWarning){var T=new Error(N);T.name="MaxListenersExceededWarning",T.emitter=this,T.count=y,process.emitWarning(T)}else console.error(N),console.trace&&console.trace()}var w=function(y,C,N){var T=arguments.length;switch(T){case 0:return[];case 1:return[y];case 2:return[y,C];case 3:return[y,C,N];default:for(var j=new Array(T);T--;)j[T]=arguments[T];return j}};function S(y,C){for(var N={},T,j=y.length,F=0,U=0;U<j;U++)T=y[U],N[T]=U<F?C[U]:n;return N}function v(y,C,N){this._emitter=y,this._target=C,this._listeners={},this._listenersCount=0;var T,j;if((N.on||N.off)&&(T=N.on,j=N.off),C.addEventListener?(T=C.addEventListener,j=C.removeEventListener):C.addListener?(T=C.addListener,j=C.removeListener):C.on&&(T=C.on,j=C.off),!T&&!j)throw Error("target does not implement any known event API");if(typeof T!="function")throw TypeError("on method must be a function");if(typeof j!="function")throw TypeError("off method must be a function");this._on=T,this._off=j;var F=y._observers;F?F.push(this):y._observers=[this]}Object.assign(v.prototype,{subscribe:function(y,C,N){var T=this,j=this._target,F=this._emitter,U=this._listeners,J=function(){var G=w.apply(null,arguments),P={data:G,name:C,original:y};if(N){var k=N.call(j,P);k!==!1&&F.emit.apply(F,[P.name].concat(G));return}F.emit.apply(F,[C].concat(G))};if(U[y])throw Error("Event '"+y+"' is already listening");this._listenersCount++,F._newListener&&F._removeListener&&!T._onNewListener?(this._onNewListener=function(G){G===C&&U[y]===null&&(U[y]=J,T._on.call(j,y,J))},F.on("newListener",this._onNewListener),this._onRemoveListener=function(G){G===C&&!F.hasListeners(G)&&U[y]&&(U[y]=null,T._off.call(j,y,J))},U[y]=null,F.on("removeListener",this._onRemoveListener)):(U[y]=J,T._on.call(j,y,J))},unsubscribe:function(y){var C=this,N=this._listeners,T=this._emitter,j,F,U=this._off,J=this._target,G;if(y&&typeof y!="string")throw TypeError("event must be a string");function P(){C._onNewListener&&(T.off("newListener",C._onNewListener),T.off("removeListener",C._onRemoveListener),C._onNewListener=null,C._onRemoveListener=null);var k=R.call(T,C);T._observers.splice(k,1)}if(y){if(j=N[y],!j)return;U.call(J,y,j),delete N[y],--this._listenersCount||P()}else{for(F=f(N),G=F.length;G-- >0;)y=F[G],U.call(J,y,N[y]);this._listeners={},this._listenersCount=0,P()}}});function g(y,C,N,T){var j=Object.assign({},C);if(!y)return j;if(typeof y!="object")throw TypeError("options must be an object");var F=Object.keys(y),U=F.length,J,G,P;function k(L){throw Error('Invalid "'+J+'" option value'+(L?". Reason: "+L:""))}for(var O=0;O<U;O++){if(J=F[O],!r.call(C,J))throw Error('Unknown "'+J+'" option');G=y[J],G!==n&&(P=N[J],j[J]=P?P(G,k):G)}return j}function x(y,C){return(typeof y!="function"||!y.hasOwnProperty("prototype"))&&C("value must be a constructor"),y}function E(y){var C="value must be type of "+y.join("|"),N=y.length,T=y[0],j=y[1];return N===1?function(F,U){if(typeof F===T)return F;U(C)}:N===2?function(F,U){var J=typeof F;if(J===T||J===j)return F;U(C)}:function(F,U){for(var J=typeof F,G=N;G-- >0;)if(J===y[G])return F;U(C)}}var M=E(["function"]),I=E(["object","function"]);function _(y,C,N){var T,j,F=0,U,J=new y(function(G,P,k){N=g(N,{timeout:0,overload:!1},{timeout:function(B,ee){return B*=1,(typeof B!="number"||B<0||!Number.isFinite(B))&&ee("timeout must be a positive number"),B}}),T=!N.overload&&typeof y.prototype.cancel=="function"&&typeof k=="function";function O(){j&&(j=null),F&&(clearTimeout(F),F=0)}var L=function(B){O(),G(B)},z=function(B){O(),P(B)};T?C(L,z,k):(j=[function(B){z(B||Error("canceled"))}],C(L,z,function(B){if(U)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof B!="function")throw TypeError("onCancel callback must be a function");j.push(B)}),U=!0),N.timeout>0&&(F=setTimeout(function(){var B=Error("timeout");B.code="ETIMEDOUT",F=0,J.cancel(B),P(B)},N.timeout))});return T||(J.cancel=function(G){if(j){for(var P=j.length,k=1;k<P;k++)j[k](G);j[0](G),j=null}}),J}function R(y){var C=this._observers;if(!C)return-1;for(var N=C.length,T=0;T<N;T++)if(C[T]._target===y)return T;return-1}function $(y,C,N,T,j){if(!N)return null;if(T===0){var F=typeof C;if(F==="string"){var U,J,G=0,P=0,k=this.delimiter,O=k.length;if((J=C.indexOf(k))!==-1){U=new Array(5);do U[G++]=C.slice(P,J),P=J+O;while((J=C.indexOf(k,P))!==-1);U[G++]=C.slice(P),C=U,j=G}else C=[C],j=1}else F==="object"?j=C.length:(C=[C],j=1)}var L=null,z,B,ee,le,be,me=C[T],fe=C[T+1],ye,we;if(T===j)N._listeners&&(typeof N._listeners=="function"?(y&&y.push(N._listeners),L=[N]):(y&&y.push.apply(y,N._listeners),L=[N]));else if(me==="*"){for(ye=f(N),J=ye.length;J-- >0;)z=ye[J],z!=="_listeners"&&(we=$(y,C,N[z],T+1,j),we&&(L?L.push.apply(L,we):L=we));return L}else if(me==="**"){for(be=T+1===j||T+2===j&&fe==="*",be&&N._listeners&&(L=$(y,C,N,j,j)),ye=f(N),J=ye.length;J-- >0;)z=ye[J],z!=="_listeners"&&(z==="*"||z==="**"?(N[z]._listeners&&!be&&(we=$(y,C,N[z],j,j),we&&(L?L.push.apply(L,we):L=we)),we=$(y,C,N[z],T,j)):z===fe?we=$(y,C,N[z],T+2,j):we=$(y,C,N[z],T,j),we&&(L?L.push.apply(L,we):L=we));return L}else N[me]&&(L=$(y,C,N[me],T+1,j));if(B=N["*"],B&&$(y,C,B,T+1,j),ee=N["**"],ee)if(T<j)for(ee._listeners&&$(y,C,ee,j,j),ye=f(ee),J=ye.length;J-- >0;)z=ye[J],z!=="_listeners"&&(z===fe?$(y,C,ee[z],T+2,j):z===me?$(y,C,ee[z],T+1,j):(le={},le[z]=ee[z],$(y,C,{"**":le},T+1,j)));else ee._listeners?$(y,C,ee,j,j):ee["*"]&&ee["*"]._listeners&&$(y,C,ee["*"],j,j);return L}function D(y,C,N){var T=0,j=0,F,U=this.delimiter,J=U.length,G;if(typeof y=="string")if((F=y.indexOf(U))!==-1){G=new Array(5);do G[T++]=y.slice(j,F),j=F+J;while((F=y.indexOf(U,j))!==-1);G[T++]=y.slice(j)}else G=[y],T=1;else G=y,T=y.length;if(T>1){for(F=0;F+1<T;F++)if(G[F]==="**"&&G[F+1]==="**")return}var P=this.listenerTree,k;for(F=0;F<T;F++)if(k=G[F],P=P[k]||(P[k]={}),F===T-1)return P._listeners?(typeof P._listeners=="function"&&(P._listeners=[P._listeners]),N?P._listeners.unshift(C):P._listeners.push(C),!P._listeners.warned&&this._maxListeners>0&&P._listeners.length>this._maxListeners&&(P._listeners.warned=!0,b.call(this,P._listeners.length,k))):P._listeners=C,!0;return!0}function W(y,C,N,T){for(var j=f(y),F=j.length,U,J,G,P=y._listeners,k;F-- >0;)J=j[F],U=y[J],J==="_listeners"?G=N:G=N?N.concat(J):[J],k=T||typeof J=="symbol",P&&C.push(k?G:G.join(this.delimiter)),typeof U=="object"&&W.call(this,U,C,G,k);return C}function K(y){for(var C=f(y),N=C.length,T,j,F;N-- >0;)j=C[N],T=y[j],T&&(F=!0,j!=="_listeners"&&!K(T)&&delete y[j]);return F}function V(y,C,N){this.emitter=y,this.event=C,this.listener=N}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function A(y,C,N){if(N===!0)j=!0;else if(N===!1)T=!0;else{if(!N||typeof N!="object")throw TypeError("options should be an object or true");var T=N.async,j=N.promisify,F=N.nextTick,U=N.objectify}if(T||F||j){var J=C,G=C._origin||C;if(F&&!s)throw Error("process.nextTick is not supported");j===n&&(j=C.constructor.name==="AsyncFunction"),C=function(){var P=arguments,k=this,O=this.event;return j?F?Promise.resolve():new Promise(function(L){d(L)}).then(function(){return k.event=O,J.apply(k,P)}):(F?process.nextTick:d)(function(){k.event=O,J.apply(k,P)})},C._async=!0,C._origin=G}return[C,U?new V(this,y,C):this]}function q(y){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,m.call(this,y)}q.EventEmitter2=q,q.prototype.listenTo=function(y,C,N){if(typeof y!="object")throw TypeError("target musts be an object");var T=this;N=g(N,{on:n,off:n,reducers:n},{on:M,off:M,reducers:I});function j(F){if(typeof F!="object")throw TypeError("events must be an object");var U=N.reducers,J=R.call(T,y),G;J===-1?G=new v(T,y,N):G=T._observers[J];for(var P=f(F),k=P.length,O,L=typeof U=="function",z=0;z<k;z++)O=P[z],G.subscribe(O,F[O]||O,L?U:U&&U[O])}return o(C)?j(S(C)):j(typeof C=="string"?S(C.split(/\s+/)):C),this},q.prototype.stopListeningTo=function(y,C){var N=this._observers;if(!N)return!1;var T=N.length,j,F=!1;if(y&&typeof y!="object")throw TypeError("target should be an object");for(;T-- >0;)j=N[T],(!y||j._target===y)&&(j.unsubscribe(C),F=!0);return F},q.prototype.delimiter=".",q.prototype.setMaxListeners=function(y){y!==n&&(this._maxListeners=y,this._conf||(this._conf={}),this._conf.maxListeners=y)},q.prototype.getMaxListeners=function(){return this._maxListeners},q.prototype.event="",q.prototype.once=function(y,C,N){return this._once(y,C,!1,N)},q.prototype.prependOnceListener=function(y,C,N){return this._once(y,C,!0,N)},q.prototype._once=function(y,C,N,T){return this._many(y,1,C,N,T)},q.prototype.many=function(y,C,N,T){return this._many(y,C,N,!1,T)},q.prototype.prependMany=function(y,C,N,T){return this._many(y,C,N,!0,T)},q.prototype._many=function(y,C,N,T,j){var F=this;if(typeof N!="function")throw new Error("many only accepts instances of Function");function U(){return--C===0&&F.off(y,U),N.apply(this,arguments)}return U._origin=N,this._on(y,U,T,j)},q.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var y=arguments[0],C,N=this.wildcard,T,j,F,U,J;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(N&&(C=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(j=y.length,i){for(F=0;F<j;F++)if(typeof y[F]=="symbol"){J=!0;break}}J||(y=y.join(this.delimiter))}var G=arguments.length,P;if(this._all&&this._all.length)for(P=this._all.slice(),F=0,j=P.length;F<j;F++)switch(this.event=y,G){case 1:P[F].call(this,y);break;case 2:P[F].call(this,y,arguments[1]);break;case 3:P[F].call(this,y,arguments[1],arguments[2]);break;default:P[F].apply(this,arguments)}if(N)P=[],$.call(this,P,C,this.listenerTree,0,j);else if(P=this._events[y],typeof P=="function"){switch(this.event=y,G){case 1:P.call(this);break;case 2:P.call(this,arguments[1]);break;case 3:P.call(this,arguments[1],arguments[2]);break;default:for(T=new Array(G-1),U=1;U<G;U++)T[U-1]=arguments[U];P.apply(this,T)}return!0}else P&&(P=P.slice());if(P&&P.length){if(G>3)for(T=new Array(G-1),U=1;U<G;U++)T[U-1]=arguments[U];for(F=0,j=P.length;F<j;F++)switch(this.event=y,G){case 1:P[F].call(this);break;case 2:P[F].call(this,arguments[1]);break;case 3:P[F].call(this,arguments[1],arguments[2]);break;default:P[F].apply(this,T)}return!0}else if(!this.ignoreErrors&&!this._all&&y==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},q.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var y=arguments[0],C=this.wildcard,N,T,j,F,U,J;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(C&&(N=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(F=y.length,i){for(U=0;U<F;U++)if(typeof y[U]=="symbol"){T=!0;break}}T||(y=y.join(this.delimiter))}var G=[],P=arguments.length,k;if(this._all)for(U=0,F=this._all.length;U<F;U++)switch(this.event=y,P){case 1:G.push(this._all[U].call(this,y));break;case 2:G.push(this._all[U].call(this,y,arguments[1]));break;case 3:G.push(this._all[U].call(this,y,arguments[1],arguments[2]));break;default:G.push(this._all[U].apply(this,arguments))}if(C?(k=[],$.call(this,k,N,this.listenerTree,0)):k=this._events[y],typeof k=="function")switch(this.event=y,P){case 1:G.push(k.call(this));break;case 2:G.push(k.call(this,arguments[1]));break;case 3:G.push(k.call(this,arguments[1],arguments[2]));break;default:for(j=new Array(P-1),J=1;J<P;J++)j[J-1]=arguments[J];G.push(k.apply(this,j))}else if(k&&k.length){if(k=k.slice(),P>3)for(j=new Array(P-1),J=1;J<P;J++)j[J-1]=arguments[J];for(U=0,F=k.length;U<F;U++)switch(this.event=y,P){case 1:G.push(k[U].call(this));break;case 2:G.push(k[U].call(this,arguments[1]));break;case 3:G.push(k[U].call(this,arguments[1],arguments[2]));break;default:G.push(k[U].apply(this,j))}}else if(!this.ignoreErrors&&!this._all&&y==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(G)},q.prototype.on=function(y,C,N){return this._on(y,C,!1,N)},q.prototype.prependListener=function(y,C,N){return this._on(y,C,!0,N)},q.prototype.onAny=function(y){return this._onAny(y,!1)},q.prototype.prependAny=function(y){return this._onAny(y,!0)},q.prototype.addListener=q.prototype.on,q.prototype._onAny=function(y,C){if(typeof y!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),C?this._all.unshift(y):this._all.push(y),this},q.prototype._on=function(y,C,N,T){if(typeof y=="function")return this._onAny(y,C),this;if(typeof C!="function")throw new Error("on only accepts instances of Function");this._events||h.call(this);var j=this,F;return T!==n&&(F=A.call(this,y,C,T),C=F[0],j=F[1]),this._newListener&&this.emit("newListener",y,C),this.wildcard?(D.call(this,y,C,N),j):(this._events[y]?(typeof this._events[y]=="function"&&(this._events[y]=[this._events[y]]),N?this._events[y].unshift(C):this._events[y].push(C),!this._events[y].warned&&this._maxListeners>0&&this._events[y].length>this._maxListeners&&(this._events[y].warned=!0,b.call(this,this._events[y].length,y))):this._events[y]=C,j)},q.prototype.off=function(y,C){if(typeof C!="function")throw new Error("removeListener only takes instances of Function");var N,T=[];if(this.wildcard){var j=typeof y=="string"?y.split(this.delimiter):y.slice();if(T=$.call(this,null,j,this.listenerTree,0),!T)return this}else{if(!this._events[y])return this;N=this._events[y],T.push({_listeners:N})}for(var F=0;F<T.length;F++){var U=T[F];if(N=U._listeners,o(N)){for(var J=-1,G=0,P=N.length;G<P;G++)if(N[G]===C||N[G].listener&&N[G].listener===C||N[G]._origin&&N[G]._origin===C){J=G;break}if(J<0)continue;return this.wildcard?U._listeners.splice(J,1):this._events[y].splice(J,1),N.length===0&&(this.wildcard?delete U._listeners:delete this._events[y]),this._removeListener&&this.emit("removeListener",y,C),this}else(N===C||N.listener&&N.listener===C||N._origin&&N._origin===C)&&(this.wildcard?delete U._listeners:delete this._events[y],this._removeListener&&this.emit("removeListener",y,C))}return this.listenerTree&&K(this.listenerTree),this},q.prototype.offAny=function(y){var C=0,N=0,T;if(y&&this._all&&this._all.length>0){for(T=this._all,C=0,N=T.length;C<N;C++)if(y===T[C])return T.splice(C,1),this._removeListener&&this.emit("removeListenerAny",y),this}else{if(T=this._all,this._removeListener)for(C=0,N=T.length;C<N;C++)this.emit("removeListenerAny",T[C]);this._all=[]}return this},q.prototype.removeListener=q.prototype.off,q.prototype.removeAllListeners=function(y){if(y===n)return!this._events||h.call(this),this;if(this.wildcard){var C=$.call(this,null,y,this.listenerTree,0),N,T;if(!C)return this;for(T=0;T<C.length;T++)N=C[T],N._listeners=null;this.listenerTree&&K(this.listenerTree)}else this._events&&(this._events[y]=null);return this},q.prototype.listeners=function(y){var C=this._events,N,T,j,F,U;if(y===n){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!C)return[];for(N=f(C),F=N.length,j=[];F-- >0;)T=C[N[F]],typeof T=="function"?j.push(T):j.push.apply(j,T);return j}else{if(this.wildcard){if(U=this.listenerTree,!U)return[];var J=[],G=typeof y=="string"?y.split(this.delimiter):y.slice();return $.call(this,J,G,U,0),J}return C?(T=C[y],T?typeof T=="function"?[T]:T:[]):[]}},q.prototype.eventNames=function(y){var C=this._events;return this.wildcard?W.call(this,this.listenerTree,[],null,y):C?f(C):[]},q.prototype.listenerCount=function(y){return this.listeners(y).length},q.prototype.hasListeners=function(y){if(this.wildcard){var C=[],N=typeof y=="string"?y.split(this.delimiter):y.slice();return $.call(this,C,N,this.listenerTree,0),C.length>0}var T=this._events,j=this._all;return!!(j&&j.length||T&&(y===n?f(T).length:T[y]))},q.prototype.listenersAny=function(){return this._all?this._all:[]},q.prototype.waitFor=function(y,C){var N=this,T=typeof C;return T==="number"?C={timeout:C}:T==="function"&&(C={filter:C}),C=g(C,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:M,Promise:x}),_(C.Promise,function(j,F,U){function J(){var G=C.filter;if(!(G&&!G.apply(N,arguments)))if(N.off(y,J),C.handleError){var P=arguments[0];P?F(P):j(w.apply(null,arguments).slice(1))}else j(w.apply(null,arguments))}U(function(){N.off(y,J)}),N._on(y,J,!1)},{timeout:C.timeout,overload:C.overload})};function X(y,C,N){N=g(N,{Promise,timeout:0,overload:!1},{Promise:x});var T=N.Promise;return _(T,function(j,F,U){var J;if(typeof y.addEventListener=="function"){J=function(){j(w.apply(null,arguments))},U(function(){y.removeEventListener(C,J)}),y.addEventListener(C,J,{once:!0});return}var G=function(){P&&y.removeListener("error",P),j(w.apply(null,arguments))},P;C!=="error"&&(P=function(k){y.removeListener(C,G),F(k)},y.once("error",P)),U(function(){P&&y.removeListener("error",P),y.removeListener(C,G)}),y.once(C,G)},{timeout:N.timeout,overload:N.overload})}var Z=q.prototype;Object.defineProperties(q,{defaultMaxListeners:{get:function(){return Z._maxListeners},set:function(y){if(typeof y!="number"||y<0||Number.isNaN(y))throw TypeError("n must be a non-negative number");Z._maxListeners=y},enumerable:!0},once:{value:X,writable:!0,configurable:!0}}),Object.defineProperties(Z,{_maxListeners:{value:a,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=q})()})(vb);var ej=vb.exports;const yb=Qd(ej);class Dd{constructor(){H(this,"emitter");this.emitter=new yb({wildcard:!0,delimiter:".",maxListeners:50,verboseMemoryLeak:!0})}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}once(t,n){return this.emitter.once(t,n),()=>{this.emitter.off(t,n)}}emit(t,n){try{this.emitter.emit(t,n)}catch(r){console.error(`Error in event listener for "${String(t)}":`,r)}}off(t,n){this.emitter.off(t,n)}removeAllListeners(t){t?this.emitter.removeAllListeners(t):this.emitter.removeAllListeners()}listenerCount(t){return this.emitter.listenerCount(t)}hasListeners(t){return this.listenerCount(t)>0}onAny(t){return this.emitter.onAny(t),()=>{this.emitter.offAny(t)}}offAny(t){this.emitter.offAny(t)}async waitFor(t,n){return new Promise((r,o)=>{const a=n?setTimeout(()=>{this.emitter.off(t,s),o(new Error(`Timeout waiting for event: ${String(t)}`))},n):null,s=i=>{a&&clearTimeout(a),r(i)};this.emitter.once(t,s)})}}var ct=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(ct||{}),te=(e=>(e.WEBSOCKET="WebSocket",e.OCPP="OCPP",e.TRANSACTION="Transaction",e.HEARTBEAT="Heartbeat",e.METER_VALUE="MeterValue",e.STATUS="Status",e.CONFIGURATION="Configuration",e.DIAGNOSTICS="Diagnostics",e.SCENARIO="Scenario",e.GENERAL="General",e))(te||{});let tj=class{constructor(t=0){H(this,"level");H(this,"logList",[]);H(this,"enabledTypes",new Set(Object.values(te)));H(this,"emitter");H(this,"_loggingCallback",null);this.level=t,this.emitter=new yb({wildcard:!0,delimiter:".",maxListeners:50})}set loggingCallback(t){this._loggingCallback&&this.emitter.off("log",this._loggingCallback),this._loggingCallback=t,t&&this.emitter.on("log",t)}setLevel(t){this.level=t}enableTypes(...t){t.forEach(n=>this.enabledTypes.add(n))}disableTypes(...t){t.forEach(n=>this.enabledTypes.delete(n))}setEnabledTypes(...t){this.enabledTypes.clear(),t.forEach(n=>this.enabledTypes.add(n))}isTypeEnabled(t){return this.enabledTypes.has(t)}debug(t,n="General"){this.log(t,0,n)}info(t,n="General"){this.log(t,1,n)}warn(t,n="General"){this.log(t,2,n)}error(t,n="General"){this.log(t,3,n)}log(t,n=0,r="General"){if(n<this.level||!this.enabledTypes.has(r))return;const a={timestamp:new Date,level:n,type:r,message:t},s=this.formatLogEntry(a);switch(n){case 0:console.debug(s);break;case 1:console.info(s);break;case 2:console.warn(s);break;case 3:console.error(s);break;default:console.log(s);break}this.logList.push(a);const i=ct[n];this.emitter.emit(`log.${r}.${i}`,a),this.emitter.emit(`log.${r}`,a),this.emitter.emit(`log.*.${i}`,a),this.emitter.emit("log",a),this._loggingCallback&&!this.emitter.listeners("log").includes(this._loggingCallback)&&this._loggingCallback(a)}formatLogEntry(t){const n=t.timestamp.toISOString(),r=ct[t.level],o=t.type;return`[${n}] [${r}] [${o}] ${t.message}`}getLogEntries(){return[...this.logList]}getFilteredLogs(t){return this.logList.filter(n=>!(t.level!==void 0&&n.level<t.level||t.types&&!t.types.includes(n.type)||t.startTime&&n.timestamp<t.startTime||t.endTime&&n.timestamp>t.endTime))}getLogs(){return this.logList.map(t=>this.formatLogEntry(t))}getLogsAsStrings(t){return(t?this.getFilteredLogs(t):this.logList).map(r=>this.formatLogEntry(r))}clearLogs(){this.logList=[]}getLogString(t){return this.getLogsAsStrings(t).join(`
`)}getStats(){const t={total:this.logList.length,byLevel:{},byType:{}};return this.logList.forEach(n=>{const r=ct[n.level],o=n.type;t.byLevel[r]=(t.byLevel[r]||0)+1,t.byType[o]=(t.byType[o]||0)+1}),t}saveLogsToFile(t){console.log(`Saving logs to ${t}`)}on(t,n){return this.emitter.on(t,n),()=>{this.emitter.off(t,n)}}once(t,n){return this.emitter.once(t,n),()=>{this.emitter.off(t,n)}}off(t,n){this.emitter.off(t,n)}onAny(t){return this.emitter.onAny(t),()=>{this.emitter.offAny(t)}}offAny(t){this.emitter.offAny(t)}async waitFor(t,n){return new Promise((r,o)=>{const a=n?setTimeout(()=>{this.emitter.off(t,s),o(new Error(`Timeout waiting for log event: ${t}`))},n):null,s=i=>{a&&clearTimeout(a),r(i)};this.emitter.once(t,s)})}};class nj{constructor(t){H(this,"_logger");H(this,"_heartbeatInterval",null);H(this,"_sendHeartbeatCallback",null);this._logger=t}setHeartbeatCallback(t){this._sendHeartbeatCallback=t}sendHeartbeat(){this._sendHeartbeatCallback?this._sendHeartbeatCallback():this._logger.error("Heartbeat callback not set")}startHeartbeat(t){this._logger.info(`Setting heartbeat period to ${t}s`),this.stopHeartbeat(),this._heartbeatInterval=setInterval(()=>this.sendHeartbeat(),t*1e3)}stopHeartbeat(){this._heartbeatInterval&&(this._logger.info("Stopping heartbeat"),clearInterval(this._heartbeatInterval),this._heartbeatInterval=null)}cleanup(){this.stopHeartbeat(),this._sendHeartbeatCallback=null}}function kt(e){return{enumerable:!0,value:e}}function Gm(e){return{enumerable:!0,writable:!0,value:e}}let Ko={},rj=()=>!0,qm=()=>({}),xb=e=>e,oj=(e,t,n,r)=>e.apply(n,r)&&t.apply(n,r),aj=(e,t,n,[r,o])=>t.call(n,e.call(n,r,o),o),Es=(e,t)=>Object.freeze(Object.create(e,t));function Km(e,t,n){return e.reduce((r,o)=>function(...a){return n(r,o,this,a)},t)}function bb(e){return Es(this,{fn:kt(e)})}let wb={},_e=bb.bind(wb),Sb={},Mn=bb.bind(Sb);function ol(e,t){return t.filter(n=>e.isPrototypeOf(n))}function Cb(e,t,...n){let r=Km(ol(Sb,n).map(a=>a.fn),rj,oj),o=Km(ol(wb,n).map(a=>a.fn),xb,aj);return Es(this,{from:kt(e),to:kt(t),guards:kt(r),reducers:kt(o)})}let Eb={},kb={},ce=Cb.bind(Eb);Cb.bind(kb,null);function sj(e,t,n){return Nb(t,e,n,this.immediates)||e}function ij(e){let t=new Map;for(let n of e)t.has(n.from)||t.set(n.from,[]),t.get(n.from).push(n);return t}let lj={enter:xb};function ut(...e){let t=ol(Eb,e),n=ol(kb,e),r={final:kt(e.length===0),transitions:kt(ij(t))};return n.length&&(r.immediates=kt(n),r.enter=kt(sj)),Es(lj,r)}let cj={get state(){return{name:this.current,value:this.states[this.current]}}};function _b(e,t,n=qm){return typeof e!="string"&&(n=t||qm,t=e,e=Object.keys(t)[0]),Ko._create&&Ko._create(e,t),Es(cj,{context:kt(n),current:kt(e),states:kt(t)})}function Nb(e,t,n,r){let{context:o}=e;for(let{to:a,guards:s,reducers:i}of r)if(s(o,n)){e.context=i.call(e,o,n);let l=t.original||t,c=Es(l,{current:kt(a),original:{value:l}});Ko._onEnter&&Ko._onEnter(t,a,e.context,o,n);let d=c.state.value;e.machine=c;let f=d.enter(c,e,n);return e.onChange(e),f}}function uj(e,t){let n=t.type||t,{machine:r}=e,{value:o,name:a}=r.state;return o.transitions.has(n)?Nb(e,r,t,o.transitions.get(n))||r:(Ko._send&&Ko._send(n,a),r)}let dj={send(e){uj(this,e)}};function Rb(e,t,n,r){let o=Object.create(dj,{machine:Gm(e),context:Gm(e.context(n,r)),onChange:kt(t)});return o.send=o.send.bind(o),o.machine=o.machine.state.value.enter(o.machine,o,r),o}class fj{constructor(t=1e3){H(this,"entries",[]);H(this,"maxEntries");H(this,"firstEntryTime",null);this.maxEntries=t}recordTransition(t){this.entries.push(t),this.firstEntryTime===null&&(this.firstEntryTime=t.timestamp),this.entries.length>this.maxEntries&&this.entries.shift()}getHistory(t){let n=[...this.entries];return t&&(t.entity&&(n=n.filter(r=>r.entity===t.entity)),t.entityId!==void 0&&(n=n.filter(r=>r.entityId===t.entityId)),t.fromTimestamp&&(n=n.filter(r=>r.timestamp>=t.fromTimestamp)),t.toTimestamp&&(n=n.filter(r=>r.timestamp<=t.toTimestamp)),t.transitionType&&(n=n.filter(r=>r.transitionType===t.transitionType)),t.limit&&t.limit>0&&(n=n.slice(-t.limit))),n}getLatestEntry(t,n){const r=this.entries.filter(o=>o.entity!==t?!1:t==="connector"&&n!==void 0?o.entityId===n:!0);return r.length>0?r[r.length-1]:null}getStatistics(){const t=this.entries.length,n={};this.entries.forEach(i=>{const l=i.entityId?`${i.entity}-${i.entityId}`:i.entity;n[l]=(n[l]||0)+1});const r={};this.entries.forEach(i=>{r[i.transitionType]=(r[i.transitionType]||0)+1});let o=0,a=0;this.entries.forEach(i=>{!i.success||i.validationResult.level==="ERROR"?o++:i.validationResult.level==="WARNING"&&a++});let s=0;if(this.firstEntryTime&&this.entries.length>0){const c=(this.entries[this.entries.length-1].timestamp.getTime()-this.firstEntryTime.getTime())/(1e3*60);c>0&&(s=t/c)}return{totalTransitions:t,transitionsByEntity:n,transitionsByType:r,errorCount:o,warningCount:a,averageTransitionsPerMinute:s}}export(t){if(t==="json")return JSON.stringify(this.entries,null,2);if(t==="csv"){const n=["id","timestamp","entity","entityId","transitionType","fromState","toState","source","success","validationLevel","errorMessage"].join(","),r=this.entries.map(o=>[o.id,o.timestamp.toISOString(),o.entity,o.entityId||"",o.transitionType,o.fromState,o.toState,o.context.source,o.success,o.validationResult.level,o.errorMessage||""].map(a=>`"${a}"`).join(","));return[n,...r].join(`
`)}throw new Error(`Unsupported export format: ${t}`)}cleanup(t){t?this.entries=this.entries.filter(n=>n.timestamp>=t):this.entries.length>this.maxEntries&&(this.entries=this.entries.slice(-this.maxEntries)),this.entries.length>0?this.firstEntryTime=this.entries[0].timestamp:this.firstEntryTime=null}clear(){this.entries=[],this.firstEntryTime=null}get count(){return this.entries.length}}var rr={},al={},Jr={},Kl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageType=void 0,function(t){t[t.CALL=2]="CALL",t[t.CALLRESULT=3]="CALLRESULT",t[t.CALLERROR=4]="CALLERROR"}(e.MessageType||(e.MessageType={}))})(Kl);var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.OCPPRequestTimedOutError=Ct.OCPPRequestError=Ct.OCPPApplicationError=Ct.ValidationError=Ct.GenericError=void 0;class Jl extends Error{wrap(t){return{...this,message:`${this.message}: ${t.message}`}}}Ct.GenericError=Jl;let hj=class extends Jl{constructor(){super(...arguments),this.name="ValidationError"}};Ct.ValidationError=hj;class pj extends Jl{constructor(){super(...arguments),this.name="OCPPApplicationError"}}Ct.OCPPApplicationError=pj;class Mb extends Jl{constructor(t,n,r,o){super(t),this.message=t,this.errorCode=n,this.errorDescription=r,this.errorDetails=o,this.name="OCPPRequestError"}}Ct.OCPPRequestError=Mb;class mj extends Mb{constructor(t){super("OCPP request timed out"),this.action=t,this.name="OCPPRequestTimedOutError"}}Ct.OCPPRequestTimedOutError=mj;var Zl={},Tb={},ru={},ou={},Jm;function sa(){return Jm||(Jm=1,function(e){var t=de&&de.__values||function(i){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&i[l],d=0;if(c)return c.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&d>=i.length&&(i=void 0),{value:i&&i[d++],done:!i}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Nothing=e.Just=e.Maybe=void 0;var n=Xl();e.Maybe={of:function(i){return a(i)},empty:function(){return s},zero:function(){return s},fromNullable:function(i){return i==null?s:a(i)},fromFalsy:function(i){return i?a(i):s},fromPredicate:function(i,l){switch(arguments.length){case 1:return function(c){return e.Maybe.fromPredicate(i,c)};default:return i(l)?a(l):s}},mapMaybe:function(i,l){switch(arguments.length){case 1:return function(c){return e.Maybe.mapMaybe(i,c)};default:return e.Maybe.catMaybes(l.map(i))}},catMaybes:function(i){var l,c,d=[];try{for(var f=t(i),h=f.next();!h.done;h=f.next()){var m=h.value;m.isJust()&&d.push(m.extract())}}catch(b){l={error:b}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return d},encase:function(i){try{return a(i())}catch{return s}},isMaybe:function(i){return i instanceof r||i instanceof o},sequence:function(i){var l,c,d=[];try{for(var f=t(i),h=f.next();!h.done;h=f.next()){var m=h.value;if(m.isJust())d.push(m.extract());else return s}}catch(b){l={error:b}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return a(d)},"fantasy-land/of":function(i){return this.of(i)},"fantasy-land/empty":function(){return this.empty()},"fantasy-land/zero":function(){return this.zero()}};var r=function(){function i(l){this.__value=l,this["fantasy-land/equals"]=this.equals,this["fantasy-land/map"]=this.map,this["fantasy-land/ap"]=this.ap,this["fantasy-land/alt"]=this.alt,this["fantasy-land/chain"]=this.chain,this["fantasy-land/reduce"]=this.reduce,this["fantasy-land/extend"]=this.extend,this["fantasy-land/filter"]=this.filter}return i.prototype.isJust=function(){return!0},i.prototype.isNothing=function(){return!1},i.prototype.inspect=function(){return"Just("+JSON.stringify(this.__value)+")"},i.prototype.toString=function(){return this.inspect()},i.prototype.toJSON=function(){return this.__value},i.prototype.equals=function(l){return this.extract()===l.extract()},i.prototype.map=function(l){return a(l(this.__value))},i.prototype.ap=function(l){return l.isJust()?this.map(l.extract()):s},i.prototype.alt=function(l){return this},i.prototype.altLazy=function(l){return this},i.prototype.chain=function(l){return l(this.__value)},i.prototype.chainNullable=function(l){return e.Maybe.fromNullable(l(this.__value))},i.prototype.join=function(){return this.__value},i.prototype.reduce=function(l,c){return l(c,this.__value)},i.prototype.extend=function(l){return a(l(this))},i.prototype.unsafeCoerce=function(){return this.__value},i.prototype.caseOf=function(l){return"_"in l?l._():l.Just(this.__value)},i.prototype.orDefault=function(l){return this.__value},i.prototype.orDefaultLazy=function(l){return this.__value},i.prototype.toList=function(){return[this.__value]},i.prototype.mapOrDefault=function(l,c){return l(this.__value)},i.prototype.extract=function(){return this.__value},i.prototype.extractNullable=function(){return this.__value},i.prototype.toEither=function(l){return n.Right(this.__value)},i.prototype.ifJust=function(l){return l(this.__value),this},i.prototype.ifNothing=function(l){return this},i.prototype.filter=function(l){return l(this.__value)?a(this.__value):s},i}();r.prototype.constructor=e.Maybe;var o=function(){function i(){this["fantasy-land/equals"]=this.equals,this["fantasy-land/map"]=this.map,this["fantasy-land/ap"]=this.ap,this["fantasy-land/alt"]=this.alt,this["fantasy-land/chain"]=this.chain,this["fantasy-land/reduce"]=this.reduce,this["fantasy-land/extend"]=this.extend,this["fantasy-land/filter"]=this.filter}return i.prototype.isJust=function(){return!1},i.prototype.isNothing=function(){return!0},i.prototype.inspect=function(){return"Nothing"},i.prototype.toString=function(){return this.inspect()},i.prototype.toJSON=function(){return this.__value},i.prototype.equals=function(l){return this.extract()===l.extract()},i.prototype.map=function(l){return s},i.prototype.ap=function(l){return s},i.prototype.alt=function(l){return l},i.prototype.altLazy=function(l){return l()},i.prototype.chain=function(l){return s},i.prototype.chainNullable=function(l){return s},i.prototype.join=function(){return s},i.prototype.reduce=function(l,c){return c},i.prototype.extend=function(l){return s},i.prototype.unsafeCoerce=function(){throw new Error("Maybe#unsafeCoerce was ran on a Nothing")},i.prototype.caseOf=function(l){return"_"in l?l._():l.Nothing()},i.prototype.orDefault=function(l){return l},i.prototype.orDefaultLazy=function(l){return l()},i.prototype.toList=function(){return[]},i.prototype.mapOrDefault=function(l,c){return c},i.prototype.extract=function(){},i.prototype.extractNullable=function(){return null},i.prototype.toEither=function(l){return n.Left(l)},i.prototype.ifJust=function(l){return this},i.prototype.ifNothing=function(l){return l(),this},i.prototype.filter=function(l){return s},i}();o.prototype.constructor=e.Maybe;var a=function(i){return new r(i)};e.Just=a;var s=new o;e.Nothing=s}(ou)),ou}var Zm;function Xl(){return Zm||(Zm=1,function(e){var t=de&&de.__values||function(i){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&i[l],d=0;if(c)return c.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&d>=i.length&&(i=void 0),{value:i&&i[d++],done:!i}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Right=e.Left=e.Either=void 0;var n=sa();e.Either={of:function(i){return s(i)},lefts:function(i){var l,c,d=[];try{for(var f=t(i),h=f.next();!h.done;h=f.next()){var m=h.value;m.isLeft()&&d.push(m.extract())}}catch(b){l={error:b}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return d},rights:function(i){var l,c,d=[];try{for(var f=t(i),h=f.next();!h.done;h=f.next()){var m=h.value;m.isRight()&&d.push(m.extract())}}catch(b){l={error:b}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return d},encase:function(i){try{return s(i())}catch(l){return a(l)}},sequence:function(i){var l,c,d=[];try{for(var f=t(i),h=f.next();!h.done;h=f.next()){var m=h.value;if(m.isLeft())return m;d.push(m.extract())}}catch(b){l={error:b}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return s(d)},isEither:function(i){return i instanceof o||i instanceof r},"fantasy-land/of":function(i){return e.Either.of(i)}};var r=function(){function i(l){this.__value=l,this._="R",this["fantasy-land/bimap"]=this.bimap,this["fantasy-land/map"]=this.map,this["fantasy-land/ap"]=this.ap,this["fantasy-land/equals"]=this.equals,this["fantasy-land/chain"]=this.chain,this["fantasy-land/alt"]=this.alt,this["fantasy-land/reduce"]=this.reduce,this["fantasy-land/extend"]=this.extend}return i.prototype.isLeft=function(){return!1},i.prototype.isRight=function(){return!0},i.prototype.toJSON=function(){return this.__value},i.prototype.inspect=function(){return"Right("+JSON.stringify(this.__value)+")"},i.prototype.toString=function(){return this.inspect()},i.prototype.bimap=function(l,c){return s(c(this.__value))},i.prototype.map=function(l){return s(l(this.__value))},i.prototype.mapLeft=function(l){return this},i.prototype.ap=function(l){return l.isRight()?this.map(l.extract()):l},i.prototype.equals=function(l){return l.isRight()?this.__value===l.extract():!1},i.prototype.chain=function(l){return l(this.__value)},i.prototype.chainLeft=function(l){return this},i.prototype.join=function(){return this.__value},i.prototype.alt=function(l){return this},i.prototype.altLazy=function(l){return this},i.prototype.reduce=function(l,c){return l(c,this.__value)},i.prototype.extend=function(l){return s(l(this))},i.prototype.unsafeCoerce=function(){return this.__value},i.prototype.caseOf=function(l){return"_"in l?l._():l.Right(this.__value)},i.prototype.leftOrDefault=function(l){return l},i.prototype.orDefault=function(l){return this.__value},i.prototype.orDefaultLazy=function(l){return this.__value},i.prototype.leftOrDefaultLazy=function(l){return l()},i.prototype.ifLeft=function(l){return this},i.prototype.ifRight=function(l){return l(this.__value),this},i.prototype.toMaybe=function(){return n.Just(this.__value)},i.prototype.leftToMaybe=function(){return n.Nothing},i.prototype.either=function(l,c){return c(this.__value)},i.prototype.extract=function(){return this.__value},i.prototype.swap=function(){return a(this.__value)},i}();r.prototype.constructor=e.Either;var o=function(){function i(l){this.__value=l,this._="L",this["fantasy-land/bimap"]=this.bimap,this["fantasy-land/map"]=this.map,this["fantasy-land/ap"]=this.ap,this["fantasy-land/equals"]=this.equals,this["fantasy-land/chain"]=this.chain,this["fantasy-land/alt"]=this.alt,this["fantasy-land/reduce"]=this.reduce,this["fantasy-land/extend"]=this.extend}return i.prototype.isLeft=function(){return!0},i.prototype.isRight=function(){return!1},i.prototype.toJSON=function(){return this.__value},i.prototype.inspect=function(){return"Left("+JSON.stringify(this.__value)+")"},i.prototype.toString=function(){return this.inspect()},i.prototype.bimap=function(l,c){return a(l(this.__value))},i.prototype.map=function(l){return this},i.prototype.mapLeft=function(l){return a(l(this.__value))},i.prototype.ap=function(l){return l.isLeft()?l:this},i.prototype.equals=function(l){return l.isLeft()?l.extract()===this.__value:!1},i.prototype.chain=function(l){return this},i.prototype.chainLeft=function(l){return l(this.__value)},i.prototype.join=function(){return this},i.prototype.alt=function(l){return l},i.prototype.altLazy=function(l){return l()},i.prototype.reduce=function(l,c){return c},i.prototype.extend=function(l){return this},i.prototype.unsafeCoerce=function(){throw this.__value instanceof Error?this.__value:new Error("Either#unsafeCoerce was ran on a Left")},i.prototype.caseOf=function(l){return"_"in l?l._():l.Left(this.__value)},i.prototype.leftOrDefault=function(l){return this.__value},i.prototype.orDefault=function(l){return l},i.prototype.orDefaultLazy=function(l){return l()},i.prototype.leftOrDefaultLazy=function(l){return this.__value},i.prototype.ifLeft=function(l){return l(this.__value),this},i.prototype.ifRight=function(l){return this},i.prototype.toMaybe=function(){return n.Nothing},i.prototype.leftToMaybe=function(){return n.Just(this.__value)},i.prototype.either=function(l,c){return l(this.__value)},i.prototype.extract=function(){return this.__value},i.prototype.swap=function(){return s(this.__value)},i}();o.prototype.constructor=e.Either;var a=function(i){return new o(i)};e.Left=a;var s=function(i){return new r(i)};e.Right=s}(ru)),ru}var Yl={};(function(e){var t=de&&de.__read||function(c,d){var f=typeof Symbol=="function"&&c[Symbol.iterator];if(!f)return c;var h=f.call(c),m,b=[],w;try{for(;(d===void 0||d-- >0)&&!(m=h.next()).done;)b.push(m.value)}catch(S){w={error:S}}finally{try{m&&!m.done&&(f=h.return)&&f.call(h)}finally{if(w)throw w.error}}return b},n=de&&de.__spreadArray||function(c,d){for(var f=0,h=d.length,m=c.length;f<h;f++,m++)c[m]=d[f];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.curry=e.orderToNumber=e.compare=e.Order=e.always=e.identity=void 0;var r=function(c){return c};e.identity=r;var o=function(c){return function(){return c}};e.always=o;var a;(function(c){c.LT="LT",c.EQ="EQ",c.GT="GT"})(a=e.Order||(e.Order={}));var s=function(c,d){return c>d?a.GT:c<d?a.LT:a.EQ};e.compare=s;var i=function(c){switch(c){case a.LT:return-1;case a.EQ:return 0;case a.GT:return 1}};e.orderToNumber=i;var l=function(c){return function d(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];return f.length>=c.length?c.apply(void 0,f):d.bind.apply(d,n([void 0],t(f)))}};e.curry=l})(Yl);var bh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NonEmptyList=void 0;var t=sa(),n=function(r){return r};e.NonEmptyList=Object.assign(n,{fromArray:function(r){return e.NonEmptyList.isNonEmpty(r)?t.Just(r):t.Nothing},unsafeCoerce:function(r){if(e.NonEmptyList.isNonEmpty(r))return r;throw new Error("NonEmptyList#unsafeCoerce was ran on an empty array")},fromTuple:function(r){return e.NonEmptyList(r.toArray())},head:function(r){return r[0]},last:function(r){return r[r.length-1]},isNonEmpty:function(r){return r.length>0},tail:function(r){return r.slice(1)}})})(bh);(function(e){var t=de&&de.__assign||function(){return t=Object.assign||function(k){for(var O,L=1,z=arguments.length;L<z;L++){O=arguments[L];for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(k[B]=O[B])}return k},t.apply(this,arguments)},n=de&&de.__read||function(k,O){var L=typeof Symbol=="function"&&k[Symbol.iterator];if(!L)return k;var z=L.call(k),B,ee=[],le;try{for(;(O===void 0||O-- >0)&&!(B=z.next()).done;)ee.push(B.value)}catch(be){le={error:be}}finally{try{B&&!B.done&&(L=z.return)&&L.call(z)}finally{if(le)throw le.error}}return ee},r=de&&de.__spreadArray||function(k,O){for(var L=0,z=O.length,B=k.length;L<z;L++,B++)k[B]=O[L];return k},o=de&&de.__values||function(k){var O=typeof Symbol=="function"&&Symbol.iterator,L=O&&k[O],z=0;if(L)return L.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&z>=k.length&&(k=void 0),{value:k&&k[z++],done:!k}}};throw new TypeError(O?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.parseError=e.map=e.intersect=e.date=e.tuple=e.nonEmptyList=e.maybe=e.lazy=e.exactly=e.record=e.array=e.oneOf=e.enumeration=e.unknown=e.boolean=e.nullable=e.optional=e.nullType=e.number=e.string=e.Codec=void 0;var a=Xl(),s=Yl,i=sa(),l=bh,c=function(k){return Object.keys(k).length===0},d=function(k){return typeof k=="object"&&k!==null&&!Array.isArray(k)},f=function(k,O){var L="";switch(typeof O){case"undefined":L="undefined";break;case"object":L=O===null?"null":Array.isArray(O)?"an array with value "+JSON.stringify(O):"an object with value "+JSON.stringify(O);break;case"boolean":L="a boolean";break;case"symbol":L="a symbol";break;case"function":L="a function";break;case"bigint":L="a bigint with value "+O.toString()}return L=L||"a "+typeof O+" with value "+JSON.stringify(O),"Expected "+k+", but received "+L},h=function(k){var O,L=Object.keys(k);return L.length===1&&((O=k.oneOf)===null||O===void 0?void 0:O.length)===1&&typeof k.oneOf[0]=="object"&&(Object.assign(k,k.oneOf[0]),delete k.oneOf),k},m=function(k){var O;if(Array.isArray(k.oneOf))for(var L=0;L<k.oneOf.length;L++){var z=k.oneOf[L];if(typeof z=="object"&&z.oneOf)return k.oneOf.splice(L,1),(O=k.oneOf).push.apply(O,r([],n(z.oneOf))),b(k)}return k},b=function(k){return m(k),h(k),k};e.Codec={interface:function(k){var O=Object.keys(k),L=function(B){var ee,le;if(!d(B))return a.Left(f("an object",B));var be={};try{for(var me=o(O),fe=me.next();!fe.done;fe=me.next()){var ye=fe.value;if(!B.hasOwnProperty(ye)&&!k[ye]._isOptional)return a.Left('Problem with property "'+ye+'": it does not exist in received object '+JSON.stringify(B));var we=k[ye].decode(B[ye]);if(we.isLeft())return a.Left('Problem with the value of property "'+ye+'": '+we.extract());var ue=we.extract();ue!==void 0&&(be[ye]=ue)}}catch(Ie){ee={error:Ie}}finally{try{fe&&!fe.done&&(le=me.return)&&le.call(me)}finally{if(ee)throw ee.error}}return a.Right(be)},z=function(B){var ee,le,be={};try{for(var me=o(O),fe=me.next();!fe.done;fe=me.next()){var ye=fe.value;be[ye]=k[ye].encode(B[ye])}}catch(we){ee={error:we}}finally{try{fe&&!fe.done&&(le=me.return)&&le.call(me)}finally{if(ee)throw ee.error}}return be};return{decode:L,encode:z,unsafeDecode:function(B){return L(B).mapLeft(Error).unsafeCoerce()},schema:function(){return O.reduce(function(B,ee){var le=k[ee]._isOptional;return le||B.required.push(ee),B.properties[ee]=b(k[ee].schema()),B},{type:"object",properties:{},required:[]})}}},custom:function(k){var O=k.decode,L=k.encode,z=k.schema;return{decode:O,encode:L,unsafeDecode:function(B){return O(B).mapLeft(Error).unsafeCoerce()},schema:z??function(){return{}}}}},e.string=e.Codec.custom({decode:function(k){return typeof k=="string"?a.Right(k):a.Left(f("a string",k))},encode:s.identity,schema:function(){return{type:"string"}}}),e.number=e.Codec.custom({decode:function(k){return typeof k=="number"?a.Right(k):a.Left(f("a number",k))},encode:s.identity,schema:function(){return{type:"number"}}}),e.nullType=e.Codec.custom({decode:function(k){return k===null?a.Right(k):a.Left(f("a null",k))},encode:s.identity,schema:function(){return{type:"null"}}});var w=e.Codec.custom({decode:function(k){return k===void 0?a.Right(k):a.Left(f("an undefined",k))},encode:s.identity}),S=function(k){return t(t({},e.oneOf([k,w])),{schema:k.schema,_isOptional:!0})};e.optional=S;var v=function(k){return e.oneOf([k,e.nullType])};e.nullable=v,e.boolean=e.Codec.custom({decode:function(k){return typeof k=="boolean"?a.Right(k):a.Left(f("a boolean",k))},encode:s.identity,schema:function(){return{type:"boolean"}}}),e.unknown=e.Codec.custom({decode:a.Right,encode:s.identity,schema:function(){return{}}});var g=function(k){var O=Object.values(k);return e.Codec.custom({decode:function(L){return e.oneOf([e.string,e.number]).decode(L).chain(function(z){var B=O.indexOf(z);return B!==-1?a.Right(O[B]):a.Left(f("an enum member",L))})},encode:s.identity,schema:function(){return{enum:O}}})};e.enumeration=g;var x=function(k){return e.Codec.custom({decode:function(O){var L,z,B=[];try{for(var ee=o(k),le=ee.next();!le.done;le=ee.next()){var be=le.value,me=be.decode(O);if(me.isRight())return me;B.push(me.extract())}}catch(fe){L={error:fe}}finally{try{le&&!le.done&&(z=ee.return)&&z.call(ee)}finally{if(L)throw L.error}}return a.Left("One of the following problems occured: "+B.map(function(fe,ye){return"("+ye+") "+fe}).join(", "))},encode:function(O){var L,z,B=function(fe){var ye=a.Either.encase(function(){return fe.encode(O)}).mapLeft(function(we){return""}).chain(fe.decode);if(ye.isRight())return{value:fe.encode(O)}};try{for(var ee=o(k),le=ee.next();!le.done;le=ee.next()){var be=le.value,me=B(be);if(typeof me=="object")return me.value}}catch(fe){L={error:fe}}finally{try{le&&!le.done&&(z=ee.return)&&z.call(ee)}finally{if(L)throw L.error}}return O},schema:function(){return{oneOf:k.map(function(O){return O.schema()})}}})};e.oneOf=x;var E=function(k){return e.Codec.custom({decode:function(O){if(Array.isArray(O)){for(var L=[],z=0;z<O.length;z++){var B=k.decode(O[z]);if(B.isRight())L.push(B.extract());else return a.Left("Problem with the value at index "+z+": "+B.extract())}return a.Right(L)}else return a.Left(f("an array",O))},encode:function(O){return O.map(k.encode)},schema:function(){return{type:"array",items:k.schema()}}})};e.array=E;var M=e.Codec.custom({decode:function(k){return e.string.decode(k).chain(function(O){return isFinite(+O)?a.Right(O):a.Left(f("a number",k))})},encode:s.identity,schema:e.number.schema}),I=function(k,O){return e.Codec.custom({decode:function(L){var z,B,ee={},le=k===e.number?M:k;if(!d(L))return a.Left(f("an object",L));try{for(var be=o(Object.keys(L)),me=be.next();!me.done;me=be.next()){var fe=me.value;if(L.hasOwnProperty(fe)){var ye=le.decode(fe),we=O.decode(L[fe]);if(ye.isRight()&&we.isRight())ee[ye.extract()]=we.extract();else{if(ye.isLeft())return a.Left('Problem with key type of property "'+fe+'": '+ye.extract());if(we.isLeft())return a.Left('Problem with the value of property "'+fe+'": '+we.extract())}}}}catch(ue){z={error:ue}}finally{try{me&&!me.done&&(B=be.return)&&B.call(be)}finally{if(z)throw z.error}}return a.Right(ee)},encode:function(L){var z={};for(var B in L)L.hasOwnProperty(B)&&(z[k.encode(B)]=O.encode(L[B]));return z},schema:function(){return{type:"object",additionalProperties:O.schema()}}})};e.record=I;var _=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];return e.Codec.custom({decode:function(L){return k.includes(L)?a.Right(L):a.Left(f(k.map(function(z){return JSON.stringify(z)}).join(", "),L))},encode:s.identity,schema:function(){return{oneOf:k.map(function(L){return{type:typeof L,enum:[L]}})}}})};e.exactly=_;var R=function(k){return e.Codec.custom({decode:function(O){return k().decode(O)},encode:function(O){return k().encode(O)},schema:function(){return{$comment:"Lazy codecs are not supported when generating a JSON schema"}}})};e.lazy=R;var $=function(k){var O=e.Codec.custom({decode:function(L){return i.Maybe.fromNullable(L).caseOf({Just:function(z){return k.decode(z).map(i.Just)},Nothing:function(){return a.Right(i.Nothing)}})},encode:function(L){return L.map(k.encode).orDefault(void 0)},schema:function(){return c(k.schema())?{}:{oneOf:[k.schema(),{type:"null"}]}}});return t(t({},O),{_isOptional:!0})};e.maybe=$;var D=function(k){var O=e.array(k);return e.Codec.custom({decode:function(L){return O.decode(L).chain(function(z){return l.NonEmptyList.fromArray(z).toEither("Expected an array with one or more elements, but received an empty array")})},encode:O.encode,schema:function(){return t(t({},O.schema()),{minItems:1})}})};e.nonEmptyList=D;var W=function(k){return e.Codec.custom({decode:function(O){if(Array.isArray(O)){if(k.length!==O.length)return a.Left("Expected an array of length "+k.length+", but received an array with length of "+O.length);for(var L=[],z=0;z<k.length;z++){var B=k[z].decode(O[z]);if(B.isRight())L.push(B.extract());else return a.Left("Problem with the value at index "+z+": "+B.extract())}return a.Right(L)}else return a.Left(f("an array",O))},encode:function(O){return O.map(function(L,z){return k[z].encode(L)})},schema:function(){return{type:"array",items:k.map(function(O){return O.schema()}),additionalItems:!1,minItems:k.length,maxItems:k.length}}})};e.tuple=W,e.date=e.Codec.custom({decode:function(k){return e.string.decode(k).mapLeft(function(O){return"Problem with date string: "+O}).chain(function(O){return Number.isNaN(Date.parse(O))?a.Left("Expected a valid date string, but received a string that cannot be parsed"):a.Right(new Date(O))})},encode:function(k){return k.toISOString()},schema:function(){return{type:"string",format:"date-time"}}});var K=function(k,O){return e.Codec.custom({decode:function(L){var z=k.decode(L);if(z.isLeft())return z;var B=O.decode(L);if(B.isLeft())return B;var ee=z.extract(),le=B.extract();return d(ee)&&d(le)?a.Right(Object.assign(ee,le)):a.Right(le)},encode:function(L){var z=k.encode(L),B=O.encode(L);return d(z)&&d(B)?Object.assign(z,B):B},schema:function(){return{allOf:[k,O].map(function(L){return L.schema()})}}})};e.intersect=K;var V=function(k,O){return e.Codec.custom({decode:function(L){return e.array(e.tuple([k,O])).decode(L).map(function(z){return new Map(z)})},encode:function(L){return Array.from(L.entries()).map(function(z){var B=n(z,2),ee=B[0],le=B[1];return[k.encode(ee),O.encode(le)]})},schema:function(){return{type:"array",items:{type:"array",items:[k.schema(),O.schema()],additionalItems:!1,minItems:2,maxItems:2}}}})};e.map=V;var A=/^(One of the following problems occured:)\s/,q=/\(\d\)\s/,X=/\, (?=\()/g,Z=/^(Expected ).+(, but received )/,y=" with value",C='Problem with property "',N='Problem with the value of property "',T='Problem with key type of property "',j="Problem with date string: ",F="Problem with the value at index ",U={"an object":"object","a number":"number","a string":"string","an undefined":"undefined","a boolean":"boolean","an array":"array","a null":"null","an enum member":"enum"},J={"a string":"string","a number":"number",null:"null",undefined:"undefined","a boolean":"boolean","an array":"array","an object":"object","a symbol":"symbol","a function":"function","a bigint":"bigint"},G=["null","undefined","boolean","symbol","function","bigint"],P=function(k){var O=k.match(A);if(O){var L=k.replace(O[0],"");return{type:"oneOf",errors:L.split(X).map(function(ue){return e.parseError(ue.replace(ue.match(q)[0],""))})}}var z=k.match(Z);if(z){var B=k.split(z[2]).pop(),ee=J[B.split(y)[0]];if(ee){var le=k.replace(z[1],"").split(z[2])[0];return{type:"failure",expectedType:U[le],receivedType:ee,receivedValue:G.includes(ee)?void 0:JSON.parse(B.split(y).pop())}}}if(k.startsWith(C)){var be=k.replace(C,"").split('": ')[0];return{type:"property",property:be,error:{type:"failure",receivedType:"undefined"}}}if(k.startsWith(N)||k.startsWith(T)){var me=n(k.replace(N,"").replace(T,"").split(/": (.+)/)),be=me[0],fe=me.slice(1);return{type:"property",property:be,error:e.parseError(fe.join(""))}}if(k.startsWith(j))return e.parseError(k.replace(j,""));if(k.startsWith(F)){var ye=n(k.replace(F,"").split(/: (.+)/)),we=ye[0],fe=ye.slice(1);return{type:"index",index:Number(we),error:e.parseError(fe.join(""))}}return{type:"custom",message:k}};e.parseError=P})(Tb);var Ql={},wh={};(function(e){var t=de&&de.__generator||function(o,a){var s={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,l,c,d;return d={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(b){return h([m,b])}}function h(m){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,l&&(c=m[0]&2?l.return:m[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,m[1])).done)return c;switch(l=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,l=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(c=s.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){s.label=m[1];break}if(m[0]===6&&s.label<c[1]){s.label=c[1],c=m;break}if(c&&s.label<c[2]){s.label=c[2],s.ops.push(m);break}c[2]&&s.ops.pop(),s.trys.pop();continue}m=a.call(o,s)}catch(b){m=[6,b],l=0}finally{i=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},n=de&&de.__read||function(o,a){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var i=s.call(o),l,c=[],d;try{for(;(a===void 0||a-- >0)&&!(l=i.next()).done;)c.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(s=i.return)&&s.call(i)}finally{if(d)throw d.error}}return c};Object.defineProperty(e,"__esModule",{value:!0}),e.Tuple=void 0;var r=function(){function o(a,s){this.first=a,this.second=s,this.length=2,this["fantasy-land/equals"]=this.equals,this["fantasy-land/bimap"]=this.bimap,this["fantasy-land/map"]=this.map,this["fantasy-land/reduce"]=this.reduce,this["fantasy-land/ap"]=this.ap,this[0]=a,this[1]=s}return o.prototype[Symbol.iterator]=function(){return t(this,function(a){switch(a.label){case 0:return[4,this.first];case 1:return a.sent(),[4,this.second];case 2:return a.sent(),[2]}})},o.prototype.toJSON=function(){return this.toArray()},o.prototype.inspect=function(){return"Tuple("+JSON.stringify(this.first)+", "+JSON.stringify(this.second)+")"},o.prototype.toString=function(){return this.inspect()},o.prototype.fst=function(){return this.first},o.prototype.snd=function(){return this.second},o.prototype.equals=function(a){return this.first===a.fst()&&this.second===a.snd()},o.prototype.bimap=function(a,s){return e.Tuple(a(this.first),s(this.second))},o.prototype.mapFirst=function(a){return e.Tuple(a(this.first),this.second)},o.prototype.map=function(a){return e.Tuple(this.first,a(this.second))},o.prototype.reduce=function(a,s){return a(s,this.second)},o.prototype.toArray=function(){return[this.first,this.second]},o.prototype.swap=function(){return e.Tuple(this.second,this.first)},o.prototype.ap=function(a){return e.Tuple(this.first,a.snd()(this.second))},o.prototype.every=function(a){return a(this.first)&&a(this.second)},o.prototype.some=function(a){return a(this.first)||a(this.second)},o}();e.Tuple=Object.assign(function(o,a){return new r(o,a)},{fromArray:function(o){var a=n(o,2),s=a[0],i=a[1];return e.Tuple(s,i)},fanout:function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=n(o,3),i=s[0],l=s[1],c=s[2];switch(o.length){case 3:return e.Tuple(i(c),l(c));case 2:return function(d){return e.Tuple.fanout(i,l,d)};default:return function(d){return function(f){return e.Tuple.fanout(i,d,f)}}}}}),r.prototype.constructor=e.Tuple})(wh);var gj=de&&de.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,a=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(i){s={error:i}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a},vj=de&&de.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.List=void 0;var yj=wh,Mt=sa(),xj=Yl,bj=function(e){return e.length>0?Mt.Just(e[0]):Mt.Nothing},wj=function(e){return e.length>0?Mt.Just(e[e.length-1]):Mt.Nothing},Sj=function(e){return e.length>0?Mt.Just(e.slice(1)):Mt.Nothing},Cj=function(e){return e.length>0?Mt.Just(e.slice(0,-1)):Mt.Nothing},Ej=function(e){return e.length>0?Mt.Just(yj.Tuple(e[0],e.slice(1))):Mt.Nothing},kj=function(e){return e.reduce(function(t,n){return t+n},0)};function Ab(e,t){switch(arguments.length){case 1:return function(n){return Ab(e,n)};default:return Mt.Maybe.fromNullable(t.find(e))}}function jb(e,t){switch(arguments.length){case 1:return function(n){return jb(e,n)};default:return Mt.Maybe.fromPredicate(function(n){return n!==-1},t.findIndex(e))}}function Pb(e,t){switch(arguments.length){case 1:return function(n){return Pb(e,n)};default:return t[e]===void 0?Mt.Nothing:Mt.Just(t[e])}}function Ib(e,t){switch(arguments.length){case 1:return function(n){return Ib(e,n)};default:return vj([],gj(t)).sort(function(n,r){return xj.orderToNumber(e(n,r))})}}Ql.List={init:Cj,uncons:Ej,at:Pb,head:bj,last:wj,tail:Sj,find:Ab,findIndex:jb,sum:kj,sort:Ib};var au={},su={},Xm;function Ob(){return Xm||(Xm=1,function(e){var t=de&&de.__awaiter||function(l,c,d,f){function h(m){return m instanceof d?m:new d(function(b){b(m)})}return new(d||(d=Promise))(function(m,b){function w(g){try{v(f.next(g))}catch(x){b(x)}}function S(g){try{v(f.throw(g))}catch(x){b(x)}}function v(g){g.done?m(g.value):h(g.value).then(w,S)}v((f=f.apply(l,c||[])).next())})},n=de&&de.__generator||function(l,c){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,h,m,b;return b={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function w(v){return function(g){return S([v,g])}}function S(v){if(f)throw new TypeError("Generator is already executing.");for(;d;)try{if(f=1,h&&(m=v[0]&2?h.return:v[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,v[1])).done)return m;switch(h=0,m&&(v=[v[0]&2,m.value]),v[0]){case 0:case 1:m=v;break;case 4:return d.label++,{value:v[1],done:!1};case 5:d.label++,h=v[1],v=[0];continue;case 7:v=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(v[0]===6||v[0]===2)){d=0;continue}if(v[0]===3&&(!m||v[1]>m[0]&&v[1]<m[3])){d.label=v[1];break}if(v[0]===6&&d.label<m[1]){d.label=m[1],m=v;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(v);break}m[2]&&d.ops.pop(),d.trys.pop();continue}v=c.call(l,d)}catch(g){v=[6,g],h=0}finally{f=m=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},r=de&&de.__asyncValues||function(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=l[Symbol.asyncIterator],d;return c?c.call(l):(l=typeof __values=="function"?__values(l):l[Symbol.iterator](),d={},f("next"),f("throw"),f("return"),d[Symbol.asyncIterator]=function(){return this},d);function f(m){d[m]=l[m]&&function(b){return new Promise(function(w,S){b=l[m](b),h(w,S,b.done,b.value)})}}function h(m,b,w,S){Promise.resolve(S).then(function(v){m({value:v,done:w})},b)}};Object.defineProperty(e,"__esModule",{value:!0}),e.EitherAsync=void 0;var o=Xl(),a=Lb(),s={liftEither:function(l){if(l.isRight())return Promise.resolve(l.extract());throw l.extract()},fromPromise:function(l){return l.then(s.liftEither)},throwE:function(l){throw l}},i=function(){function l(c){var d=this;this.runPromise=c,this[Symbol.toStringTag]="EitherAsync",this["fantasy-land/map"]=this.map,this["fantasy-land/bimap"]=this.bimap,this["fantasy-land/chain"]=this.chain,this["fantasy-land/ap"]=this.ap,this["fantasy-land/extend"]=this.extend,this["fantasy-land/alt"]=this.alt,this.then=function(f,h){return d.run().then(f,h)}}return l.prototype.leftOrDefault=function(c){return this.run().then(function(d){return d.leftOrDefault(c)})},l.prototype.orDefault=function(c){return this.run().then(function(d){return d.orDefault(c)})},l.prototype.join=function(){var c=this;return e.EitherAsync(function(d){return t(c,void 0,void 0,function(){var f,h;return n(this,function(m){switch(m.label){case 0:return[4,this];case 1:return f=m.sent(),f.isRight()?[4,f.extract()]:[3,3];case 2:return h=m.sent(),[2,d.liftEither(h)];case 3:return[2,d.liftEither(f)]}})})})},l.prototype.ap=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h,m;return n(this,function(b){switch(b.label){case 0:return[4,c];case 1:return h=b.sent(),h.isRight()?[4,this]:[3,3];case 2:return m=b.sent(),m.isRight()?[2,h.extract()(m.extract())]:[2,f.liftEither(m)];case 3:return[2,f.liftEither(h)]}})})})},l.prototype.alt=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h,m;return n(this,function(b){switch(b.label){case 0:return[4,this];case 1:return h=b.sent(),h.isRight()?[2,h.extract()]:[3,2];case 2:return[4,c];case 3:return m=b.sent(),[2,f.liftEither(m)]}})})})},l.prototype.extend=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h,m;return n(this,function(b){switch(b.label){case 0:return[4,this.run()];case 1:return h=b.sent(),h.isRight()?(m=e.EitherAsync.liftEither(h),[2,f.liftEither(o.Right(c(m)))]):[2,f.liftEither(h)]}})})})},l.prototype.run=function(){return t(this,void 0,void 0,function(){var c,d;return n(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),c=o.Right,[4,this.runPromise(s)];case 1:return[2,c.apply(void 0,[f.sent()])];case 2:return d=f.sent(),[2,o.Left(d)];case 3:return[2]}})})},l.prototype.bimap=function(c,d){var f=this;return e.EitherAsync(function(h){return t(f,void 0,void 0,function(){var m;return n(this,function(b){switch(b.label){case 0:return[4,this.run()];case 1:return m=b.sent(),[2,h.liftEither(m.bimap(c,d))]}})})})},l.prototype.map=function(c){var d=this;return e.EitherAsync(function(f){return d.runPromise(f).then(c)})},l.prototype.mapLeft=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.runPromise(f)];case 1:return[2,m.sent()];case 2:throw h=m.sent(),c(h);case 3:return[2]}})})})},l.prototype.chain=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return[4,this.runPromise(f)];case 1:return h=m.sent(),[2,f.fromPromise(c(h))]}})})})},l.prototype.chainLeft=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,this.runPromise(f)];case 1:return[2,m.sent()];case 2:return h=m.sent(),[2,f.fromPromise(c(h))];case 3:return[2]}})})})},l.prototype.toMaybeAsync=function(){var c=this;return a.MaybeAsync(function(d){var f=d.liftMaybe;return t(c,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return[4,this.run()];case 1:return h=m.sent(),[2,f(h.toMaybe())]}})})})},l.prototype.swap=function(){var c=this;return e.EitherAsync(function(d){return t(c,void 0,void 0,function(){var f;return n(this,function(h){switch(h.label){case 0:return[4,this.run()];case 1:return f=h.sent(),f.isRight()&&d.throwE(f.extract()),[2,d.liftEither(o.Right(f.extract()))]}})})})},l.prototype.ifLeft=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return[4,this.run()];case 1:return h=m.sent(),h.ifLeft(c),[2,f.liftEither(h)]}})})})},l.prototype.ifRight=function(c){var d=this;return e.EitherAsync(function(f){return t(d,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return[4,this.run()];case 1:return h=m.sent(),h.ifRight(c),[2,f.liftEither(h)]}})})})},l.prototype.void=function(){return this.map(function(c){})},l}();e.EitherAsync=Object.assign(function(l){return new i(l)},{fromPromise:function(l){return e.EitherAsync(function(c){var d=c.fromPromise;return d(l())})},liftEither:function(l){return e.EitherAsync(function(c){var d=c.liftEither;return d(l)})},lefts:function(l){return Promise.all(l.map(function(c){return c.run()})).then(o.Either.lefts)},rights:function(l){return Promise.all(l.map(function(c){return c.run()})).then(o.Either.rights)},sequence:function(l){return e.EitherAsync(function(c){return t(void 0,void 0,void 0,function(){var d,f,h,m,b,w,S;return n(this,function(v){switch(v.label){case 0:d=[],v.label=1;case 1:v.trys.push([1,6,7,12]),f=r(l),v.label=2;case 2:return[4,f.next()];case 3:if(h=v.sent(),!!h.done)return[3,5];if(m=h.value,m.isLeft())return[2,c.liftEither(m)];d.push(m.extract()),v.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return b=v.sent(),w={error:b},[3,12];case 7:return v.trys.push([7,,10,11]),h&&!h.done&&(S=f.return)?[4,S.call(f)]:[3,9];case 8:v.sent(),v.label=9;case 9:return[3,11];case 10:if(w)throw w.error;return[7];case 11:return[7];case 12:return[2,c.liftEither(o.Right(d))]}})})})},all:function(l){return e.EitherAsync.fromPromise(function(){return t(void 0,void 0,void 0,function(){return n(this,function(c){return[2,Promise.all(l).then(o.Either.sequence)]})})})}}),i.prototype.constructor=e.EitherAsync}(su)),su}var Ym;function Lb(){return Ym||(Ym=1,function(e){var t=de&&de.__awaiter||function(i,l,c,d){function f(h){return h instanceof c?h:new c(function(m){m(h)})}return new(c||(c=Promise))(function(h,m){function b(v){try{S(d.next(v))}catch(g){m(g)}}function w(v){try{S(d.throw(v))}catch(g){m(g)}}function S(v){v.done?h(v.value):f(v.value).then(b,w)}S((d=d.apply(i,l||[])).next())})},n=de&&de.__generator||function(i,l){var c={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},d,f,h,m;return m={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function b(S){return function(v){return w([S,v])}}function w(S){if(d)throw new TypeError("Generator is already executing.");for(;c;)try{if(d=1,f&&(h=S[0]&2?f.return:S[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,S[1])).done)return h;switch(f=0,h&&(S=[S[0]&2,h.value]),S[0]){case 0:case 1:h=S;break;case 4:return c.label++,{value:S[1],done:!1};case 5:c.label++,f=S[1],S=[0];continue;case 7:S=c.ops.pop(),c.trys.pop();continue;default:if(h=c.trys,!(h=h.length>0&&h[h.length-1])&&(S[0]===6||S[0]===2)){c=0;continue}if(S[0]===3&&(!h||S[1]>h[0]&&S[1]<h[3])){c.label=S[1];break}if(S[0]===6&&c.label<h[1]){c.label=h[1],h=S;break}if(h&&c.label<h[2]){c.label=h[2],c.ops.push(S);break}h[2]&&c.ops.pop(),c.trys.pop();continue}S=l.call(i,c)}catch(v){S=[6,v],f=0}finally{d=h=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.MaybeAsync=void 0;var r=sa(),o=Ob(),a={liftMaybe:function(i){if(i.isJust())return Promise.resolve(i.extract());throw r.Nothing},fromPromise:function(i){return i.then(a.liftMaybe)}},s=function(){function i(l){this.runPromise=l,this[Symbol.toStringTag]="MaybeAsync",this["fantasy-land/map"]=this.map,this["fantasy-land/chain"]=this.chain,this["fantasy-land/ap"]=this.ap,this["fantasy-land/filter"]=this.filter,this["fantasy-land/extend"]=this.extend,this["fantasy-land/alt"]=this.alt}return i.prototype.orDefault=function(l){return this.run().then(function(c){return c.orDefault(l)})},i.prototype.join=function(){var l=this;return e.MaybeAsync(function(c){return t(l,void 0,void 0,function(){var d,f;return n(this,function(h){switch(h.label){case 0:return[4,this.run()];case 1:return d=h.sent(),d.isJust()?[4,d.extract()]:[3,3];case 2:return f=h.sent(),[2,c.liftMaybe(f)];case 3:return[2,c.liftMaybe(r.Nothing)]}})})})},i.prototype.ap=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f,h;return n(this,function(m){switch(m.label){case 0:return[4,l];case 1:return f=m.sent(),f.isJust()?[4,this]:[3,3];case 2:return h=m.sent(),h.isJust()?[2,f.extract()(h.extract())]:[2,d.liftMaybe(r.Nothing)];case 3:return[2,d.liftMaybe(r.Nothing)]}})})})},i.prototype.alt=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f,h;return n(this,function(m){switch(m.label){case 0:return[4,this];case 1:return f=m.sent(),f.isJust()?[2,f.extract()]:[3,2];case 2:return[4,l];case 3:return h=m.sent(),[2,d.liftMaybe(h)]}})})})},i.prototype.extend=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f,h;return n(this,function(m){switch(m.label){case 0:return[4,this.run()];case 1:return f=m.sent(),f.isJust()?(h=e.MaybeAsync.liftMaybe(f),[2,d.liftMaybe(r.Just(l(h)))]):[2,d.liftMaybe(r.Nothing)]}})})})},i.prototype.filter=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f;return n(this,function(h){switch(h.label){case 0:return[4,this.run()];case 1:return f=h.sent(),[2,d.liftMaybe(f.filter(l))]}})})})},i.prototype.run=function(){return t(this,void 0,void 0,function(){var l;return n(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),l=r.Just,[4,this.runPromise(a)];case 1:return[2,l.apply(void 0,[c.sent()])];case 2:return c.sent(),[2,r.Nothing];case 3:return[2]}})})},i.prototype.map=function(l){var c=this;return e.MaybeAsync(function(d){return c.runPromise(d).then(l)})},i.prototype.chain=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f;return n(this,function(h){switch(h.label){case 0:return[4,this.runPromise(d)];case 1:return f=h.sent(),[2,d.fromPromise(l(f))]}})})})},i.prototype.toEitherAsync=function(l){var c=this;return o.EitherAsync(function(d){var f=d.liftEither;return t(c,void 0,void 0,function(){var h;return n(this,function(m){switch(m.label){case 0:return[4,this.run()];case 1:return h=m.sent(),[2,f(h.toEither(l))]}})})})},i.prototype.ifJust=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f;return n(this,function(h){switch(h.label){case 0:return[4,this.run()];case 1:return f=h.sent(),f.ifJust(l),[2,d.liftMaybe(f)]}})})})},i.prototype.ifNothing=function(l){var c=this;return e.MaybeAsync(function(d){return t(c,void 0,void 0,function(){var f;return n(this,function(h){switch(h.label){case 0:return[4,this.run()];case 1:return f=h.sent(),f.ifNothing(l),[2,d.liftMaybe(f)]}})})})},i.prototype.void=function(){return this.map(function(l){})},i.prototype.then=function(l,c){return this.run().then(l,c)},i}();e.MaybeAsync=Object.assign(function(i){return new s(i)},{catMaybes:function(i){return Promise.all(i).then(r.Maybe.catMaybes)},fromPromise:function(i){return e.MaybeAsync(function(l){var c=l.fromPromise;return c(i())})},liftMaybe:function(i){return e.MaybeAsync(function(l){var c=l.liftMaybe;return c(i)})}}),s.prototype.constructor=e.MaybeAsync}(au)),au}(function(e){var t=de&&de.__createBinding||(Object.create?function(a,s,i,l){l===void 0&&(l=i),Object.defineProperty(a,l,{enumerable:!0,get:function(){return s[i]}})}:function(a,s,i,l){l===void 0&&(l=i),a[l]=s[i]}),n=de&&de.__exportStar||function(a,s){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,a,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.EitherAsync=e.MaybeAsync=void 0,n(Tb,e),n(Xl(),e),n(Yl,e),n(Ql,e),n(sa(),e);var r=Lb();Object.defineProperty(e,"MaybeAsync",{enumerable:!0,get:function(){return r.MaybeAsync}});var o=Ob();Object.defineProperty(e,"EitherAsync",{enumerable:!0,get:function(){return o.EitherAsync}}),n(bh,e),n(wh,e)})(Zl);Object.defineProperty(Jr,"__esModule",{value:!0});Jr.stringifyOCPPMessage=Jr.parseOCPPMessage=void 0;const Tn=Kl,iu=Ct,ho=Zl,_j=e=>{try{if(typeof e!="string")return ho.Left(new iu.ValidationError("only string is supported"));const[t,n,...r]=JSON.parse(e);switch(t){case Tn.MessageType.CALL:{const[o,a]=r;return ho.Right({type:Tn.MessageType.CALL,id:n,action:o,...a?{payload:a}:{}})}case Tn.MessageType.CALLRESULT:{const[o]=r;return ho.Right({type:Tn.MessageType.CALLRESULT,id:n,...o?{payload:o}:{}})}case Tn.MessageType.CALLERROR:{const[o,a,s]=r;return ho.Right({type:Tn.MessageType.CALLERROR,id:n,errorCode:o,errorDescription:a,...s?{errorDetails:s}:{}})}default:return ho.Left(new iu.ValidationError(`Not supported message type: ${t}`))}}catch(t){return ho.Left(new iu.ValidationError(`An error occurred when trying to parse message: "${e}"`).wrap(t))}};Jr.parseOCPPMessage=_j;const Nj=e=>{switch(e.type){case Tn.MessageType.CALL:{const{type:t,id:n,action:r,payload:o}=e;return JSON.stringify([t,n,r,...o?[o]:[]])}case Tn.MessageType.CALLRESULT:{const{type:t,id:n,payload:r}=e;return JSON.stringify([t,n,...r?[r]:[]])}case Tn.MessageType.CALLERROR:{const{type:t,id:n,errorCode:r,errorDescription:o,errorDetails:a}=e;return JSON.stringify([t,n,r,o,...a?[a]:[]])}}};Jr.stringifyOCPPMessage=Nj;function Rj(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jo={},Un={};const Mj={},Tj=Object.freeze(Object.defineProperty({__proto__:null,default:Mj},Symbol.toStringTag,{value:"Module"})),Sh=Ng(Tj);var ze={},Db=Sh,$d=ze.ValidationError=function(t,n,r,o,a,s){if(Array.isArray(o)?(this.path=o,this.property=o.reduce(function(l,c){return l+$b(c)},"instance")):o!==void 0&&(this.property=o),t&&(this.message=t),r){var i=r.$id||r.id;this.schema=i||r}n!==void 0&&(this.instance=n),this.name=a,this.argument=s,this.stack=this.toString()};$d.prototype.toString=function(){return this.property+" "+this.message};var ec=ze.ValidatorResult=function(t,n,r,o){this.instance=t,this.schema=n,this.options=r,this.path=o.path,this.propertyPath=o.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&r.disableFormat===!0};ec.prototype.addError=function(t){var n;if(typeof t=="string")n=new $d(t,this.instance,this.schema,this.path);else{if(!t)throw new Error("Missing error detail");if(!t.message)throw new Error("Missing error message");if(!t.name)throw new Error("Missing validator type");n=new $d(t.message,this.instance,this.schema,this.path,t.name,t.argument)}if(this.errors.push(n),this.throwFirst)throw new Zr(this);if(this.throwError)throw n;return n};ec.prototype.importErrors=function(t){typeof t=="string"||t&&t.validatorType?this.addError(t):t&&t.errors&&(this.errors=this.errors.concat(t.errors))};function Aj(e,t){return t+": "+e.toString()+`
`}ec.prototype.toString=function(t){return this.errors.map(Aj).join("")};Object.defineProperty(ec.prototype,"valid",{get:function(){return!this.errors.length}});ze.ValidatorResultError=Zr;function Zr(e){Error.captureStackTrace&&Error.captureStackTrace(this,Zr),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}Zr.prototype=new Error;Zr.prototype.constructor=Zr;Zr.prototype.name="Validation Error";var Qm=ze.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};Qm.prototype=Object.create(Error.prototype,{constructor:{value:Qm,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Fd=ze.SchemaContext=function(t,n,r,o,a){this.schema=t,this.options=n,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce(function(s,i){return s+$b(i)},"instance")):this.propertyPath=r,this.base=o,this.schemas=a};Fd.prototype.resolve=function(t){return Db.resolve(this.base,t)};Fd.prototype.makeChild=function(t,n){var r=n===void 0?this.path:this.path.concat([n]),o=t.$id||t.id,a=Db.resolve(this.base,o||""),s=new Fd(t,this.options,r,a,Object.create(this.schemas));return o&&!s.schemas[a]&&(s.schemas[a]=t),s};var nn=ze.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return typeof e=="string"&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch{t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};nn.regexp=nn.regex;nn.pattern=nn.regex;nn.ipv4=nn["ip-address"];ze.isFormat=function(t,n,r){if(typeof t=="string"&&nn[n]!==void 0){if(nn[n]instanceof RegExp)return nn[n].test(t);if(typeof nn[n]=="function")return nn[n](t)}else if(r&&r.customFormats&&typeof r.customFormats[n]=="function")return r.customFormats[n](t);return!0};var $b=ze.makeSuffix=function(t){return t=t.toString(),!t.match(/[.\s\[\]]/)&&!t.match(/^[\d]/)?"."+t:t.match(/^\d+$/)?"["+t+"]":"["+JSON.stringify(t)+"]"};ze.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!Array.isArray(n)||t.length!==n.length?!1:t.every(function(a,s){return e(t[s],n[s])});if(typeof t=="object"){if(!t||!n)return t===n;var r=Object.keys(t),o=Object.keys(n);return r.length!==o.length?!1:r.every(function(a){return e(t[a],n[a])})}return t===n};function jj(e,t,n,r){typeof n=="object"?t[r]=Ch(e[r],n):e.indexOf(n)===-1&&t.push(n)}function Pj(e,t,n){t[n]=e[n]}function Ij(e,t,n,r){typeof t[r]!="object"||!t[r]?n[r]=t[r]:e[r]?n[r]=Ch(e[r],t[r]):n[r]=t[r]}function Ch(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(jj.bind(null,e,r))):(e&&typeof e=="object"&&Object.keys(e).forEach(Pj.bind(null,e,r)),Object.keys(t).forEach(Ij.bind(null,e,t,r))),r}ze.deepMerge=Ch;ze.objectGetPath=function(t,n){for(var r=n.split("/").slice(1),o;typeof(o=r.shift())=="string";){var a=decodeURIComponent(o.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in t))return;t=t[a]}return t};function Oj(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}ze.encodePath=function(t){return t.map(Oj).join("")};ze.getDecimalPlaces=function(t){var n=0;if(isNaN(t))return n;typeof t!="number"&&(t=Number(t));var r=t.toString().split("e");if(r.length===2){if(r[1][0]!=="-")return n;n=Number(r[1].slice(1))}var o=r[0].split(".");return o.length===2&&(n+=o[1].length),n};ze.isSchema=function(t){return typeof t=="object"&&t||typeof t=="boolean"};var Lt=ze,Ee=Lt.ValidatorResult,Er=Lt.SchemaError,Eh={};Eh.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var ke=Eh.validators={};ke.type=function(t,n,r,o){if(t===void 0)return null;var a=new Ee(t,n,r,o),s=Array.isArray(n.type)?n.type:[n.type];if(!s.some(this.testType.bind(this,t,n,r,o))){var i=s.map(function(l){if(l){var c=l.$id||l.id;return c?"<"+c+">":l+""}});a.addError({name:"type",argument:i,message:"is not of a type(s) "+i})}return a};function kh(e,t,n,r,o){var a=t.throwError,s=t.throwAll;t.throwError=!1,t.throwAll=!1;var i=this.validateSchema(e,o,t,n);return t.throwError=a,t.throwAll=s,!i.valid&&r instanceof Function&&r(i),i.valid}ke.anyOf=function(t,n,r,o){if(t===void 0)return null;var a=new Ee(t,n,r,o),s=new Ee(t,n,r,o);if(!Array.isArray(n.anyOf))throw new Er("anyOf must be an array");if(!n.anyOf.some(kh.bind(this,t,r,o,function(l){s.importErrors(l)}))){var i=n.anyOf.map(function(l,c){var d=l.$id||l.id;return d?"<"+d+">":l.title&&JSON.stringify(l.title)||l.$ref&&"<"+l.$ref+">"||"[subschema "+c+"]"});r.nestedErrors&&a.importErrors(s),a.addError({name:"anyOf",argument:i,message:"is not any of "+i.join(",")})}return a};ke.allOf=function(t,n,r,o){if(t===void 0)return null;if(!Array.isArray(n.allOf))throw new Er("allOf must be an array");var a=new Ee(t,n,r,o),s=this;return n.allOf.forEach(function(i,l){var c=s.validateSchema(t,i,r,o);if(!c.valid){var d=i.$id||i.id,f=d||i.title&&JSON.stringify(i.title)||i.$ref&&"<"+i.$ref+">"||"[subschema "+l+"]";a.addError({name:"allOf",argument:{id:f,length:c.errors.length,valid:c},message:"does not match allOf schema "+f+" with "+c.errors.length+" error[s]:"}),a.importErrors(c)}}),a};ke.oneOf=function(t,n,r,o){if(t===void 0)return null;if(!Array.isArray(n.oneOf))throw new Er("oneOf must be an array");var a=new Ee(t,n,r,o),s=new Ee(t,n,r,o),i=n.oneOf.filter(kh.bind(this,t,r,o,function(c){s.importErrors(c)})).length,l=n.oneOf.map(function(c,d){var f=c.$id||c.id;return f||c.title&&JSON.stringify(c.title)||c.$ref&&"<"+c.$ref+">"||"[subschema "+d+"]"});return i!==1&&(r.nestedErrors&&a.importErrors(s),a.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),a};ke.if=function(t,n,r,o){if(t===void 0)return null;if(!Lt.isSchema(n.if))throw new Error('Expected "if" keyword to be a schema');var a=kh.call(this,t,r,o,null,n.if),s=new Ee(t,n,r,o),i;if(a){if(n.then===void 0)return;if(!Lt.isSchema(n.then))throw new Error('Expected "then" keyword to be a schema');i=this.validateSchema(t,n.then,r,o.makeChild(n.then)),s.importErrors(i)}else{if(n.else===void 0)return;if(!Lt.isSchema(n.else))throw new Error('Expected "else" keyword to be a schema');i=this.validateSchema(t,n.else,r,o.makeChild(n.else)),s.importErrors(i)}return s};function _h(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e){for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}}ke.propertyNames=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o),s=n.propertyNames!==void 0?n.propertyNames:{};if(!Lt.isSchema(s))throw new Er('Expected "propertyNames" to be a schema (object or boolean)');for(var i in t)if(_h(t,i)!==void 0){var l=this.validateSchema(i,s,r,o.makeChild(s));a.importErrors(l)}return a}};ke.properties=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o),s=n.properties||{};for(var i in s){var l=s[i];if(l!==void 0){if(l===null)throw new Er('Unexpected null, expected schema in "properties"');typeof r.preValidateProperty=="function"&&r.preValidateProperty(t,i,l,r,o);var c=_h(t,i),d=this.validateSchema(c,l,r,o.makeChild(l,i));d.instance!==a.instance[i]&&(a.instance[i]=d.instance),a.importErrors(d)}}return a}};function Fb(e,t,n,r,o,a){if(this.types.object(e)&&!(t.properties&&t.properties[o]!==void 0))if(t.additionalProperties===!1)a.addError({name:"additionalProperties",argument:o,message:"is not allowed to have the additional property "+JSON.stringify(o)});else{var s=t.additionalProperties||{};typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,o,s,n,r);var i=this.validateSchema(e[o],s,n,r.makeChild(s,o));i.instance!==a.instance[o]&&(a.instance[o]=i.instance),a.importErrors(i)}}ke.patternProperties=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o),s=n.patternProperties||{};for(var i in t){var l=!0;for(var c in s){var d=s[c];if(d!==void 0){if(d===null)throw new Er('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(c,"u")}catch{f=new RegExp(c)}if(f.test(i)){l=!1,typeof r.preValidateProperty=="function"&&r.preValidateProperty(t,i,d,r,o);var h=this.validateSchema(t[i],d,r,o.makeChild(d,i));h.instance!==a.instance[i]&&(a.instance[i]=h.instance),a.importErrors(h)}}}l&&Fb.call(this,t,n,r,o,i,a)}return a}};ke.additionalProperties=function(t,n,r,o){if(this.types.object(t)){if(n.patternProperties)return null;var a=new Ee(t,n,r,o);for(var s in t)Fb.call(this,t,n,r,o,s,a);return a}};ke.minProperties=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o),s=Object.keys(t);return s.length>=n.minProperties||a.addError({name:"minProperties",argument:n.minProperties,message:"does not meet minimum property length of "+n.minProperties}),a}};ke.maxProperties=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o),s=Object.keys(t);return s.length<=n.maxProperties||a.addError({name:"maxProperties",argument:n.maxProperties,message:"does not meet maximum property length of "+n.maxProperties}),a}};ke.items=function(t,n,r,o){var a=this;if(this.types.array(t)&&n.items!==void 0){var s=new Ee(t,n,r,o);return t.every(function(i,l){if(Array.isArray(n.items))var c=n.items[l]===void 0?n.additionalItems:n.items[l];else var c=n.items;if(c===void 0)return!0;if(c===!1)return s.addError({name:"items",message:"additionalItems not permitted"}),!1;var d=a.validateSchema(i,c,r,o.makeChild(c,l));return d.instance!==s.instance[l]&&(s.instance[l]=d.instance),s.importErrors(d),!0}),s}};ke.contains=function(t,n,r,o){var a=this;if(this.types.array(t)&&n.contains!==void 0){if(!Lt.isSchema(n.contains))throw new Error('Expected "contains" keyword to be a schema');var s=new Ee(t,n,r,o),i=t.some(function(l,c){var d=a.validateSchema(l,n.contains,r,o.makeChild(n.contains,c));return d.errors.length===0});return i===!1&&s.addError({name:"contains",argument:n.contains,message:"must contain an item matching given schema"}),s}};ke.minimum=function(t,n,r,o){if(this.types.number(t)){var a=new Ee(t,n,r,o);return n.exclusiveMinimum&&n.exclusiveMinimum===!0?t>n.minimum||a.addError({name:"minimum",argument:n.minimum,message:"must be greater than "+n.minimum}):t>=n.minimum||a.addError({name:"minimum",argument:n.minimum,message:"must be greater than or equal to "+n.minimum}),a}};ke.maximum=function(t,n,r,o){if(this.types.number(t)){var a=new Ee(t,n,r,o);return n.exclusiveMaximum&&n.exclusiveMaximum===!0?t<n.maximum||a.addError({name:"maximum",argument:n.maximum,message:"must be less than "+n.maximum}):t<=n.maximum||a.addError({name:"maximum",argument:n.maximum,message:"must be less than or equal to "+n.maximum}),a}};ke.exclusiveMinimum=function(t,n,r,o){if(typeof n.exclusiveMinimum!="boolean"&&this.types.number(t)){var a=new Ee(t,n,r,o),s=t>n.exclusiveMinimum;return s||a.addError({name:"exclusiveMinimum",argument:n.exclusiveMinimum,message:"must be strictly greater than "+n.exclusiveMinimum}),a}};ke.exclusiveMaximum=function(t,n,r,o){if(typeof n.exclusiveMaximum!="boolean"&&this.types.number(t)){var a=new Ee(t,n,r,o),s=t<n.exclusiveMaximum;return s||a.addError({name:"exclusiveMaximum",argument:n.exclusiveMaximum,message:"must be strictly less than "+n.exclusiveMaximum}),a}};var Vb=function(t,n,r,o,a,s){if(this.types.number(t)){var i=n[a];if(i==0)throw new Er(a+" cannot be zero");var l=new Ee(t,n,r,o),c=Lt.getDecimalPlaces(t),d=Lt.getDecimalPlaces(i),f=Math.max(c,d),h=Math.pow(10,f);return Math.round(t*h)%Math.round(i*h)!==0&&l.addError({name:a,argument:i,message:s+JSON.stringify(i)}),l}};ke.multipleOf=function(t,n,r,o){return Vb.call(this,t,n,r,o,"multipleOf","is not a multiple of (divisible by) ")};ke.divisibleBy=function(t,n,r,o){return Vb.call(this,t,n,r,o,"divisibleBy","is not divisible by (multiple of) ")};ke.required=function(t,n,r,o){var a=new Ee(t,n,r,o);return t===void 0&&n.required===!0?a.addError({name:"required",message:"is required"}):this.types.object(t)&&Array.isArray(n.required)&&n.required.forEach(function(s){_h(t,s)===void 0&&a.addError({name:"required",argument:s,message:"requires property "+JSON.stringify(s)})}),a};ke.pattern=function(t,n,r,o){if(this.types.string(t)){var a=new Ee(t,n,r,o),s=n.pattern;try{var i=new RegExp(s,"u")}catch{i=new RegExp(s)}return t.match(i)||a.addError({name:"pattern",argument:n.pattern,message:"does not match pattern "+JSON.stringify(n.pattern.toString())}),a}};ke.format=function(t,n,r,o){if(t!==void 0){var a=new Ee(t,n,r,o);return!a.disableFormat&&!Lt.isFormat(t,n.format,this)&&a.addError({name:"format",argument:n.format,message:"does not conform to the "+JSON.stringify(n.format)+" format"}),a}};ke.minLength=function(t,n,r,o){if(this.types.string(t)){var a=new Ee(t,n,r,o),s=t.match(/[\uDC00-\uDFFF]/g),i=t.length-(s?s.length:0);return i>=n.minLength||a.addError({name:"minLength",argument:n.minLength,message:"does not meet minimum length of "+n.minLength}),a}};ke.maxLength=function(t,n,r,o){if(this.types.string(t)){var a=new Ee(t,n,r,o),s=t.match(/[\uDC00-\uDFFF]/g),i=t.length-(s?s.length:0);return i<=n.maxLength||a.addError({name:"maxLength",argument:n.maxLength,message:"does not meet maximum length of "+n.maxLength}),a}};ke.minItems=function(t,n,r,o){if(this.types.array(t)){var a=new Ee(t,n,r,o);return t.length>=n.minItems||a.addError({name:"minItems",argument:n.minItems,message:"does not meet minimum length of "+n.minItems}),a}};ke.maxItems=function(t,n,r,o){if(this.types.array(t)){var a=new Ee(t,n,r,o);return t.length<=n.maxItems||a.addError({name:"maxItems",argument:n.maxItems,message:"does not meet maximum length of "+n.maxItems}),a}};function Lj(e,t,n){var r,o=n.length;for(r=t+1,o;r<o;r++)if(Lt.deepCompareStrict(e,n[r]))return!1;return!0}ke.uniqueItems=function(t,n,r,o){if(n.uniqueItems===!0&&this.types.array(t)){var a=new Ee(t,n,r,o);return t.every(Lj)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}};ke.dependencies=function(t,n,r,o){if(this.types.object(t)){var a=new Ee(t,n,r,o);for(var s in n.dependencies)if(t[s]!==void 0){var i=n.dependencies[s],l=o.makeChild(i,s);if(typeof i=="string"&&(i=[i]),Array.isArray(i))i.forEach(function(d){t[d]===void 0&&a.addError({name:"dependencies",argument:l.propertyPath,message:"property "+d+" not found, required by "+l.propertyPath})});else{var c=this.validateSchema(t,i,r,l);a.instance!==c.instance&&(a.instance=c.instance),c&&c.errors.length&&(a.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),a.importErrors(c))}}return a}};ke.enum=function(t,n,r,o){if(t===void 0)return null;if(!Array.isArray(n.enum))throw new Er("enum expects an array",n);var a=new Ee(t,n,r,o);return n.enum.some(Lt.deepCompareStrict.bind(null,t))||a.addError({name:"enum",argument:n.enum,message:"is not one of enum values: "+n.enum.map(String).join(",")}),a};ke.const=function(t,n,r,o){if(t===void 0)return null;var a=new Ee(t,n,r,o);return Lt.deepCompareStrict(n.const,t)||a.addError({name:"const",argument:n.const,message:"does not exactly match expected constant: "+n.const}),a};ke.not=ke.disallow=function(t,n,r,o){var a=this;if(t===void 0)return null;var s=new Ee(t,n,r,o),i=n.not||n.disallow;return i?(Array.isArray(i)||(i=[i]),i.forEach(function(l){if(a.testType(t,n,r,o,l)){var c=l&&(l.$id||l.id),d=c||l;s.addError({name:"not",argument:d,message:"is of prohibited type "+d})}}),s):null};var Dj=Eh,ks={},eg=Sh,$j=ze;ks.SchemaScanResult=zb;function zb(e,t){this.id=e,this.ref=t}ks.scan=function(t,n){function r(l,c){if(!(!c||typeof c!="object")){if(c.$ref){var d=eg.resolve(l,c.$ref);i[d]=i[d]?i[d]+1:0;return}var f=c.$id||c.id,h=f?eg.resolve(l,f):l;if(h){if(h.indexOf("#")<0&&(h+="#"),s[h]){if(!$j.deepCompareStrict(s[h],c))throw new Error("Schema <"+h+"> already exists with different definition");return s[h]}s[h]=c,h[h.length-1]=="#"&&(s[h.substring(0,h.length-1)]=c)}o(h+"/items",Array.isArray(c.items)?c.items:[c.items]),o(h+"/extends",Array.isArray(c.extends)?c.extends:[c.extends]),r(h+"/additionalItems",c.additionalItems),a(h+"/properties",c.properties),r(h+"/additionalProperties",c.additionalProperties),a(h+"/definitions",c.definitions),a(h+"/patternProperties",c.patternProperties),a(h+"/dependencies",c.dependencies),o(h+"/disallow",c.disallow),o(h+"/allOf",c.allOf),o(h+"/anyOf",c.anyOf),o(h+"/oneOf",c.oneOf),r(h+"/not",c.not)}}function o(l,c){if(Array.isArray(c))for(var d=0;d<c.length;d++)r(l+"/"+d,c[d])}function a(l,c){if(!(!c||typeof c!="object"))for(var d in c)r(l+"/"+d,c[d])}var s={},i={};return r(t,n),new zb(s,i)};var Ub=Sh,Bb=Dj,so=ze,Wb=ks.scan,Hb=so.ValidatorResult,Fj=so.ValidatorResultError,fs=so.SchemaError,Gb=so.SchemaContext,qb="/",Xe=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(kn),this.attributes=Object.create(Bb.validators)};Xe.prototype.customFormats={};Xe.prototype.schemas=null;Xe.prototype.types=null;Xe.prototype.attributes=null;Xe.prototype.unresolvedRefs=null;Xe.prototype.addSchema=function(t,n){var r=this;if(!t)return null;var o=Wb(n||qb,t),a=n||t.$id||t.id;for(var s in o.id)this.schemas[s]=o.id[s];for(var s in o.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter(function(i){return typeof r.schemas[i]>"u"}),this.schemas[a]};Xe.prototype.addSubSchemaArray=function(t,n){if(Array.isArray(n))for(var r=0;r<n.length;r++)this.addSubSchema(t,n[r])};Xe.prototype.addSubSchemaObject=function(t,n){if(!(!n||typeof n!="object"))for(var r in n)this.addSubSchema(t,n[r])};Xe.prototype.setSchemas=function(t){this.schemas=t};Xe.prototype.getSchema=function(t){return this.schemas[t]};Xe.prototype.validate=function(t,n,r,o){if(typeof n!="boolean"&&typeof n!="object"||n===null)throw new fs("Expected `schema` to be an object or boolean");r||(r={});var a=n.$id||n.id,s=Ub.resolve(r.base||qb,a||"");if(!o){o=new Gb(n,r,[],s,Object.create(this.schemas)),o.schemas[s]||(o.schemas[s]=n);var i=Wb(s,n);for(var l in i.id){var c=i.id[l];o.schemas[l]=c}}if(r.required&&t===void 0){var d=new Hb(t,n,r,o);return d.addError("is required, but is undefined"),d}var d=this.validateSchema(t,n,r,o);if(d){if(r.throwAll&&d.errors.length)throw new Fj(d)}else throw new Error("Result undefined");return d};function Kb(e){var t=typeof e=="string"?e:e.$ref;return typeof t=="string"?t:!1}Xe.prototype.validateSchema=function(t,n,r,o){var a=new Hb(t,n,r,o);if(typeof n=="boolean")n===!0?n={}:n===!1&&(n={type:[]});else if(!n)throw new Error("schema is undefined");if(n.extends)if(Array.isArray(n.extends)){var s={schema:n,ctx:o};n.extends.forEach(this.schemaTraverser.bind(this,s)),n=s.schema,s.schema=null,s.ctx=null,s=null}else n=so.deepMerge(n,this.superResolve(n.extends,o));var i=Kb(n);if(i){var l=this.resolve(n,i,o),c=new Gb(l.subschema,r,o.path,l.switchSchema,o.schemas);return this.validateSchema(t,l.subschema,r,c)}var d=r&&r.skipAttributes||[];for(var f in n)if(!Bb.ignoreProperties[f]&&d.indexOf(f)<0){var h=null,m=this.attributes[f];if(m)h=m.call(this,t,n,r,o);else if(r.allowUnknownAttributes===!1)throw new fs("Unsupported attribute: "+f,n);h&&a.importErrors(h)}if(typeof r.rewrite=="function"){var b=r.rewrite.call(this,t,n,r,o);a.instance=b}return a};Xe.prototype.schemaTraverser=function(t,n){t.schema=so.deepMerge(t.schema,this.superResolve(n,t.ctx))};Xe.prototype.superResolve=function(t,n){var r=Kb(t);return r?this.resolve(t,r,n).subschema:t};Xe.prototype.resolve=function(t,n,r){if(n=r.resolve(n),r.schemas[n])return{subschema:r.schemas[n],switchSchema:n};var o=Ub.parse(n),a=o&&o.hash,s=a&&a.length&&n.substr(0,n.length-a.length);if(!s||!r.schemas[s])throw new fs("no such schema <"+n+">",t);var i=so.objectGetPath(r.schemas[s],a.substr(1));if(i===void 0)throw new fs("no such schema "+a+" located in <"+s+">",t);return{subschema:i,switchSchema:n}};Xe.prototype.testType=function(t,n,r,o,a){if(a!==void 0){if(a===null)throw new fs('Unexpected null in "type" keyword');if(typeof this.types[a]=="function")return this.types[a].call(this,t);if(a&&typeof a=="object"){var s=this.validateSchema(t,a,r,o);return s===void 0||!(s&&s.errors.length)}return!0}};var kn=Xe.prototype.types={};kn.string=function(t){return typeof t=="string"};kn.number=function(t){return typeof t=="number"&&isFinite(t)};kn.integer=function(t){return typeof t=="number"&&t%1===0};kn.boolean=function(t){return typeof t=="boolean"};kn.array=function(t){return Array.isArray(t)};kn.null=function(t){return t===null};kn.date=function(t){return t instanceof Date};kn.any=function(t){return!0};kn.object=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!(t instanceof Date)};var Vj=Xe,zj=Un.Validator=Vj;Un.ValidatorResult=ze.ValidatorResult;Un.ValidatorResultError=ze.ValidatorResultError;Un.ValidationError=ze.ValidationError;Un.SchemaError=ze.SchemaError;Un.SchemaScanResult=ks.SchemaScanResult;Un.scan=ks.scan;Un.validate=function(e,t,n){var r=new zj;return r.validate(e,t,n)};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.validateMessageResponse=Jo.validateMessageRequest=void 0;const tg=Ct,lu=Zl,Uj=Un,Jb=(e,t,n,r)=>{if(!r.includes(t))return lu.Left(new tg.ValidationError("action is not valid"));const o=Rj(`./json/${e}/${t}.json`),a=Uj.validate(n,o);return a.valid?lu.Right({action:t,ocppVersion:"v1.6-json",...n}):lu.Left(new tg.ValidationError(`jsonschema errors: ${a.errors.map(s=>s.toString())}`))},Bj=(e,t,n)=>Jb("request",e,t,n);Jo.validateMessageRequest=Bj;const Wj=(e,t,n)=>Jb("response",e,t,n);Jo.validateMessageResponse=Wj;var Qs,Hj=new Uint8Array(16);function Zb(){if(!Qs&&(Qs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qs(Hj)}const Gj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function tc(e){return typeof e=="string"&&Gj.test(e)}var Ye=[];for(var cu=0;cu<256;++cu)Ye.push((cu+256).toString(16).substr(1));function nc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ye[e[t+0]]+Ye[e[t+1]]+Ye[e[t+2]]+Ye[e[t+3]]+"-"+Ye[e[t+4]]+Ye[e[t+5]]+"-"+Ye[e[t+6]]+Ye[e[t+7]]+"-"+Ye[e[t+8]]+Ye[e[t+9]]+"-"+Ye[e[t+10]]+Ye[e[t+11]]+Ye[e[t+12]]+Ye[e[t+13]]+Ye[e[t+14]]+Ye[e[t+15]]).toLowerCase();if(!tc(n))throw TypeError("Stringified UUID is invalid");return n}var ng,uu,du=0,fu=0;function qj(e,t,n){var r=t&&n||0,o=t||new Array(16);e=e||{};var a=e.node||ng,s=e.clockseq!==void 0?e.clockseq:uu;if(a==null||s==null){var i=e.random||(e.rng||Zb)();a==null&&(a=ng=[i[0]|1,i[1],i[2],i[3],i[4],i[5]]),s==null&&(s=uu=(i[6]<<8|i[7])&16383)}var l=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:fu+1,d=l-du+(c-fu)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||l>du)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");du=l,fu=c,uu=s,l+=122192928e5;var f=((l&268435455)*1e4+c)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=f&255;var h=l/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=h&255,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=s>>>8|128,o[r++]=s&255;for(var m=0;m<6;++m)o[r+m]=a[m];return t||nc(o)}function Xb(e){if(!tc(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function Kj(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var Jj="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Zj="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Yb(e,t,n){function r(o,a,s,i){if(typeof o=="string"&&(o=Kj(o)),typeof a=="string"&&(a=Xb(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+o.length);if(l.set(a),l.set(o,a.length),l=n(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){i=i||0;for(var c=0;c<16;++c)s[i+c]=l[c];return s}return nc(l)}try{r.name=e}catch{}return r.DNS=Jj,r.URL=Zj,r}function Xj(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Yj(Qj(eP(e),e.length*8))}function Yj(e){for(var t=[],n=e.length*32,r="0123456789abcdef",o=0;o<n;o+=8){var a=e[o>>5]>>>o%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);t.push(s)}return t}function Qb(e){return(e+64>>>9<<4)+14+1}function Qj(e,t){e[t>>5]|=128<<t%32,e[Qb(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,s=0;s<e.length;s+=16){var i=n,l=r,c=o,d=a;n=ot(n,r,o,a,e[s],7,-680876936),a=ot(a,n,r,o,e[s+1],12,-389564586),o=ot(o,a,n,r,e[s+2],17,606105819),r=ot(r,o,a,n,e[s+3],22,-1044525330),n=ot(n,r,o,a,e[s+4],7,-176418897),a=ot(a,n,r,o,e[s+5],12,1200080426),o=ot(o,a,n,r,e[s+6],17,-1473231341),r=ot(r,o,a,n,e[s+7],22,-45705983),n=ot(n,r,o,a,e[s+8],7,1770035416),a=ot(a,n,r,o,e[s+9],12,-1958414417),o=ot(o,a,n,r,e[s+10],17,-42063),r=ot(r,o,a,n,e[s+11],22,-1990404162),n=ot(n,r,o,a,e[s+12],7,1804603682),a=ot(a,n,r,o,e[s+13],12,-40341101),o=ot(o,a,n,r,e[s+14],17,-1502002290),r=ot(r,o,a,n,e[s+15],22,1236535329),n=at(n,r,o,a,e[s+1],5,-165796510),a=at(a,n,r,o,e[s+6],9,-1069501632),o=at(o,a,n,r,e[s+11],14,643717713),r=at(r,o,a,n,e[s],20,-373897302),n=at(n,r,o,a,e[s+5],5,-701558691),a=at(a,n,r,o,e[s+10],9,38016083),o=at(o,a,n,r,e[s+15],14,-660478335),r=at(r,o,a,n,e[s+4],20,-405537848),n=at(n,r,o,a,e[s+9],5,568446438),a=at(a,n,r,o,e[s+14],9,-1019803690),o=at(o,a,n,r,e[s+3],14,-187363961),r=at(r,o,a,n,e[s+8],20,1163531501),n=at(n,r,o,a,e[s+13],5,-1444681467),a=at(a,n,r,o,e[s+2],9,-51403784),o=at(o,a,n,r,e[s+7],14,1735328473),r=at(r,o,a,n,e[s+12],20,-1926607734),n=st(n,r,o,a,e[s+5],4,-378558),a=st(a,n,r,o,e[s+8],11,-2022574463),o=st(o,a,n,r,e[s+11],16,1839030562),r=st(r,o,a,n,e[s+14],23,-35309556),n=st(n,r,o,a,e[s+1],4,-1530992060),a=st(a,n,r,o,e[s+4],11,1272893353),o=st(o,a,n,r,e[s+7],16,-155497632),r=st(r,o,a,n,e[s+10],23,-1094730640),n=st(n,r,o,a,e[s+13],4,681279174),a=st(a,n,r,o,e[s],11,-358537222),o=st(o,a,n,r,e[s+3],16,-722521979),r=st(r,o,a,n,e[s+6],23,76029189),n=st(n,r,o,a,e[s+9],4,-640364487),a=st(a,n,r,o,e[s+12],11,-421815835),o=st(o,a,n,r,e[s+15],16,530742520),r=st(r,o,a,n,e[s+2],23,-995338651),n=it(n,r,o,a,e[s],6,-198630844),a=it(a,n,r,o,e[s+7],10,1126891415),o=it(o,a,n,r,e[s+14],15,-1416354905),r=it(r,o,a,n,e[s+5],21,-57434055),n=it(n,r,o,a,e[s+12],6,1700485571),a=it(a,n,r,o,e[s+3],10,-1894986606),o=it(o,a,n,r,e[s+10],15,-1051523),r=it(r,o,a,n,e[s+1],21,-2054922799),n=it(n,r,o,a,e[s+8],6,1873313359),a=it(a,n,r,o,e[s+15],10,-30611744),o=it(o,a,n,r,e[s+6],15,-1560198380),r=it(r,o,a,n,e[s+13],21,1309151649),n=it(n,r,o,a,e[s+4],6,-145523070),a=it(a,n,r,o,e[s+11],10,-1120210379),o=it(o,a,n,r,e[s+2],15,718787259),r=it(r,o,a,n,e[s+9],21,-343485551),n=or(n,i),r=or(r,l),o=or(o,c),a=or(a,d)}return[n,r,o,a]}function eP(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Qb(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function or(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function tP(e,t){return e<<t|e>>>32-t}function rc(e,t,n,r,o,a){return or(tP(or(or(t,e),or(r,a)),o),n)}function ot(e,t,n,r,o,a,s){return rc(t&n|~t&r,e,t,o,a,s)}function at(e,t,n,r,o,a,s){return rc(t&r|n&~r,e,t,o,a,s)}function st(e,t,n,r,o,a,s){return rc(t^n^r,e,t,o,a,s)}function it(e,t,n,r,o,a,s){return rc(n^(t|~r),e,t,o,a,s)}var nP=Yb("v3",48,Xj);function rP(e,t,n){e=e||{};var r=e.random||(e.rng||Zb)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return nc(r)}function oP(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function hu(e,t){return e<<t|e>>>32-t}function aP(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),i=new Array(s),l=0;l<s;++l){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[l*64+d*4]<<24|e[l*64+d*4+1]<<16|e[l*64+d*4+2]<<8|e[l*64+d*4+3];i[l]=c}i[s-1][14]=(e.length-1)*8/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<s;++f){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=i[f][m];for(var b=16;b<80;++b)h[b]=hu(h[b-3]^h[b-8]^h[b-14]^h[b-16],1);for(var w=n[0],S=n[1],v=n[2],g=n[3],x=n[4],E=0;E<80;++E){var M=Math.floor(E/20),I=hu(w,5)+oP(M,S,v,g)+x+t[M]+h[E]>>>0;x=g,g=v,v=hu(S,30)>>>0,S=w,w=I}n[0]=n[0]+w>>>0,n[1]=n[1]+S>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var sP=Yb("v5",80,aP);const iP="00000000-0000-0000-0000-000000000000";function lP(e){if(!tc(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const cP=Object.freeze(Object.defineProperty({__proto__:null,NIL:iP,parse:Xb,stringify:nc,v1:qj,v3:nP,v4:rP,v5:sP,validate:tc,version:lP},Symbol.toStringTag,{value:"Module"})),uP=Ng(cP);var dP=de&&de.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),fP=de&&de.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hP=de&&de.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&dP(t,e,n);return fP(t,e),t};Object.defineProperty(al,"__esModule",{value:!0});const rg=Jr,qn=Kl,Sa=Ct,og=Jo,pP=hP(uP),Tt=Zl;class mP{constructor(t,n,r,o,a=!0,s,i){this.socket=t,this.requestHandler=n,this.requestedActions=r,this.respondedActions=o,this.rejectInvalidRequests=a,this.handlers=s,this.requestTimeout=i,this.messageTriggers={}}sendRequest(t,{action:n,ocppVersion:r,...o}){return Tt.EitherAsync.fromPromise(async()=>{var a,s;const i=pP.v4(),l=new Promise((h,m)=>{var b;const w=setTimeout(()=>m(new Sa.OCPPRequestTimedOutError(t)),(b=this.requestTimeout)!==null&&b!==void 0?b:3e4);this.messageTriggers[i]=function(S){h(S),clearTimeout(w)}}),c=og.validateMessageRequest(t,o,this.respondedActions);if(c.isLeft())return Tt.Left(new Sa.OCPPApplicationError(c.extract().toString()));const d={id:i,type:qn.MessageType.CALL,action:t,payload:o};(a=this.handlers)===null||a===void 0||a.onSendRequest(d),await this.sendOCPPMessage(d);const f=await l;return delete this.messageTriggers[i],(s=this.handlers)===null||s===void 0||s.onReceiveResponse(f),f.type===qn.MessageType.CALL?Tt.Left(new Sa.OCPPRequestError("response received was of CALL type, should be either CALLRESULT or CALLERROR")):f.type===qn.MessageType.CALLERROR?Tt.Left(new Sa.OCPPRequestError("other side responded with error",f.errorCode,f.errorDescription,f.errorDetails)):Tt.Right(f.payload)})}handleWebsocketData(t){rg.parseOCPPMessage(t).map(n=>this.handleOCPPMessage(n)).map(async n=>{await n.map(r=>this.sendOCPPMessage(r))})}close(){this.socket.close()}async sendOCPPMessage(t){return new Promise((n,r)=>{this.socket.send(rg.stringifyOCPPMessage(t),o=>{o?r(o):n()})})}handleOCPPMessage(t){return Tt.MaybeAsync.fromPromise(async()=>{var n,r,o;switch(t.type){case qn.MessageType.CALL:(n=this.handlers)===null||n===void 0||n.onReceiveRequest(t);const s=(await Tt.EitherAsync.liftEither(og.validateMessageRequest(t.action,(r=t.payload)!==null&&r!==void 0?r:{},this.requestedActions)).map(i=>({request:i})).chainLeft(async i=>this.rejectInvalidRequests?Tt.Left(i):Tt.Right({validationError:i,request:{action:t.action,ocppVersion:"v1.6-json",...t.payload}})).chain(async({request:i,validationError:l})=>{try{const c=await this.requestHandler(i,l);return Tt.Right(c)}catch(c){return Tt.Left(new Sa.OCPPApplicationError("on handling chargepoint request").wrap(c))}})).either(i=>({id:t.id,type:qn.MessageType.CALLERROR,errorCode:"GenericError",errorDescription:`[${i.name}] ${i.message}`,errorDetails:i}),({action:i,ocppVersion:l,...c})=>({type:qn.MessageType.CALLRESULT,id:t.id,payload:c}));return(o=this.handlers)===null||o===void 0||o.onSendResponse(s),Tt.Just(s);case qn.MessageType.CALLERROR:case qn.MessageType.CALLRESULT:this.messageTriggers[t.id](t)}return Tt.Nothing})}}al.default=mP;var ew={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SUPPORTED_PROTOCOLS=e.OCPP_1_6=void 0,e.OCPP_1_6="ocpp1.6",e.SUPPORTED_PROTOCOLS=[e.OCPP_1_6]})(ew);(function(e){var t=de&&de.__createBinding||(Object.create?function(a,s,i,l){l===void 0&&(l=i),Object.defineProperty(a,l,{enumerable:!0,get:function(){return s[i]}})}:function(a,s,i,l){l===void 0&&(l=i),a[l]=s[i]}),n=de&&de.__exportStar||function(a,s){for(var i in a)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,a,i)},r=de&&de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0,n(al,e);var o=al;Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return r(o).default}}),n(ew,e),n(Jr,e),n(Kl,e)})(rr);var Y=(e=>(e.Available="Available",e.Preparing="Preparing",e.Charging="Charging",e.SuspendedEVSE="SuspendedEVSE",e.SuspendedEV="SuspendedEV",e.Finishing="Finishing",e.Reserved="Reserved",e.Unavailable="Unavailable",e.Faulted="Faulted",e))(Y||{}),Me=(e=>(e.Authorize="Authorize",e.BootNotification="BootNotification",e.ChangeAvailability="ChangeAvailability",e.ChangeConfiguration="ChangeConfiguration",e.ClearCache="ClearCache",e.DataTransfer="DataTransfer",e.GetConfiguration="GetConfiguration",e.Heartbeat="Heartbeat",e.MeterValues="MeterValues",e.RemoteStartTransaction="RemoteStartTransaction",e.RemoteStopTransaction="RemoteStopTransaction",e.Reset="Reset",e.StartTransaction="StartTransaction",e.StatusNotification="StatusNotification",e.StopTransaction="StopTransaction",e.UnlockConnector="UnlockConnector",e.GetDiagnostics="GetDiagnostics",e.DiagnosticsStatusNotification="DiagnosticsStatusNotification",e.FirmwareStatusNotification="FirmwareStatusNotification",e.UpdateFirmware="UpdateFirmware",e.GetLocalListVersion="GetLocalListVersion",e.SendLocalList="SendLocalList",e.CancelReservation="CancelReservation",e.ReserveNow="ReserveNow",e.ClearChargingProfile="ClearChargingProfile",e.GetCompositeSchedule="GetCompositeSchedule",e.SetChargingProfile="SetChargingProfile",e.TriggerMessage="TriggerMessage",e.CallResult="CallResult",e))(Me||{}),tw=(e=>(e.Core="Core",e.FirmwareManagement="FirmwareManagement",e.LocalAuthListManagement="LocalAuthListManagement",e.Reservation="Reservation",e.SmartCharging="SmartCharging",e.RemoteTrigger="RemoteTrigger",e))(tw||{});const gP={chargeBoxSerialNumber:"123456",chargePointModel:"Model",chargePointSerialNumber:"123456",chargePointVendor:"Vendor",firmwareVersion:"1.0",iccid:"",imsi:"",meterSerialNumber:"123456",meterType:""};var rn=(e=>(e.Accepted="Accepted",e.Faulted="Faulted",e.Occupied="Occupied",e.Rejected="Rejected",e.Unavailable="Unavailable",e))(rn||{}),Vd=(e=>(e.Accepted="Accepted",e.Rejected="Rejected",e))(Vd||{});const vP=e=>e.authorized===!0,ag=e=>e.availability==="Operative";function yP(e){return _b({available:ut(ce("PLUGIN","preparing",Mn(ag),_e(t=>({...t,authorized:!1}))),ce("RESERVE","reserved"),ce("SET_UNAVAILABLE","unavailable"),ce("ERROR","faulted")),preparing:ut(ce("AUTHORIZE","preparing",_e((t,n)=>({...t,authorized:!0,tagId:n.type==="AUTHORIZE"?n.tagId:t.tagId}))),ce("START_TRANSACTION","charging",Mn(vP),_e((t,n)=>({...t,transactionId:n.type==="START_TRANSACTION"?n.transactionId:t.transactionId}))),ce("PLUGOUT","available",_e(t=>({...t,authorized:!1,tagId:null}))),ce("SET_UNAVAILABLE","unavailable"),ce("ERROR","faulted")),charging:ut(ce("SUSPEND_EV","suspendedEV"),ce("SUSPEND_EVSE","suspendedEVSE"),ce("STOP_TRANSACTION","finishing",_e(t=>({...t,transactionId:null,authorized:!1}))),ce("SET_UNAVAILABLE","unavailable"),ce("ERROR","faulted")),suspendedEV:ut(ce("RESUME","charging"),ce("SUSPEND_EVSE","suspendedEVSE"),ce("STOP_TRANSACTION","finishing",_e(t=>({...t,transactionId:null,authorized:!1}))),ce("ERROR","faulted")),suspendedEVSE:ut(ce("RESUME","charging"),ce("SUSPEND_EV","suspendedEV"),ce("STOP_TRANSACTION","finishing",_e(t=>({...t,transactionId:null,authorized:!1}))),ce("ERROR","faulted")),finishing:ut(ce("PLUGOUT","available",_e(t=>({...t,transactionId:null,authorized:!1,tagId:null}))),ce("SET_UNAVAILABLE","unavailable"),ce("ERROR","faulted")),reserved:ut(ce("PLUGIN","preparing",Mn(ag)),ce("CANCEL_RESERVATION","available",_e(t=>({...t,tagId:null}))),ce("SET_UNAVAILABLE","unavailable"),ce("ERROR","faulted")),unavailable:ut(ce("SET_AVAILABLE","available",_e(t=>({...t,availability:"Operative"}))),ce("ERROR","faulted")),faulted:ut(ce("RESET","available",_e(t=>({...t,transactionId:null,authorized:!1,tagId:null}))),ce("SET_UNAVAILABLE","unavailable"))},t=>({...e,current:t}))}function ei(e){return{available:Y.Available,preparing:Y.Preparing,charging:Y.Charging,suspendedEV:Y.SuspendedEV,suspendedEVSE:Y.SuspendedEVSE,finishing:Y.Finishing,reserved:Y.Reserved,unavailable:Y.Unavailable,faulted:Y.Faulted}[e]||Y.Faulted}class xP{constructor(t,n,r,o){H(this,"connectorMachines",new Map);H(this,"connectorPreviousStatus",new Map);H(this,"history");this.logger=t,this.eventEmitter=n,this.chargePointGetter=r,this.connectorGetter=o,this.history=new fj(1e3),this.eventEmitter.on("connectorStatusChange",({connectorId:a,status:s,previousStatus:i})=>{this.history.recordTransition({id:crypto.randomUUID(),timestamp:new Date,entity:"connector",entityId:a,transitionType:"status",fromState:i,toState:s,context:{source:"ChargePoint.updateConnectorStatus",timestamp:new Date},validationResult:{level:"OK"},success:!0})})}initializeConnector(t,n=Y.Available,r="Operative"){const a=yP({connectorId:t,authorized:!1,transactionId:null,tagId:null,availability:r}),s=Rb(a,i=>{const l=ei(i.name),c=this.connectorPreviousStatus.get(t)||n;l!==c&&(this.eventEmitter.emit("connectorStatusChange",{connectorId:t,status:l,previousStatus:c}),this.logger.info(`[StateManager] Connector ${t} status: ${c}  ${l}`,te.System),this.connectorPreviousStatus.set(t,l))});this.connectorMachines.set(t,s),this.connectorPreviousStatus.set(t,n)}transitionConnectorStatus(t,n,r){const o=this.connectorMachines.get(t);if(!o){const s=`Connector ${t} not initialized`;return this.logger.error(`[StateManager] ${s}`,te.System),{success:!1,error:s}}const a=ei(o.machine.current);try{o.send(n);const s=ei(o.machine.current);return this.history.recordTransition({id:crypto.randomUUID(),timestamp:new Date,entity:"connector",entityId:t,transitionType:"status",fromState:a,toState:s,context:r||{source:"StateManager",timestamp:new Date},validationResult:{level:"OK"},success:!0}),{success:!0,previousState:a,newState:s}}catch(s){const i=s instanceof Error?s.message:"Transition failed";return this.logger.error(`[StateManager] State transition failed for connector ${t}: ${i}`,te.System),this.history.recordTransition({id:crypto.randomUUID(),timestamp:new Date,entity:"connector",entityId:t,transitionType:"status",fromState:a,toState:a,context:r||{source:"StateManager",timestamp:new Date},validationResult:{level:"ERROR",message:i},success:!1,errorMessage:i}),{success:!1,error:i,previousState:a}}}prepareTransaction(t,n){return this.transitionConnectorStatus(t,{type:"PLUGIN"},{source:"prepareTransaction",timestamp:new Date,metadata:{tagId:n}})}startTransaction(t,n,r){const o=this.connectorMachines.get(t);return o&&r&&o.send({type:"AUTHORIZE",tagId:r}),this.transitionConnectorStatus(t,{type:"START_TRANSACTION",transactionId:n},{source:"startTransaction",timestamp:new Date,metadata:{transactionId:n,tagId:r}})}stopTransaction(t,n){return this.transitionConnectorStatus(t,{type:"STOP_TRANSACTION",reason:n},{source:"stopTransaction",timestamp:new Date,reason:n})}transitionChargePointStatus(t,n){const o=this.chargePointGetter().status;return this.history.recordTransition({id:crypto.randomUUID(),timestamp:new Date,entity:"chargePoint",transitionType:"status",fromState:o,toState:t,context:n,validationResult:{level:"OK"},success:!0}),this.logger.info(`[StateManager] ChargePoint status: ${o}  ${t}`,te.System),{success:!0,previousState:o,newState:t}}getChargePointState(){const t=this.chargePointGetter();return{status:t.status,error:t.error,timestamp:new Date}}getConnectorState(t){const n=this.connectorGetter(t);if(!n)return null;const r=this.connectorMachines.get(t),o=r?ei(r.machine.current):n.status;return{connectorId:t,status:o,availability:n.availability,meterValue:n.meterValue,transaction:n.transaction?{id:n.transaction.id,tagId:"",startTime:new Date,startMeter:0}:null,timestamp:new Date}}getStateHistory(t){return this.history.getHistory(t)}getStatistics(){return this.history.getStatistics()}cleanup(){this.connectorMachines.clear(),this.connectorPreviousStatus.clear(),this.history.clear()}}function bP(e,t){if(t.length===0)return 0;if(t.length===1)return t[0].value;if(t.length===2)return t[0].value+(t[1].value-t[0].value)*e;const n=t.length-1;let r=[...t];for(let o=1;o<=n;o++){const a=[];for(let s=0;s<=n-o;s++)a.push({time:(1-e)*r[s].time+e*r[s+1].time,value:(1-e)*r[s].value+e*r[s+1].value});r=a}return r[0].value}function wP(e,t){if(t.curvePoints.length===0)return 0;const n=[...t.curvePoints].sort((i,l)=>i.time-l.time),r=n[0].time,o=n[n.length-1].time,a=Math.max(r,Math.min(o,e)),s=o>r?(a-r)/(o-r):0;return bP(s,n)}const SP={enabled:!1,curvePoints:[{time:0,value:0},{time:30,value:50}],intervalSeconds:10,autoCalculateInterval:!1};class CP{constructor(t,n,r){H(this,"timer",null);H(this,"startTimestamp",null);H(this,"strategy",null);this.connectorId=t,this.callbacks=n,this.logger=r}start(t){var r,o,a,s,i,l;if(this.stop(),this.strategy=t,t.kind==="curve"){const{config:c}=t;if(!c.enabled){(o=(r=this.logger)==null?void 0:r.info)==null||o.call(r,`[MeterValueScheduler] Curve strategy disabled for connector ${this.connectorId}`);return}this.startTimestamp=Date.now();const d=c.autoCalculateInterval?this.calculateAutoInterval(c):Math.max(1e3,c.intervalSeconds*1e3);(s=(a=this.logger)==null?void 0:a.info)==null||s.call(a,`[MeterValueScheduler] Starting curve strategy for connector ${this.connectorId} interval=${d}ms`),this.timer=setInterval(()=>{this.tickCurve(c)},d);return}const n=Math.max(1e3,t.intervalSeconds*1e3);(l=(i=this.logger)==null?void 0:i.info)==null||l.call(i,`[MeterValueScheduler] Starting increment strategy for connector ${this.connectorId} interval=${n}ms increment=${t.incrementValue} maxTime=${t.maxTimeSeconds||"unlimited"} maxValue=${t.maxValue||"unlimited"}`),this.startTimestamp=Date.now(),this.timer=setInterval(()=>{this.tickIncrement(t)},n)}tickIncrement(t){var a,s,i,l;if(t.maxTimeSeconds&&t.maxTimeSeconds>0&&this.startTimestamp&&(Date.now()-this.startTimestamp)/1e3>=t.maxTimeSeconds){(s=(a=this.logger)==null?void 0:a.info)==null||s.call(a,`[MeterValueScheduler] Max time reached (${t.maxTimeSeconds}s) for connector ${this.connectorId}, stopping`),this.stop();return}const n=this.callbacks.getCurrentValue();if(t.maxValue&&t.maxValue>0&&n>=t.maxValue){(l=(i=this.logger)==null?void 0:i.info)==null||l.call(i,`[MeterValueScheduler] Max value reached (${t.maxValue}Wh) for connector ${this.connectorId}, stopping`),this.stop();return}const r=n+t.incrementValue,o=t.maxValue&&t.maxValue>0?Math.min(r,t.maxValue):r;this.callbacks.updateValue(o),this.callbacks.onSend(this.connectorId)}stop(){this.timer&&(clearInterval(this.timer),this.timer=null),this.startTimestamp=null,this.strategy=null}isActive(){return this.timer!==null}cleanup(){this.stop()}tickCurve(t){if(!this.startTimestamp)return;const r=(Date.now()-this.startTimestamp)/1e3/60,o=wP(r,t),a=Math.round(o*1e3);this.callbacks.updateValue(a),this.callbacks.onSend(this.connectorId)}calculateAutoInterval(t){const n=[...t.curvePoints].sort((a,s)=>a.time-s.time);if(n.length<2)return 10*1e3;const r=n[n.length-1].time-n[0].time||1;return Math.max(5,Math.min(60,r*60/100))*1e3}}const hs={modelName:"Generic EV",batteryCapacityKwh:75,maxChargingPowerKw:150,initialSoc:20,targetSoc:80},sg={"Tesla Model 3":{batteryCapacityKwh:75,maxChargingPowerKw:250},"Tesla Model Y":{batteryCapacityKwh:82,maxChargingPowerKw:250},"Tesla Model S":{batteryCapacityKwh:100,maxChargingPowerKw:250},"Nissan Leaf (40kWh)":{batteryCapacityKwh:40,maxChargingPowerKw:50},"Nissan Leaf (62kWh)":{batteryCapacityKwh:62,maxChargingPowerKw:100},"BMW i4":{batteryCapacityKwh:84,maxChargingPowerKw:200},"BMW iX":{batteryCapacityKwh:112,maxChargingPowerKw:200},"Hyundai Ioniq 5":{batteryCapacityKwh:77,maxChargingPowerKw:350},"Kia EV6":{batteryCapacityKwh:77,maxChargingPowerKw:350},"Porsche Taycan":{batteryCapacityKwh:93,maxChargingPowerKw:270},"Mercedes EQS":{batteryCapacityKwh:108,maxChargingPowerKw:200},"Volkswagen ID.4":{batteryCapacityKwh:82,maxChargingPowerKw:175},Custom:{}};function EP(e,t,n,r){return r<=0||e>=t?0:(t-e)/100*n/r*60}let kP=class{constructor(t,n){H(this,"eventsEmitter",new Dd);H(this,"scenarioEventsEmitter",new Dd);H(this,"meterScheduler");H(this,"statusValue",Y.Unavailable);H(this,"availabilityValue","Operative");H(this,"meterValueWh",0);H(this,"socPercent",null);H(this,"transactionValue",null);H(this,"autoConfig",{...SP});H(this,"incrementFallback",null);H(this,"onMeterSend",null);H(this,"modeValue","manual");H(this,"_scenarioManager");H(this,"_autoResetToAvailable",!0);H(this,"_evSettings",{...hs});this.connectorId=t,this.logger=n,this.meterScheduler=new CP(t,{getCurrentValue:()=>this.meterValueWh,updateValue:r=>this.applyMeterValue(r),onSend:r=>{this.onMeterSend&&this.onMeterSend(r)}},this.logger)}get id(){return this.connectorId}get events(){return this.eventsEmitter}get scenarioEvents(){return this.scenarioEventsEmitter}get status(){return this.statusValue}set status(t){const n=this.statusValue;this.statusValue=t,this.eventsEmitter.emit("statusChange",{status:t,previousStatus:n})}get availability(){return this.availabilityValue}set availability(t){this.availabilityValue=t,this.eventsEmitter.emit("availabilityChange",{availability:t})}get meterValue(){return this.meterValueWh}set meterValue(t){this.applyMeterValue(t)}get soc(){return this.socPercent}set soc(t){this.socPercent=t,this.eventsEmitter.emit("socChange",{soc:t})}get transaction(){return this.transactionValue}set transaction(t){this.transactionValue=t}set transactionId(t){this.transactionValue&&(this.transactionValue.id=t,this.eventsEmitter.emit("transactionIdChange",{transactionId:t}))}get mode(){return this.modeValue}set mode(t){this.modeValue=t,this.eventsEmitter.emit("modeChange",{mode:t})}get autoResetToAvailable(){return this._autoResetToAvailable}set autoResetToAvailable(t){this._autoResetToAvailable=t,this.eventsEmitter.emit("autoResetToAvailableChange",{enabled:t})}get evSettings(){return this._evSettings}set evSettings(t){this._evSettings={...t},this.eventsEmitter.emit("evSettingsChange",{settings:this._evSettings})}get autoMeterValueConfig(){return this.autoConfig}set autoMeterValueConfig(t){this.autoConfig=t,this.eventsEmitter.emit("autoMeterValueChange",{config:t}),this.transactionValue&&this.startConfiguredMeterValue()}setIncrementFallback(t){this.incrementFallback=t,this.transactionValue&&!this.autoConfig.enabled&&this.startConfiguredMeterValue()}setOnMeterValueSend(t){this.onMeterSend=t}beginTransaction(t){this.transactionValue=t,this.startConfiguredMeterValue()}stopTransaction(){this.meterScheduler.stop(),this.transactionValue=null}startManualMeterStrategy(t){this.meterScheduler.start(t)}startConfiguredMeterValue(){if(this.transactionValue){if(this.autoConfig.enabled){this.meterScheduler.start({kind:"curve",config:this.autoConfig});return}if(this.incrementFallback&&this.incrementFallback.incrementValue>0&&this.incrementFallback.intervalSeconds>0){this.meterScheduler.start({kind:"increment",intervalSeconds:this.incrementFallback.intervalSeconds,incrementValue:this.incrementFallback.incrementValue});return}this.meterScheduler.stop()}}stopAutoMeterValue(){this.meterScheduler.stop()}isAutoMeterValueActive(){return this.meterScheduler.isActive()}setScenarioManager(t){this._scenarioManager&&this._scenarioManager.destroy(),this._scenarioManager=t}get scenarioManager(){return this._scenarioManager}cleanup(){this.meterScheduler.cleanup(),this._scenarioManager&&(this._scenarioManager.destroy(),this._scenarioManager=void 0),this.eventsEmitter.removeAllListeners(),this.onMeterSend=null,this.transactionValue=null,this.socPercent=null}applyMeterValue(t){this.meterValueWh=t,this.eventsEmitter.emit("meterValueChange",{meterValue:t})}};class _P{constructor(){H(this,"callHandlers",new Map);H(this,"callResultHandlers",new Map)}registerCallHandler(t,n){this.callHandlers.set(t,n)}registerCallResultHandler(t,n){this.callResultHandlers.set(t,n)}getCallHandler(t){return this.callHandlers.get(t)}getCallResultHandler(t){return this.callResultHandlers.get(t)}hasCallHandler(t){return this.callHandlers.has(t)}hasCallResultHandler(t){return this.callResultHandlers.has(t)}}class NP{handle(t,n){const{idTag:r,connectorId:o}=t,a=n.chargePoint.getConnector(o||1);return a&&a.availability==="Operative"?(n.chargePoint.startTransaction(r,o||1),{status:"Accepted"}):{status:"Rejected"}}}class RP{handle(t,n){const{transactionId:r}=t,o=Array.from(n.chargePoint.connectors.values()).find(a=>a.transaction&&a.transaction.id===r);return o?(n.chargePoint.updateConnectorStatus(o.id,Y.SuspendedEVSE),n.chargePoint.stopTransaction(o),{status:"Accepted"}):{status:"Rejected"}}}class MP{handle(t,n){return n.logger.info(`Reset request received: ${t.type}`,te.OCPP),setTimeout(()=>{n.logger.info(`Reset chargePoint: ${n.chargePoint.id}`,te.OCPP),t.type==="Hard"?n.chargePoint.reset():n.chargePoint.boot()},5e3),{status:"Accepted"}}}const TP=async(e,t)=>{const n=new FormData;return n.append("file",t),await fetch(e,{method:"POST",body:n})};class AP{handle(t,n){n.logger.info(`Get diagnostics request received: ${t.location}`,te.DIAGNOSTICS);const r=n.logger.getLogs().join(`
`),o=new Blob([r],{type:"text/plain"}),a=new File([o],"diagnostics.txt");return(async()=>await TP(t.location,a))(),{fileName:"diagnostics.txt"}}}const pu={Core:{AllowOfflineTxForUnknownId:{name:"AllowOfflineTxForUnknownId",required:!1,readonly:!1,type:"boolean"},AuthorizationCacheEnabled:{name:"AuthorizationCacheEnabled",required:!1,readonly:!1,type:"boolean"},AuthorizeRemoteTxRequests:{name:"AuthorizeRemoteTxRequests",required:!0,readonly:!0,type:"boolean"},BlinkRepeat:{name:"BlinkRepeat",required:!1,readonly:!1,type:"integer"},ClockAlignedDataInterval:{name:"ClockAlignedDataInterval",required:!0,readonly:!1,type:"integer"},ConnectionTimeOut:{name:"ConnectionTimeOut",required:!0,readonly:!1,type:"integer"},ConnectorPhaseRotation:{name:"ConnectorPhaseRotation",required:!0,readonly:!1,type:"array"},ConnectorPhaseRotationMaxLength:{name:"ConnectorPhaseRotationMaxLength",required:!1,readonly:!0,type:"integer"},GetConfigurationMaxKeys:{name:"GetConfigurationMaxKeys",required:!0,readonly:!0,type:"integer"},HeartbeatInterval:{name:"HeartbeatInterval",required:!0,readonly:!1,type:"integer"},LightIntensity:{name:"LightIntensity",required:!1,readonly:!1,type:"integer"},LocalAuthorizeOffline:{name:"LocalAuthorizeOffline",required:!0,readonly:!1,type:"boolean"},LocalPreAuthorize:{name:"LocalPreAuthorize",required:!0,readonly:!1,type:"boolean"},MaxEnergyOnInvalidId:{name:"MaxEnergyOnInvalidId",required:!1,readonly:!1,type:"integer"},MeterValuesAlignedData:{name:"MeterValuesAlignedData",required:!0,readonly:!0,type:"array"},MeterValuesAlignedDataMaxLength:{name:"MeterValuesAlignedDataMaxLength",required:!1,readonly:!0,type:"integer"},MeterValuesSampledData:{name:"MeterValuesSampledData",required:!0,readonly:!1,type:"array"},MeterValuesSampledDataMaxLength:{name:"MeterValuesSampledDataMaxLength",required:!1,readonly:!0,type:"integer"},MeterValueSampleInterval:{name:"MeterValueSampleInterval",required:!0,readonly:!1,type:"integer"},MinimumStatusDuration:{name:"MinimumStatusDuration",required:!1,readonly:!1,type:"integer"},NumberOfConnectors:{name:"NumberOfConnectors",required:!0,readonly:!0,type:"integer"},ResetRetries:{name:"ResetRetries",required:!0,readonly:!1,type:"integer"},StopTransactionOnEVSideDisconnect:{name:"StopTransactionOnEVSideDisconnect",required:!0,readonly:!1,type:"boolean"},StopTransactionOnInvalidId:{name:"StopTransactionOnInvalidId",required:!0,readonly:!1,type:"boolean"},StopTxnAlignedData:{name:"StopTxnAlignedData",required:!0,readonly:!1,type:"array"},StopTxnAlignedDataMaxLength:{name:"StopTxnAlignedDataMaxLength",required:!1,readonly:!0,type:"integer"},StopTxnSampledData:{name:"StopTxnSampledData",required:!0,readonly:!1,type:"array"},StopTxnSampledDataMaxLength:{name:"StopTxnSampledDataMaxLength",required:!1,readonly:!0,type:"integer"},SupportedFeatureProfiles:{name:"SupportedFeatureProfiles",required:!0,readonly:!0,type:"array"},SupportedFeatureProfilesMaxLength:{name:"SupportedFeatureProfilesMaxLength",required:!1,readonly:!0,type:"integer"},TransactionMessageAttempts:{name:"TransactionMessageAttempts",required:!0,readonly:!1,type:"integer"},TransactionMessageRetryInterval:{name:"TransactionMessageRetryInterval",required:!0,readonly:!1,type:"integer"},UnlockConnectorOnEVSideDisconnect:{name:"UnlockConnectorOnEVSideDisconnect",required:!0,readonly:!1,type:"boolean"},WebSocketPingInterval:{name:"WebSocketPingInterval",required:!1,readonly:!1,type:"integer"}},Reservation:{ReserveConnectorZeroSupported:{name:"ReserveConnectorZeroSupported",required:!1,readonly:!0,type:"boolean"}},LocalAuthListManagement:{LocalAuthListEnabled:{name:"LocalAuthListEnabled",required:!0,readonly:!1,type:"boolean"},LocalAuthListMaxLength:{name:"LocalAuthListMaxLength",required:!0,readonly:!0,type:"integer"},SendLocalListMaxLength:{name:"SendLocalListMaxLength",required:!0,readonly:!0,type:"integer"}},SmartCharging:{ChargeProfileMaxStackLevel:{name:"ChargeProfileMaxStackLevel",required:!0,readonly:!0,type:"integer"},ChargingScheduleAllowedChargingRateUnit:{name:"ChargingScheduleAllowedChargingRateUnit",required:!0,readonly:!0,type:"array"},ChargingScheduleMaxPeriods:{name:"ChargingScheduleMaxPeriods",required:!0,readonly:!0,type:"integer"},ConnectorSwitch3to1PhaseSupported:{name:"ConnectorSwitch3to1PhaseSupported",required:!1,readonly:!0,type:"boolean"},MaxChargingProfilesInstalled:{name:"MaxChargingProfilesInstalled",required:!0,readonly:!0,type:"integer"}},Custom:{OcppServer:{name:"OcppServer",required:!1,readonly:!1,type:"string"}}},jP=e=>[{key:pu.Core.SupportedFeatureProfiles,value:[tw.Core]},{key:pu.Core.NumberOfConnectors,value:e.connectorNumber},{key:pu.Custom.OcppServer,value:e.wsUrl}];class PP{handle(t,n){n.logger.info(`Get configuration request received: ${JSON.stringify(t.key)}`,te.CONFIGURATION);const r=this.mapConfiguration(jP(n.chargePoint));if(!t.key||t.key.length===0)return{configurationKey:r};const o=r.filter(i=>{var l;return(l=t.key)==null?void 0:l.includes(i.key)}),a=r.map(i=>i.key),s=t.key.filter(i=>!a.includes(i));return{configurationKey:o,unknownKey:s}}mapConfiguration(t){return t.map(n=>({key:n.key.name,readonly:n.key.readonly,value:this.mapValue(n)}))}mapValue(t){switch(t.key.type){case"string":return t.value;case"boolean":return String(t.value);case"integer":return String(t.value);case"array":return t.value.join(",")}}}class IP{handle(t,n){return n.logger.info(`Change configuration request received: ${JSON.stringify(t.key)}: ${JSON.stringify(t.value)}`,te.CONFIGURATION),{status:"NotSupported"}}}class OP{handle(t,n){return n.logger.info(`Trigger message request received: ${t.requestedMessage}`,te.OCPP),{status:"Accepted"}}}class LP{handle(t,n){return n.logger.info(`Clear cache request received: ${JSON.stringify(t)}`,te.OCPP),{status:"Accepted"}}}class DP{handle(t,n){return n.logger.info(`Unlock connector request received: ${JSON.stringify(t)}`,te.OCPP),{status:"NotSupported"}}}class $P{handle(t,n){const{connectorId:r,expiryDate:o,idTag:a,parentIdTag:s,reservationId:i}=t,l=n.chargePoint.getConnector(r),c=n.chargePoint.reservationManager;if(!l)return{status:rn.Rejected};if(l.status===Y.Faulted)return{status:rn.Faulted};if(l.status===Y.Charging||l.transaction)return{status:rn.Occupied};if(l.availability!=="Operative")return{status:rn.Unavailable};const d=new Date(o),f=c.createReservation(r,d,a,s,i);return f===rn.Accepted&&(l.status=Y.Reserved),{status:f}}}class FP{handle(t,n){const{reservationId:r}=t,o=n.chargePoint.reservationManager,a=o.getReservation(r);if(o.cancelReservation(r)&&a){const i=n.chargePoint.getConnector(a.connectorId);return i&&i.status===Y.Reserved&&(i.status=Y.Available),{status:Vd.Accepted}}return{status:Vd.Rejected}}}class VP{handle(t,n){t.status==="Accepted"?(n.logger.info("Boot notification successful",te.OCPP),n.chargePoint.connectors.forEach(r=>{if(r.autoResetToAvailable){n.chargePoint.updateConnectorStatus(r.id,Y.Available);return}n.chargePoint.updateConnectorStatus(r.id,r.status)}),n.chargePoint.status=Y.Available):n.logger.error("Boot notification failed",te.OCPP)}}class zP{constructor(t){this.connectorId=t}handle(t,n){const{transactionId:r,idTagInfo:o}=t,a=n.chargePoint.getConnector(this.connectorId);o.status==="Accepted"?a&&(a.transactionId=r,a.status=Y.Charging):(n.logger.error("Failed to start transaction",te.TRANSACTION),a?(a.status=Y.Faulted,a.transaction&&a.transaction.meterSent?n.chargePoint.stopTransaction(a):n.chargePoint.cleanTransaction(a)):n.chargePoint.cleanTransaction(this.connectorId),n.chargePoint.updateConnectorStatus(this.connectorId,Y.Available))}}class UP{constructor(t){this.connectorId=t}handle(t,n){n.logger.info(`Transaction stopped successfully: ${JSON.stringify(t)}`,te.TRANSACTION);const r=n.chargePoint.getConnector(this.connectorId);r&&(r.transactionId=null,r.stopTransaction(),r.autoResetToAvailable&&n.chargePoint.updateConnectorStatus(this.connectorId,Y.Available))}}class BP{handle(t,n){const{idTagInfo:r}=t;r.status==="Accepted"?n.logger.info("Authorization successful",te.TRANSACTION):n.logger.warn("Authorization failed",te.TRANSACTION)}}class WP{handle(t,n){n.logger.debug(`Received heartbeat response: ${t.currentTime}`,te.HEARTBEAT)}}class HP{constructor(t){this.requestPayload=t}handle(t,n){if(this.requestPayload){const r=n.chargePoint.getConnector(this.requestPayload.connectorId);r&&r.transaction&&(r.transaction.meterSent=!0)}n.logger.debug(`Meter values sent successfully: ${JSON.stringify(t)}`,te.METER_VALUE)}}class GP{handle(t,n){n.logger.debug(`Status notification sent successfully: ${JSON.stringify(t)}`,te.STATUS)}}class qP{handle(t,n){n.logger.info(`Data transfer sent successfully: ${JSON.stringify(t)}`,te.OCPP)}}let KP=class{constructor(){H(this,"_currentId","");H(this,"_requests",new Map)}add(t){this._currentId=t.id,this._requests.set(t.id,t)}current(){return this._requests.get(this._currentId)}get(t){return this._requests.get(t)}remove(t){this._requests.delete(t)}},JP=class{constructor(t,n,r){H(this,"_chargePoint");H(this,"_webSocket");H(this,"_logger");H(this,"_requests",new KP);H(this,"_registry",new _P);this._chargePoint=t,this._webSocket=n,this._logger=r,this._webSocket.setMessageHandler(this.handleIncomingMessage.bind(this)),this.initializeHandlers()}initializeHandlers(){this._registry.registerCallHandler(Me.RemoteStartTransaction,new NP),this._registry.registerCallHandler(Me.RemoteStopTransaction,new RP),this._registry.registerCallHandler(Me.Reset,new MP),this._registry.registerCallHandler(Me.GetDiagnostics,new AP),this._registry.registerCallHandler(Me.TriggerMessage,new OP),this._registry.registerCallHandler(Me.GetConfiguration,new PP),this._registry.registerCallHandler(Me.ChangeConfiguration,new IP),this._registry.registerCallHandler(Me.ClearCache,new LP),this._registry.registerCallHandler(Me.UnlockConnector,new DP),this._registry.registerCallHandler(Me.ReserveNow,new $P),this._registry.registerCallHandler(Me.CancelReservation,new FP),this._registry.registerCallResultHandler(Me.BootNotification,new VP),this._registry.registerCallResultHandler(Me.Authorize,new BP),this._registry.registerCallResultHandler(Me.Heartbeat,new WP),this._registry.registerCallResultHandler(Me.StatusNotification,new GP),this._registry.registerCallResultHandler(Me.DataTransfer,new qP)}authorize(t){const n=this.generateMessageId(),r={idTag:t};this.sendRequest(Me.Authorize,n,r)}startTransaction(t,n){const r=this.generateMessageId(),o={connectorId:n,idTag:t.tagId,meterStart:t.meterStart,timestamp:t.startTime.toISOString()};this.sendRequest(Me.StartTransaction,r,o,n)}stopTransaction(t,n){const r=this.generateMessageId(),o={transactionId:t.id,idTag:t.tagId,meterStop:t.meterStop,timestamp:t.stopTime.toISOString()};this.sendRequest(Me.StopTransaction,r,o,n)}sendBootNotification(t){const n=this.generateMessageId();this.sendRequest(Me.BootNotification,n,t)}sendHeartbeat(){const t=this.generateMessageId(),n={};this.sendRequest(Me.Heartbeat,t,n)}sendMeterValue(t,n,r,o){const a=this.generateMessageId(),s=[{value:r.toString(),measurand:"Energy.Active.Import.Register",unit:"Wh"}];o!==void 0&&s.push({value:o.toString(),measurand:"SoC",unit:"Percent"});const i={transactionId:t,connectorId:n,meterValue:[{timestamp:new Date().toISOString(),sampledValue:s}]};this.sendRequest(Me.MeterValues,a,i)}sendStatusNotification(t,n){const r=this.generateMessageId(),o={connectorId:t,errorCode:"NoError",status:n};this.sendRequest(Me.StatusNotification,r,o)}sendRequest(t,n,r,o){this._requests.add({type:rr.MessageType.CALL,action:t,id:n,payload:r,connectorId:o}),this._webSocket.sendAction(n,t,r)}handleIncomingMessage(t,n,r,o){switch(this._logger.info(`Handling incoming message: ${t}, ${n}, ${r}`,te.OCPP),t){case rr.MessageType.CALL:this.handleCall(n,r,o);break;case rr.MessageType.CALLRESULT:this.handleCallResult(n,o);break;case rr.MessageType.CALLERROR:this.handleCallError(n,o);break;default:this._logger.error(`Unknown message type: ${t}`,te.OCPP)}}handleCall(t,n,r){const o=this._registry.getCallHandler(n);if(!o){this._logger.error(`Unsupported action: ${n}`,te.OCPP),this.sendCallError(t,"NotImplemented","This action is not supported");return}try{const a={chargePoint:this._chargePoint,logger:this._logger},s=o.handle(r,a);this.sendCallResult(t,s)}catch(a){this._logger.error(`Error handling ${n}: ${a}`,te.OCPP),this.sendCallError(t,"InternalError",String(a))}}handleCallResult(t,n){const r=this._requests.get(t);if(!r){this._logger.warn(`Received unexpected CallResult: ${t}`,te.OCPP);return}const o=r.action;let a=this._registry.getCallResultHandler(o);if(a||(o===Me.StartTransaction?a=new zP(r.connectorId||1):o===Me.StopTransaction?a=new UP(r.connectorId||1):o===Me.MeterValues&&(a=new HP(r.payload))),a)try{const s={chargePoint:this._chargePoint,logger:this._logger};a.handle(n,s)}catch(s){this._logger.error(`Error handling ${o} result: ${s}`,te.OCPP)}else this._logger.warn(`No handler for action result: ${o}`,te.OCPP);this._requests.remove(t)}handleCallError(t,n){this._logger.error(`Received error for message ${t}: ${JSON.stringify(n)}`,te.OCPP),this._requests.remove(t)}sendCallResult(t,n){this._webSocket.sendResult(t,n)}sendCallError(t,n,r){const o={errorCode:n,errorDescription:r};this._webSocket.sendError(t,o)}generateMessageId(){return crypto.randomUUID()}},ZP=class{constructor(t,n,r,o=null){H(this,"_ws",null);H(this,"_url");H(this,"_basicAuth",null);H(this,"_chargePointId");H(this,"_logger");H(this,"_messageHandler",null);H(this,"_pingInterval",null);H(this,"_reconnectAttempts",0);H(this,"_maxReconnectAttempts",1/0);H(this,"_baseReconnectDelay",1e3);H(this,"_maxReconnectDelay",3e4);H(this,"_reconnectTimer",null);H(this,"_onOpenCallback",null);H(this,"_onCloseCallback",null);H(this,"_isManualDisconnect",!1);this._url=t,this._chargePointId=n,this._logger=r,o&&(this._basicAuth={username:o.username,password:o.password})}get url(){return this._url}connect(t=null,n=null){t&&(this._onOpenCallback=t),n&&(this._onCloseCallback=n),this._isManualDisconnect=!1;const r=new URL(this._url);this!=null&&this._basicAuth&&(r.username=this._basicAuth.username,r.password=this._basicAuth.password),console.log("url",r),this._ws=new WebSocket(`${r.toString()}${this._chargePointId}`,["ocpp1.6","ocpp1.5"]),this._ws.onopen=()=>{this.handleOpen(),this._onOpenCallback&&this._onOpenCallback()},this._ws.onmessage=this.handleMessage.bind(this),this._ws.onerror=this.handleError.bind(this),this._ws.onclose=o=>{this.handleClose(o),this._onCloseCallback&&this._onCloseCallback(o)}}disconnect(){this._isManualDisconnect=!0,this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=null),this._reconnectAttempts=0,this._ws&&(this._ws.close(),this._ws=null),this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null)}sendAction(t,n,r){const o=JSON.stringify([rr.MessageType.CALL,t,n,r]);this.send(o)}sendResult(t,n){const r=JSON.stringify([rr.MessageType.CALLRESULT,t,n]);this.send(r)}sendError(t,n){const r=JSON.stringify([rr.MessageType.CALLERROR,t,n]);this.send(r)}send(t){this._ws&&this._ws.readyState===WebSocket.OPEN?(this._ws.send(t),this._logger.info(`Sent: ${t}`,te.WEBSOCKET)):this._logger.warn("WebSocket is not connected",te.WEBSOCKET)}setMessageHandler(t){this._messageHandler=t}handleOpen(){this._logger.info("WebSocket connected successfully",te.WEBSOCKET),this._reconnectAttempts>0&&this._logger.info(`Reconnection successful after ${this._reconnectAttempts} attempt(s)`,te.WEBSOCKET),this._reconnectAttempts=0}handleMessage(t){this._logger.info(`Received: ${t.data}`,te.WEBSOCKET);try{const n=JSON.parse(t.data.toString());if(!Array.isArray(n)||n.length!==3&&n.length!==4){this._logger.error("Invalid message format: "+n,te.WEBSOCKET);return}if(this._messageHandler){if(n.length===3){const[r,o,a]=n;this._messageHandler(r,o,Me.CallResult,a)}else if(n.length===4){const[r,o,a,s]=n;this._messageHandler(r,o,a,s)}}else this._logger.warn("No message handler set",te.WEBSOCKET)}catch(n){this._logger.error(`Error parsing message: ${n}`,te.WEBSOCKET)}}handleError(t){this._logger.error(`WebSocket error type: ${t.type}`,te.WEBSOCKET)}handleClose(t){this._logger.info(`WebSocket closed: code=${t.code}, reason=${t.reason||"none"}, wasClean=${t.wasClean}`,te.WEBSOCKET),this.stopPingInterval(),this._isManualDisconnect||this.attemptReconnect()}stopPingInterval(){this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null)}attemptReconnect(){this._reconnectTimer&&(clearTimeout(this._reconnectTimer),this._reconnectTimer=null),this._reconnectAttempts++;const t=this._baseReconnectDelay*Math.pow(2,this._reconnectAttempts-1),n=Math.min(t,this._maxReconnectDelay);this._logger.info(`Reconnecting in ${n/1e3}s... (attempt ${this._reconnectAttempts})`,te.WEBSOCKET),this._reconnectTimer=setTimeout(()=>{this._reconnectTimer=null,this._logger.info(`Attempting reconnection (attempt ${this._reconnectAttempts})...`,te.WEBSOCKET),this.connect()},n)}};class XP{constructor(t){H(this,"reservations",new Map);H(this,"logger");H(this,"cleanupTimer");this.logger=t,this.startCleanupTimer()}createReservation(t,n,r,o,a){if(this.reservations.has(a))return this.logger.warn(`Reservation ID ${a} already exists`,te.GENERAL),rn.Rejected;if(this.getReservationForConnector(t))return this.logger.warn(`Connector ${t} already has an active reservation`,te.GENERAL),rn.Occupied;if(n<=new Date)return this.logger.warn(`Reservation expiry date is in the past: ${n}`,te.GENERAL),rn.Rejected;const i={reservationId:a,connectorId:t,expiryDate:n,idTag:r,parentIdTag:o,createdAt:new Date};return this.reservations.set(a,i),this.logger.info(`Created reservation ${a} for connector ${t} (idTag: ${r}, expiry: ${n})`,te.GENERAL),rn.Accepted}cancelReservation(t){const n=this.reservations.get(t);return n?(this.reservations.delete(t),this.logger.info(`Cancelled reservation ${t} (connector: ${n.connectorId})`,te.GENERAL),!0):(this.logger.warn(`Reservation ${t} not found`,te.GENERAL),!1)}useReservation(t){const n=this.reservations.get(t);return n?(this.reservations.delete(t),this.logger.info(`Used reservation ${t} (connector: ${n.connectorId})`,te.GENERAL),!0):!1}isValidReservation(t,n){const r=this.reservations.get(t);return r?r.expiryDate<=new Date?(this.logger.warn(`Reservation ${t} has expired`,te.GENERAL),!1):r.idTag===n||r.parentIdTag===n:!1}getReservationForConnector(t){this.cleanupExpiredReservations();for(const n of this.reservations.values())if(n.connectorId===t)return n;if(t!==0){for(const n of this.reservations.values())if(n.connectorId===0)return n}}getReservation(t){return this.reservations.get(t)}getAllReservations(){return this.cleanupExpiredReservations(),Array.from(this.reservations.values())}isConnectorReserved(t){return this.getReservationForConnector(t)!==void 0}cleanupExpiredReservations(){const t=new Date,n=[];for(const[r,o]of this.reservations.entries())o.expiryDate<=t&&n.push(r);for(const r of n){const o=this.reservations.get(r);this.reservations.delete(r),this.logger.info(`Cleaned up expired reservation ${r} (connector: ${o==null?void 0:o.connectorId})`,te.GENERAL)}}startCleanupTimer(){this.cleanupTimer=setInterval(()=>{this.cleanupExpiredReservations()},6e4)}stopCleanupTimer(){this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=void 0)}dispose(){this.stopCleanupTimer(),this.reservations.clear()}}let YP=class{constructor(t,n,r,o,a,s){H(this,"_connectors",new Map);H(this,"_logger",new tj);H(this,"_events",new Dd);H(this,"_webSocket");H(this,"_messageHandler");H(this,"_heartbeat");H(this,"_stateManager");H(this,"_reservationManager");H(this,"_status",Y.Unavailable);H(this,"_error","");H(this,"_autoMeterValueSetting");this._id=t,this._bootNotification=n,this._autoMeterValueSetting=s,this._logger.loggingCallback=i=>{this._events.emit("log",{timestamp:i.timestamp,level:i.level,type:i.type,message:i.message})};for(let i=1;i<=r;i++){const l=new kP(i,this._logger);s!=null&&s.enabled&&l.setIncrementFallback({intervalSeconds:s.interval,incrementValue:s.value}),this._connectors.set(i,l)}this._webSocket=new ZP(o,this._id,this._logger,a),this._messageHandler=new JP(this,this._webSocket,this._logger),this._heartbeat=new nj(this._logger),this._heartbeat.setHeartbeatCallback(()=>this._messageHandler.sendHeartbeat()),this._reservationManager=new XP(this._logger),this._stateManager=new xP(this._logger,this._events,()=>({status:this._status,error:this._error}),i=>{const l=this._connectors.get(i);if(l)return{status:l.status,availability:l.availability,transaction:l.transaction,meterValue:l.meterValue}}),this._connectors.forEach((i,l)=>{this._stateManager.initializeConnector(l,i.status,i.availability)})}get autoMeterValueSetting(){return this._autoMeterValueSetting}set autoMeterValueSetting(t){this._autoMeterValueSetting=t,this._connectors.forEach(n=>{n.setIncrementFallback(t!=null&&t.enabled?{intervalSeconds:t.interval,incrementValue:t.value}:null)})}get id(){return this._id}get status(){return this._status}get connectorNumber(){return this._connectors.size}get connectors(){return new Map(this._connectors)}get wsUrl(){return this._webSocket.url}get error(){return this._error}set error(t){this._error=t,this._events.emit("error",{error:t})}get events(){return this._events}get stateManager(){return this._stateManager}get logger(){return this._logger}get reservationManager(){return this._reservationManager}set loggingCallback(t){this._logger._loggingCallback=t}connect(){this._webSocket.connect(()=>{this.boot(),this._events.emit("connected",void 0)},t=>{this.status=Y.Unavailable,this.updateAllConnectorsStatus(Y.Unavailable),this._logger.error(`WebSocket closed code: ${t.code} reason: ${t.reason}`,te.WEBSOCKET),this._events.emit("disconnected",{code:t.code,reason:t.reason}),t.code!==1005&&(this.error=`WebSocket closed code: ${t.code} reason: ${t.reason}`)})}boot(){this._messageHandler.sendBootNotification(this._bootNotification),this.status=Y.Available,this._connectors.forEach(t=>{if(t.autoResetToAvailable){this.updateConnectorStatus(t.id,Y.Available);return}this.updateConnectorStatus(t.id,t.status)}),this.error=""}disconnect(){this._logger.info("Disconnecting from WebSocket",te.WEBSOCKET),this.status=Y.Unavailable,this._heartbeat.cleanup(),this._connectors.forEach(t=>t.cleanup()),this._reservationManager.dispose(),this._webSocket.disconnect()}reset(){this.disconnect(),this.connect()}authorize(t){this._messageHandler.authorize(t)}set status(t){this._status=t,t===Y.Unavailable&&this._connectors.forEach(n=>{n.status=Y.Unavailable}),this._events.emit("statusChange",{status:t}),this._stateManager.transitionChargePointStatus(t,{source:"boundary-setter",timestamp:new Date})}startTransaction(t,n,r,o){const a=this.getConnector(n);if(!a){this._logger.error(`Connector ${n} not found`,te.TRANSACTION);return}const s={id:0,connectorId:n,tagId:t,meterStart:a.meterValue,meterStop:null,startTime:new Date,stopTime:null,meterSent:!1,batteryCapacityKwh:r,initialSoc:o};o!==void 0&&(a.soc=o),a.beginTransaction(s),this._messageHandler.startTransaction(s,n),this.updateConnectorStatus(n,Y.Preparing),this._events.emit("transactionStarted",{connectorId:n,transactionId:0,tagId:t})}stopTransaction(t){const n=typeof t=="number"?this.getConnector(t):t;if(!n){const o=typeof t=="number"?t:t.id;this._logger.error(`Connector ${o} not found`,te.TRANSACTION);return}const r=n.transaction;if(!r){this._logger.warn(`No active transaction for connector ${n.id} when stopping`,te.TRANSACTION);return}n.stopAutoMeterValue(),r.stopTime=new Date,r.meterStop=n.meterValue,this._messageHandler.stopTransaction(r,n.id),this._events.emit("transactionStopped",{connectorId:n.id,transactionId:r.id??0}),this.cleanTransaction(n),n.stopTransaction(),n.autoResetToAvailable&&this.updateConnectorStatus(n.id,Y.Available)}cleanTransaction(t){const n=typeof t=="number"?this.getConnector(t):t;if(!n)return;const r=n.transaction;r&&(r.meterSent=!1,r.stopTime=new Date,r.meterStop=n.meterValue,this.updateConnectorStatus(n.id,Y.Finishing)),n.stopAutoMeterValue()}startHeartbeat(t){this._heartbeat.startHeartbeat(t)}stopHeartbeat(){this._heartbeat.stopHeartbeat()}sendHeartbeat(){this._heartbeat.sendHeartbeat()}setMeterValue(t,n){const r=this.getConnector(t);if(!r){this._logger.error(`Connector ${t} not found`,te.METER_VALUE);return}r.meterValue=n}sendMeterValue(t){var r;const n=this.getConnector(t);if(!n){this._logger.error(`Connector ${t} not found`,te.METER_VALUE);return}this._messageHandler.sendMeterValue(((r=n.transaction)==null?void 0:r.id)??void 0,t,n.meterValue,n.soc??void 0)}getConnector(t){return this._connectors.get(t)}removeConnector(t){const n=this._connectors.get(t);if(!n)return!1;n.cleanup();const r=this._connectors.delete(t);return r&&this._events.emit("connectorRemoved",{connectorId:t}),r}updateAllConnectorsStatus(t){this._connectors.forEach(n=>this.updateConnectorStatus(n.id,t))}updateConnectorStatus(t,n){const r=this.getConnector(t);if(!r){this._logger.error(`Connector ${t} not found`,te.System);return}const o=r.status;r.status=n,this._events.emit("connectorStatusChange",{connectorId:t,status:n,previousStatus:o}),this._messageHandler.sendStatusNotification(t,n,o)}};function QP(e){var t;return e?{id:e.id,status:e.status,availability:e.availability,meterValue:e.meterValue,transactionId:((t=e.transaction)==null?void 0:t.id)??null}:null}function ig(e){const t=[];return e.connectors.forEach(n=>{const r=QP(n);r&&t.push(r)}),{id:e.id,status:e.status,error:e.error,connectors:t}}class nw{constructor(){H(this,"chargePoints",new Map);H(this,"listeners",new Map);H(this,"eventSubscriptions",new Map)}registerChargePoint(t){this.chargePoints.has(t.id)&&this.unregisterChargePoint(t.id),this.chargePoints.set(t.id,t),this.attachEventForwarders(t)}unregisterChargePoint(t){const n=this.chargePoints.get(t);n&&n.disconnect(),this.chargePoints.delete(t);const r=this.eventSubscriptions.get(t);r&&(r.forEach(o=>{try{o()}catch(a){console.error(`[LocalChargePointService] Failed to unsubscribe listener for ${t}`,a)}}),this.eventSubscriptions.delete(t)),this.listeners.delete(t)}listChargePoints(){const t=Array.from(this.chargePoints.values()).map(n=>ig(n));return Promise.resolve(t)}getChargePoint(t){const n=this.chargePoints.get(t);return Promise.resolve(n?ig(n):null)}getChargePointHandle(t){return this.chargePoints.get(t)??null}async connect(t){this.getExistingChargePointOrThrow(t).connect()}async disconnect(t){this.getExistingChargePointOrThrow(t).disconnect()}async reset(t){this.getExistingChargePointOrThrow(t).reset()}async sendHeartbeat(t){this.getExistingChargePointOrThrow(t).sendHeartbeat()}async startHeartbeat(t,n){this.getExistingChargePointOrThrow(t).startHeartbeat(n)}async stopHeartbeat(t){this.getExistingChargePointOrThrow(t).stopHeartbeat()}async authorize(t,n){this.getExistingChargePointOrThrow(t).authorize(n)}async startTransaction(t,n,r){this.getExistingChargePointOrThrow(t).startTransaction(r,n)}async stopTransaction(t,n){this.getExistingChargePointOrThrow(t).stopTransaction(n)}async sendStatusNotification(t,n,r){this.getExistingChargePointOrThrow(t).updateConnectorStatus(n,r)}async setMeterValue(t,n,r){this.getExistingChargePointOrThrow(t).setMeterValue(n,r)}async sendMeterValue(t,n){this.getExistingChargePointOrThrow(t).sendMeterValue(n)}subscribe(t,n){const r=this.listeners.get(t)??new Set;r.add(n),this.listeners.set(t,r);const o=this.chargePoints.get(t);return o&&(n({type:"status",status:o.status}),o.error&&n({type:"error",error:o.error})),()=>{const a=this.listeners.get(t);a&&(a.delete(n),a.size===0&&this.listeners.delete(t))}}getExistingChargePointOrThrow(t){const n=this.chargePoints.get(t);if(!n)throw new Error(`ChargePoint ${t} not registered in LocalChargePointService`);return n}async syncLocalChargePoints(t){const n=new Set;for(const r of t){let o=this.chargePoints.get(r.id);if(n.add(r.id),!o){o=this.buildChargePoint(r),this.registerChargePoint(o);continue}o.autoMeterValueSetting=r.autoMeterValueSetting}return Array.from(this.chargePoints.keys()).forEach(r=>{n.has(r)||this.unregisterChargePoint(r)}),t.map(r=>this.chargePoints.get(r.id)).filter(r=>!!r)}buildChargePoint(t){const n=new YP(t.id,t.bootNotification,t.connectorNumber,t.wsUrl,t.basicAuth,t.autoMeterValueSetting);for(let r=1;r<=t.connectorNumber;r++){const o=gb(t.id,r);if(!o)continue;const a=n.getConnector(r);a&&(a.autoMeterValueConfig=o)}return n}attachEventForwarders(t){const n=[];n.push(t.events.on("statusChange",({status:r})=>{this.emit(t.id,{type:"status",status:r})})),n.push(t.events.on("error",({error:r})=>{this.emit(t.id,{type:"error",error:r})})),n.push(t.events.on("connectorStatusChange",({connectorId:r,status:o,previousStatus:a})=>{this.emit(t.id,{type:"connector-status",connectorId:r,status:o,previousStatus:a})})),n.push(t.events.on("connectorAvailabilityChange",({connectorId:r,availability:o})=>{this.emit(t.id,{type:"connector-availability",connectorId:r,availability:o})})),n.push(t.events.on("connectorTransactionChange",({connectorId:r,transactionId:o})=>{this.emit(t.id,{type:"connector-transaction",connectorId:r,transactionId:o})})),n.push(t.events.on("connectorMeterValueChange",({connectorId:r,meterValue:o})=>{this.emit(t.id,{type:"connector-meter",connectorId:r,meterValue:o})})),t.connectors.forEach(r=>{n.push(r.events.on("autoMeterValueChange",({config:o})=>{this.emit(t.id,{type:"connector-auto-meter",connectorId:r.id,config:o})})),n.push(r.events.on("modeChange",({mode:o})=>{this.emit(t.id,{type:"connector-mode",connectorId:r.id,mode:o})})),n.push(r.events.on("autoResetToAvailableChange",({enabled:o})=>{this.emit(t.id,{type:"connector-auto-reset-to-available",connectorId:r.id,enabled:o})})),n.push(r.events.on("socChange",({soc:o})=>{this.emit(t.id,{type:"connector-soc",connectorId:r.id,soc:o})})),n.push(r.events.on("evSettingsChange",({settings:o})=>{this.emit(t.id,{type:"connector-ev-settings",connectorId:r.id,settings:o})})),r.setOnMeterValueSend(o=>{t.sendMeterValue(o)})}),n.push(t.events.on("connected",()=>{this.emit(t.id,{type:"connected"})})),n.push(t.events.on("disconnected",({code:r,reason:o})=>{this.emit(t.id,{type:"disconnected",code:r,reason:o})})),n.push(t.events.on("log",r=>{const o={timestamp:r.timestamp,level:r.level,type:r.type,message:r.message};this.emit(t.id,{type:"log",entry:o})})),this.eventSubscriptions.set(t.id,n)}emit(t,n){const r=this.listeners.get(t);r&&r.forEach(o=>{try{o(n)}catch(a){console.error(`[LocalChargePointService] Listener error for charge point ${t}`,a)}})}}const eI=1e3;class tI{constructor(t){this.chargePointService=t}async getHistory(t,n){const r=this.chargePointService.getChargePointHandle(t);return r?r.stateManager.history.getHistory(n):[]}subscribe(t,n,r){let o=!1;const a=async()=>{const i=await this.getHistory(t,r);o||n(i)};a();const s=setInterval(a,eI);return()=>{o=!0,clearInterval(s)}}}const rw=p.createContext(null),nI=({children:e,modeOverride:t})=>{const n=p.useMemo(()=>DA(t),[t]),r=p.useMemo(()=>Gl(),[]),o=p.useMemo(()=>new UA(r),[r]),a=p.useMemo(()=>new ZA,[]),s=p.useMemo(()=>new QA,[]),i=p.useMemo(()=>new nw,[]),l=i,c=p.useMemo(()=>new tI(i),[i]);n==="remote"&&console.warn("Remote runtime mode requested, but GraphQL adapters are not implemented yet. Falling back to local mode.");const d=p.useMemo(()=>({mode:n==="remote"?"local":n,configRepository:o,scenarioRepository:a,connectorSettingsRepository:s,chargePointService:l,stateHistoryProvider:c}),[n,o,a,s,l,c]);return u.jsx(rw.Provider,{value:d,children:u.jsx(PA,{store:r,children:e})})};function ia(){const e=p.useContext(rw);if(!e)throw new Error("useDataContext must be used within a DataProvider");return e}function ow(){const{configRepository:e}=ia(),[t,n]=p.useState(null),[r,o]=p.useState(!0);p.useEffect(()=>{let s=!1;e.load().then(l=>{s||(n(l),o(!1))}).catch(l=>{console.error("Failed to load config",l),o(!1)});const i=e.subscribe(l=>{n(l),o(!1)});return()=>{s=!0,i()}},[e]);const a=p.useCallback(async s=>{await e.save(s)},[e]);return{config:t,setConfig:a,isLoading:r}}const rI=()=>{const{config:e,setConfig:t,isLoading:n}=ow(),[r,o]=p.useState("{}"),[a,s]=p.useState(""),[i,l]=p.useState(""),c=Nl();p.useEffect(()=>{n||o(e?JSON.stringify(e,null,2):"null")},[e,n]);const d=p.useCallback(w=>{t(w)},[t]),f=()=>{const w=JSON.stringify(e,null,2),S=new Blob([w],{type:"application/json"}),v=URL.createObjectURL(S),g=document.createElement("a");g.href=v,g.download=`ocpp-config-${new Date().toISOString().split("T")[0]}.json`,g.click(),URL.revokeObjectURL(v),l("Configuration exported successfully!"),setTimeout(()=>l(""),3e3)},h=w=>{var g;const S=(g=w.target.files)==null?void 0:g[0];if(!S)return;const v=new FileReader;v.onload=x=>{var E;try{const M=JSON.parse((E=x.target)==null?void 0:E.result);d(M),o(JSON.stringify(M,null,2)),s(""),l("Configuration imported successfully!"),setTimeout(()=>l(""),3e3)}catch{s("Invalid JSON file. Please check the file format."),setTimeout(()=>s(""),5e3)}},v.readAsText(S)},m=()=>{try{const w=JSON.parse(r);d(w),s(""),l("Configuration applied successfully!"),setTimeout(()=>l(""),3e3)}catch{s("Invalid JSON. Please check the syntax."),setTimeout(()=>s(""),5e3)}},b=()=>{c("/")};return u.jsxs("div",{className:"max-w-5xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),u.jsxs(dt,{onClick:b,variant:"secondary",size:"sm",children:[u.jsx(s_,{className:"mr-2 h-4 w-4"}),"Back to Home"]})]}),a&&u.jsx(Td,{variant:"destructive",className:"mb-4",children:u.jsx(Ad,{children:a})}),i&&u.jsx(Td,{className:"mb-4 border-green-500 bg-green-50 dark:bg-green-900",children:u.jsx(Ad,{className:"text-green-800 dark:text-green-100",children:i})}),u.jsxs(Rd,{children:[u.jsxs(Xx,{children:[u.jsx(Yx,{children:"Configuration Management"}),u.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"Export your current configuration to a JSON file or import a previously saved configuration. You can also manually edit the JSON configuration below."})]}),u.jsxs(Md,{className:"space-y-6",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsxs(dt,{onClick:f,variant:"success",children:[u.jsx(r_,{className:"mr-2 h-5 w-5"}),"Export Configuration"]}),u.jsx(dt,{asChild:!0,children:u.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[u.jsx(x_,{className:"mr-2 h-5 w-5"}),"Import Configuration",u.jsx("input",{id:"file-upload",type:"file",accept:".json",onChange:h,className:"hidden"})]})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h4",{className:"text-lg font-semibold",children:"Configuration JSON"}),u.jsx(dt,{onClick:m,size:"sm",children:"Apply Changes"})]}),u.jsx(Qx,{value:r,onChange:w=>o(w.target.value),rows:20,className:"font-mono text-sm",placeholder:"Paste your configuration JSON here..."}),u.jsx("p",{className:"text-muted-foreground text-xs mt-2",children:'Edit the JSON configuration directly and click "Apply Changes" to update.'})]}),u.jsx(Rd,{className:"bg-blue-50 dark:bg-blue-950/50",children:u.jsxs(Md,{className:"pt-6",children:[u.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Note"}),u.jsxs("ul",{className:"text-muted-foreground text-sm space-y-1 list-disc list-inside",children:[u.jsx("li",{children:"Individual charge point settings can be configured from the Home page"}),u.jsx("li",{children:"Click the gear icon next to each charge point tab to edit its settings"}),u.jsx("li",{children:'Use the "+ Add Charge Point" button to add new charge points'}),u.jsx("li",{children:"This page is for bulk configuration import/export only"})]})]})})]})]})]})},oI="modulepreload",aI=function(e){return"/ocpp-cp-simulator/"+e},lg={},_s=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=aI(l),l in lg)return;lg[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":oI,c||(f.as="script"),f.crossOrigin="",f.href=l,i&&f.setAttribute("nonce",i),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return o.then(s=>{for(const i of s||[])i.status==="rejected"&&a(i.reason);return t().catch(a)})};var lt=(e=>(e.STATUS_CHANGE="statusChange",e.TRANSACTION="transaction",e.METER_VALUE="meterValue",e.DELAY="delay",e.NOTIFICATION="notification",e.CONNECTOR_PLUG="connectorPlug",e.REMOTE_START_TRIGGER="remoteStartTrigger",e.STATUS_TRIGGER="statusTrigger",e.RESERVE_NOW="reserveNow",e.CANCEL_RESERVATION="cancelReservation",e.RESERVATION_TRIGGER="reservationTrigger",e.START="start",e.END="end",e))(lt||{});const mu=e=>e.mode==="step",gu=e=>e.mode==="oneshot";function sI(e){return _b({idle:ut(ce("START","running",Mn(gu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0}))),ce("START","stepping",Mn(mu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0})))),running:ut(ce("PAUSE","paused"),ce("WAIT_START","waiting",_e((t,n)=>({...t,waitType:n.type==="WAIT_START"?n.waitType:t.waitType}))),ce("NODE_COMPLETE","running",_e((t,n)=>({...t,currentNodeId:n.type==="NODE_COMPLETE"?n.nodeId:t.currentNodeId}))),ce("FLOW_COMPLETE","completed"),ce("ERROR","error",_e((t,n)=>({...t,error:n.type==="ERROR"?n.error:t.error}))),ce("STOP","idle",_e(t=>({...t,currentNodeId:null})))),paused:ut(ce("RESUME","running"),ce("STOP","idle",_e(t=>({...t,currentNodeId:null})))),waiting:ut(ce("WAIT_COMPLETE","running"),ce("ERROR","error",_e((t,n)=>({...t,error:n.type==="ERROR"?n.error:t.error}))),ce("STOP","idle",_e(t=>({...t,currentNodeId:null,waitType:void 0})))),stepping:ut(ce("STEP","stepping",_e(t=>({...t}))),ce("NODE_COMPLETE","stepping",_e((t,n)=>({...t,currentNodeId:n.type==="NODE_COMPLETE"?n.nodeId:t.currentNodeId}))),ce("FLOW_COMPLETE","completed"),ce("ERROR","error",_e((t,n)=>({...t,error:n.type==="ERROR"?n.error:t.error}))),ce("STOP","idle",_e(t=>({...t,currentNodeId:null})))),completed:ut(ce("START","running",Mn(gu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0}))),ce("START","stepping",Mn(mu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0})))),error:ut(ce("START","running",Mn(gu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0}))),ce("START","stepping",Mn(mu),_e((t,n)=>({...t,mode:n.type==="START"?n.mode:t.mode,executedNodes:[],loopCount:0,currentNodeId:null,error:void 0}))),ce("STOP","idle",_e(t=>({...t,currentNodeId:null,error:void 0}))))},t=>({...e,current:t}))}function zt(e){return e.name}function cg(e){return{scenarioId:e.context.scenarioId,mode:e.context.mode||"oneshot",currentNodeId:e.context.currentNodeId||null,executedNodes:e.context.executedNodes||[],loopCount:e.context.loopCount||0,error:e.context.error,waitType:e.context.waitType}}class iI{constructor(t,n,r){H(this,"scenario");H(this,"callbacks");H(this,"service");H(this,"stepResolve",null);H(this,"previousState","idle");H(this,"eventEmitter");H(this,"forceSkipResolve",null);this.scenario=t,this.callbacks=n,this.eventEmitter=r;const o=sI({scenarioId:t.id,mode:"oneshot",currentNodeId:null,executedNodes:[],loopCount:0});this.service=Rb(o,a=>{var i,l;const s=zt(a);if(s!==this.previousState){const c={scenarioId:this.scenario.id,state:s,previousState:this.previousState};(i=this.eventEmitter)==null||i.emit("stateChange",c),(l=this.eventEmitter)==null||l.emit(`state.${s}`,{scenarioId:this.scenario.id,previousState:this.previousState}),this.previousState=s}})}async start(t="oneshot"){var r,o,a,s,i,l,c,d,f,h,m,b,w,S;this.service.send({type:"START",mode:t}),this.notifyStateChange();const n={scenarioId:this.scenario.id,mode:t};(r=this.eventEmitter)==null||r.emit("executionStarted",n),(o=this.eventEmitter)==null||o.emit("execution.started",n),(s=(a=this.callbacks).log)==null||s.call(a,`[${this.scenario.name}] Scenario execution started (mode: ${t})`,"info");try{if(await this.executeFlow(),zt(this.service.machine)!=="idle"){this.service.send({type:"FLOW_COMPLETE"});const g={scenarioId:this.scenario.id};(i=this.eventEmitter)==null||i.emit("executionCompleted",g),(l=this.eventEmitter)==null||l.emit("execution.completed",g),(d=(c=this.callbacks).log)==null||d.call(c,`[${this.scenario.name}] Scenario execution completed`,"info")}}catch(v){const g=v instanceof Error?v.message:String(v);this.service.send({type:"ERROR",error:g}),(h=(f=this.callbacks).onError)==null||h.call(f,v instanceof Error?v:new Error(String(v)));const x={scenarioId:this.scenario.id,error:g};(m=this.eventEmitter)==null||m.emit("executionError",x),(b=this.eventEmitter)==null||b.emit("execution.error",x),(S=(w=this.callbacks).log)==null||S.call(w,`[${this.scenario.name}] Scenario execution failed: ${g}`,"error")}this.notifyStateChange()}async executeFlow(){var o,a,s,i,l,c;const t=this.scenario.nodes.find(d=>d.type===lt.START||d.data.label==="Start");if(!t)throw new Error("No start node found in scenario");await this.executeSingleNode(t);const r=this.scenario.edges.filter(d=>d.source===t.id).map(d=>this.scenario.nodes.find(f=>f.id===d.target)).filter(d=>d!==void 0);if(r.length===0){(a=(o=this.callbacks).log)==null||a.call(o,`[${this.scenario.name}] No nodes after Start, scenario ends`,"warn");return}r.length===1?((i=(s=this.callbacks).log)==null||i.call(s,`[${this.scenario.name}] Executing single branch`,"debug"),await this.executeSequentialFlow(r[0])):((c=(l=this.callbacks).log)==null||c.call(l,`[${this.scenario.name}] Executing ${r.length} parallel branches`,"info"),await this.executeParallelBranches(r)),this.service.machine.context.currentNodeId=null}async executeParallelBranches(t){var r,o;const n=t.map((a,s)=>{var i,l,c;return(c=(l=this.callbacks).log)==null||c.call(l,`[${this.scenario.name}] Starting branch ${s+1} from node: ${((i=a.data)==null?void 0:i.label)||a.id}`,"debug"),this.executeSequentialFlow(a)});await Promise.all(n),(o=(r=this.callbacks).log)==null||o.call(r,`[${this.scenario.name}] All ${n.length} parallel branches completed`,"info")}async executeSequentialFlow(t){let n=t;for(;n&&zt(this.service.machine)!=="idle"&&(await this.executeSingleNode(n),!(n.type===lt.END||n.data.label==="End"));){const r=this.scenario.edges.filter(a=>a.source===n.id);if(r.length===0)break;let o=null;for(const a of r){const s=this.scenario.nodes.find(i=>i.id===a.target);if(s){o=s;break}}if(!o){console.warn(`[ScenarioExecutor] All outgoing edges from node ${n.id} point to non-existent nodes. Branch will end here.`);break}n=o}}async executeSingleNode(t){var s,i,l,c,d,f,h,m;const n=cg(this.service.machine);n.currentNodeId=t.id,n.executedNodes.push(t.id),this.service.machine.context.currentNodeId=t.id,this.service.machine.context.executedNodes=n.executedNodes,this.notifyStateChange(),(i=(s=this.callbacks).onNodeExecute)==null||i.call(s,t.id);const r={scenarioId:this.scenario.id,nodeId:t.id,nodeType:t.type};(l=this.eventEmitter)==null||l.emit("nodeExecute",r),(c=this.eventEmitter)==null||c.emit("node.execute",r),(d=this.eventEmitter)==null||d.emit(`node.${t.type}.execute`,r),await this.waitIfPaused(),zt(this.service.machine)==="stepping"&&await this.waitForStep(),t.type!==lt.START&&t.type!==lt.END&&await this.executeNode(t),this.service.send({type:"NODE_COMPLETE",nodeId:t.id});const a={scenarioId:this.scenario.id,nodeId:t.id};(f=this.eventEmitter)==null||f.emit("nodeComplete",a),(h=this.eventEmitter)==null||h.emit("node.complete",a),(m=this.eventEmitter)==null||m.emit(`node.${t.type}.complete`,a)}async executeNode(t){var r,o,a;const n=((r=t.data)==null?void 0:r.label)||t.id;switch((a=(o=this.callbacks).log)==null||a.call(o,`[${this.scenario.name}] Executing node: ${n} (${t.type})`,"debug"),t.type){case lt.STATUS_CHANGE:await this.executeStatusChange(t.data);break;case lt.TRANSACTION:await this.executeTransaction(t.data);break;case lt.METER_VALUE:await this.executeMeterValue(t.id,t.data);break;case lt.DELAY:await this.executeDelay(t.id,t.data);break;case lt.NOTIFICATION:await this.executeNotification(t.data);break;case lt.CONNECTOR_PLUG:await this.executeConnectorPlug(t.data);break;case lt.REMOTE_START_TRIGGER:await this.executeRemoteStartTrigger(t.id,t.data);break;case lt.STATUS_TRIGGER:await this.executeStatusTrigger(t.id,t.data);break;case lt.RESERVE_NOW:await this.executeReserveNow(t.data);break;case lt.CANCEL_RESERVATION:await this.executeCancelReservation(t.data);break;case lt.RESERVATION_TRIGGER:await this.executeReservationTrigger(t.id,t.data);break;default:console.warn(`Unknown node type: ${t.type}`)}}async executeStatusChange(t){this.callbacks.onStatusChange&&await this.callbacks.onStatusChange(t.status)}async executeTransaction(t){t.action==="start"?this.callbacks.onStartTransaction&&await this.callbacks.onStartTransaction(t.tagId||"123456",t.batteryCapacityKwh,t.initialSoc):t.action==="stop"&&this.callbacks.onStopTransaction&&await this.callbacks.onStopTransaction()}async executeMeterValue(t,n){var r,o,a,s,i,l,c,d;this.callbacks.onSetMeterValue&&this.callbacks.onSetMeterValue(n.value),n.autoIncrement&&this.callbacks.onStartAutoMeterValue&&((o=(r=this.callbacks).log)==null||o.call(r,`[${this.scenario.name}] Starting AutoMeterValue: interval=${n.incrementInterval||10}s increment=${n.incrementAmount||1e3}Wh maxTime=${n.maxTime||"unlimited"} maxValue=${n.maxValue||"unlimited"}`,"info"),this.callbacks.onStartAutoMeterValue({intervalSeconds:n.incrementInterval||10,incrementValue:n.incrementAmount||1e3,maxTimeSeconds:n.maxTime,maxValue:n.maxValue}),n.maxTime&&n.maxTime>0?(await this.waitWithProgress(t,n.maxTime),(s=(a=this.callbacks).onStopAutoMeterValue)==null||s.call(a)):n.maxValue&&n.maxValue>0&&(await this.waitWithOptionalForceSkip(((l=(i=this.callbacks).onWaitForMeterValue)==null?void 0:l.call(i,n.maxValue))??Promise.resolve()),(d=(c=this.callbacks).onStopAutoMeterValue)==null||d.call(c))),n.sendMessage&&this.callbacks.onSendMeterValue&&await this.callbacks.onSendMeterValue()}async executeDelay(t,n){await this.waitWithProgress(t,n.delaySeconds)}async waitWithProgress(t,n){var i,l;if(this.callbacks.onDelay){await this.callbacks.onDelay(n);return}const r=100;let o=0;const a=setInterval(()=>{var f,h;o+=r/1e3;const c=Math.max(0,n-o);this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,c,n);const d={scenarioId:this.scenario.id,nodeId:t,remaining:c,total:n};(f=this.eventEmitter)==null||f.emit("nodeProgress",d),(h=this.eventEmitter)==null||h.emit("node.progress",d),c<=0&&clearInterval(a)},r);await this.sleep(n*1e3),clearInterval(a),this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,0,n);const s={scenarioId:this.scenario.id,nodeId:t,remaining:0,total:n};(i=this.eventEmitter)==null||i.emit("nodeProgress",s),(l=this.eventEmitter)==null||l.emit("node.progress",s)}async executeNotification(t){this.callbacks.onSendNotification&&await this.callbacks.onSendNotification(t.messageType,t.payload)}async executeConnectorPlug(t){this.callbacks.onConnectorPlug&&await this.callbacks.onConnectorPlug(t.action)}async executeRemoteStartTrigger(t,n){var i;if(!this.callbacks.onWaitForRemoteStart)return;const r=n.timeout||0;if(!r||r===0){await this.waitWithOptionalForceSkip(this.callbacks.onWaitForRemoteStart(r));return}const o=Date.now(),a=r*1e3,s=setInterval(()=>{var f,h;const l=Date.now()-o,c=Math.max(0,(a-l)/1e3);this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,c,r);const d={scenarioId:this.scenario.id,nodeId:t,remaining:c,total:r};(f=this.eventEmitter)==null||f.emit("nodeProgress",d),(h=this.eventEmitter)==null||h.emit("node.progress",d),c<=0&&clearInterval(s)},100);try{await this.waitWithOptionalForceSkip(this.callbacks.onWaitForRemoteStart(r))}finally{clearInterval(s),this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,0,r),(i=this.eventEmitter)==null||i.emit("nodeProgress",{scenarioId:this.scenario.id,nodeId:t,remaining:0,total:r})}}async executeStatusTrigger(t,n){var i;if(!this.callbacks.onWaitForStatus)return;const r=n.timeout||0;if(!r||r===0){await this.waitWithOptionalForceSkip(this.callbacks.onWaitForStatus(n.targetStatus,r));return}const o=Date.now(),a=r*1e3,s=setInterval(()=>{var f,h;const l=Date.now()-o,c=Math.max(0,(a-l)/1e3);this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,c,r);const d={scenarioId:this.scenario.id,nodeId:t,remaining:c,total:r};(f=this.eventEmitter)==null||f.emit("nodeProgress",d),(h=this.eventEmitter)==null||h.emit("node.progress",d),c<=0&&clearInterval(s)},100);try{await this.waitWithOptionalForceSkip(this.callbacks.onWaitForStatus(n.targetStatus,r))}finally{clearInterval(s),this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,0,r),(i=this.eventEmitter)==null||i.emit("nodeProgress",{scenarioId:this.scenario.id,nodeId:t,remaining:0,total:r})}}async executeReserveNow(t){if(!this.callbacks.onReserveNow)return;const n=t.reservationId||Math.floor(Math.random()*1e6);await this.callbacks.onReserveNow(t.expiryMinutes,t.idTag,t.parentIdTag,n)}async executeCancelReservation(t){this.callbacks.onCancelReservation&&await this.callbacks.onCancelReservation(t.reservationId)}async executeReservationTrigger(t,n){var i;if(!this.callbacks.onWaitForReservation)return;const r=n.timeout||0;if(!r||r===0){await this.waitWithOptionalForceSkip(this.callbacks.onWaitForReservation(r));return}const o=Date.now(),a=r*1e3,s=setInterval(()=>{var f,h;const l=Date.now()-o,c=Math.max(0,(a-l)/1e3);this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,c,r);const d={scenarioId:this.scenario.id,nodeId:t,remaining:c,total:r};(f=this.eventEmitter)==null||f.emit("nodeProgress",d),(h=this.eventEmitter)==null||h.emit("node.progress",d),c<=0&&clearInterval(s)},100);try{await this.waitWithOptionalForceSkip(this.callbacks.onWaitForReservation(r))}finally{clearInterval(s),this.callbacks.onNodeProgress&&this.callbacks.onNodeProgress(t,0,r),(i=this.eventEmitter)==null||i.emit("nodeProgress",{scenarioId:this.scenario.id,nodeId:t,remaining:0,total:r})}}pause(){var n,r;if(zt(this.service.machine)==="running"){this.service.send({type:"PAUSE"}),this.notifyStateChange();const o={scenarioId:this.scenario.id};(n=this.eventEmitter)==null||n.emit("executionPaused",o),(r=this.eventEmitter)==null||r.emit("execution.paused",o)}}resume(){var n,r;if(zt(this.service.machine)==="paused"){this.service.send({type:"RESUME"}),this.notifyStateChange();const o={scenarioId:this.scenario.id};(n=this.eventEmitter)==null||n.emit("executionResumed",o),(r=this.eventEmitter)==null||r.emit("execution.resumed",o)}}stop(){var n,r;this.service.send({type:"STOP"}),this.notifyStateChange();const t={scenarioId:this.scenario.id};(n=this.eventEmitter)==null||n.emit("executionStopped",t),(r=this.eventEmitter)==null||r.emit("execution.stopped",t)}step(){zt(this.service.machine)==="stepping"&&this.stepResolve&&(this.service.send({type:"STEP"}),this.stepResolve(),this.stepResolve=null)}forceStep(){zt(this.service.machine)==="stepping"&&(this.forceSkipResolve&&(this.forceSkipResolve(),this.forceSkipResolve=null),this.stepResolve&&(this.service.send({type:"STEP"}),this.stepResolve(),this.stepResolve=null))}getContext(){const t=zt(this.service.machine),n=cg(this.service.machine);return{scenarioId:n.scenarioId,state:t,mode:n.mode,currentNodeId:n.currentNodeId,executedNodes:n.executedNodes,loopCount:n.loopCount,error:n.error}}async waitIfPaused(){for(;zt(this.service.machine)==="paused";)await this.sleep(100)}async waitForStep(){if(zt(this.service.machine)==="stepping")return new Promise(n=>{this.stepResolve=n})}async waitWithOptionalForceSkip(t){if(zt(this.service.machine)!=="stepping"){await t;return}let r=null;const o=new Promise(a=>{r=a});this.forceSkipResolve=r;try{await Promise.race([t,o])}finally{this.forceSkipResolve===r&&(this.forceSkipResolve=null)}}notifyStateChange(){var t,n;(n=(t=this.callbacks).onStateChange)==null||n.call(t,this.getContext())}sleep(t){return new Promise(n=>setTimeout(n,t))}}class aw{constructor(t,n,r,o){H(this,"connector");H(this,"chargePoint");H(this,"scenarios",new Map);H(this,"executors",new Map);H(this,"callbacks");H(this,"eventEmitter");this.connector=t,this.chargePoint=n,this.callbacks=r,this.eventEmitter=o,this.connector.events.on("statusChange",a=>{this.handleStatusChange(a.previousStatus,a.status)})}evaluateStatus(t,n){this.handleStatusChange(t,n)}loadScenarios(t){this.scenarios.clear(),t.forEach(n=>{this.scenarios.set(n.id,n)})}getScenarios(){return Array.from(this.scenarios.values())}getScenario(t){return this.scenarios.get(t)}setScenario(t){this.scenarios.set(t.id,t)}removeScenario(t){this.executors.has(t)&&this.stopScenario(t),this.scenarios.delete(t)}getActiveScenarioIds(){return Array.from(this.executors.keys())}isScenarioActive(t){return this.executors.has(t)}getScenarioExecutionContext(t){const n=this.executors.get(t);return n?n.getContext():null}handleStatusChange(t,n){console.log(`[ScenarioManager] handleStatusChange called: ${t}  ${n}`);const r=this.findMatchingScenarios("statusChange",{fromStatus:t,toStatus:n});if(console.log(`[ScenarioManager] Found ${r.length} matching scenario(s) for ${t}  ${n}`),r.length!==0&&(console.log(`[ScenarioManager] Status changed: ${t}  ${n}. Found ${r.length} matching scenario(s).`),this.stopAllScenarios(),r.length>0)){const o=r[0];this.executeScenario(o.id,o.defaultExecutionMode||"oneshot"),r.length>1&&console.warn(`[ScenarioManager] Multiple scenarios matched, but only executing the first one: ${o.name}`)}}findMatchingScenarios(t,n){const r=[];return console.log(`[ScenarioManager] findMatchingScenarios: triggerType=${t}, conditions=`,n,`total scenarios=${this.scenarios.size}`),this.scenarios.forEach(o=>{if(console.log(`[ScenarioManager] Checking scenario: ${o.name}, enabled=${o.enabled}, trigger=`,o.trigger),o.enabled===!1){console.log(`[ScenarioManager] Skipping disabled scenario: ${o.name}`);return}if(!o.trigger){console.log(`[ScenarioManager] Skipping scenario without trigger: ${o.name}`);return}if(o.trigger.type!==t){console.log(`[ScenarioManager] Trigger type mismatch: ${o.trigger.type} !== ${t}`);return}if(t==="statusChange"){const a=o.trigger.conditions;if(!a){console.log(`[ScenarioManager] No conditions, matching: ${o.name}`),r.push(o);return}if(a.fromStatus&&a.fromStatus!==n.fromStatus){console.log(`[ScenarioManager] fromStatus mismatch: ${a.fromStatus} !== ${n.fromStatus}`);return}if(a.toStatus&&a.toStatus!==n.toStatus){console.log(`[ScenarioManager] toStatus mismatch: ${a.toStatus} !== ${n.toStatus}`);return}console.log(`[ScenarioManager] All conditions matched! Adding: ${o.name}`),r.push(o)}}),r}async executeScenario(t,n){if(this.chargePoint.status!==Y.Available){console.warn(`[ScenarioManager] ChargePoint status is ${this.chargePoint.status}. Scenario execution skipped.`);return}const r=this.scenarios.get(t);if(!r){console.error(`[ScenarioManager] Scenario not found: ${t}`);return}this.executors.has(t)&&this.stopScenario(t),console.log(`[ScenarioManager] Executing scenario: ${r.name} (${n})`);const o=new iI(r,this.callbacks,this.eventEmitter);this.executors.set(t,o);try{await o.start(n)}catch(a){console.error("[ScenarioManager] Scenario execution error:",a)}finally{this.executors.delete(t)}}stopScenario(t){const n=this.executors.get(t);n&&(console.log(`[ScenarioManager] Stopping scenario: ${t}`),n.stop(),this.executors.delete(t))}stopAllScenarios(){const t=Array.from(this.executors.keys());t.length>0&&(console.log(`[ScenarioManager] Stopping ${t.length} active scenario(s)`),t.forEach(n=>this.stopScenario(n)))}async manualExecute(t,n){const r=this.scenarios.get(t);if(!r)throw new Error(`Scenario not found: ${t}`);console.log(`[ScenarioManager] Manual execution: ${r.name} (${n})`),await this.executeScenario(t,n)}pauseScenario(t){const n=this.executors.get(t);n&&n.pause()}resumeScenario(t){const n=this.executors.get(t);n&&n.resume()}stepScenario(t){const n=this.executors.get(t);n&&n.step()}destroy(){this.stopAllScenarios(),this.scenarios.clear(),this.executors.clear()}}const lI=(e,t)=>(n,r="info")=>{var o;switch(r){case"debug":e.logger.debug(n,te.SCENARIO);break;case"info":e.logger.info(n,te.SCENARIO);break;case"warn":e.logger.warn(n,te.SCENARIO);break;case"error":e.logger.error(n,te.SCENARIO);break}(o=t==null?void 0:t.log)==null||o.call(t,n,r)},cI=(e,t,n)=>e.status===t?Promise.resolve():new Promise((r,o)=>{let a=null;const s=i=>{i.status===t&&(a&&clearTimeout(a),e.events.off("statusChange",s),r())};e.events.on("statusChange",s),n&&n>0&&(a=setTimeout(()=>{e.events.off("statusChange",s),o(new Error(`Timeout waiting for status: ${t} (${n}s)`))},n*1e3))}),uI=(e,t,n)=>{var r;return(r=t.transaction)!=null&&r.tagId?Promise.resolve(t.transaction.tagId):new Promise((o,a)=>{let s=null;const i=l=>{l.connectorId===t.id&&(s&&clearTimeout(s),e.events.off("transactionStarted",i),o(l.tagId))};e.events.on("transactionStarted",i),n&&n>0&&(s=setTimeout(()=>{e.events.off("transactionStarted",i),a(new Error(`Timeout waiting for remote start (${n}s)`))},n*1e3))})},dI=(e,t,n)=>{const r=()=>{const a=e.reservationManager.getReservationForConnector(t.id);return(a==null?void 0:a.reservationId)??null},o=r();return o!==null?Promise.resolve(o):new Promise((a,s)=>{let i=null;const l=()=>{i&&clearTimeout(i),t.events.off("statusChange",d),clearInterval(f)},c=()=>{const h=r();h!==null&&(l(),a(h))},d=()=>{c()};t.events.on("statusChange",d);const f=setInterval(c,250);n&&n>0&&(i=setTimeout(()=>{l(),s(new Error(`Timeout waiting for reservation (${n}s)`))},n*1e3))})},fI=(e,t,n)=>e.meterValue>=t?Promise.resolve():new Promise((r,o)=>{let a=null;const s=i=>{i.meterValue>=t&&(a&&clearTimeout(a),e.events.off("meterValueChange",s),r())};e.events.on("meterValueChange",s),n&&n>0&&(a=setTimeout(()=>{e.events.off("meterValueChange",s),o(new Error(`Timeout waiting for meter value: ${t} (${n}s)`))},n*1e3))}),sw=e=>{const{chargePoint:t,connector:n,hooks:r}=e;return{onStatusChange:async o=>{t.updateConnectorStatus(n.id,o)},onStartTransaction:async(o,a,s)=>{t.startTransaction(o,n.id,a,s)},onStopTransaction:async()=>{t.stopTransaction(n.id)},onSetMeterValue:o=>{t.setMeterValue(n.id,o)},onSendMeterValue:async()=>{t.sendMeterValue(n.id)},onStartAutoMeterValue:o=>{n.startManualMeterStrategy({kind:"increment",intervalSeconds:o.intervalSeconds,incrementValue:o.incrementValue,maxTimeSeconds:o.maxTimeSeconds,maxValue:o.maxValue})},onStopAutoMeterValue:()=>{n.stopAutoMeterValue()},onSendNotification:async(o,a)=>{switch(o){case"Heartbeat":t.sendHeartbeat();break;case"StatusNotification":a!=null&&a.status&&t.updateConnectorStatus(n.id,a.status);break;default:console.warn(`Unhandled scenario notification type: ${o}`,a)}},onConnectorPlug:async()=>{},onDelay:async o=>{await new Promise(a=>setTimeout(a,o*1e3))},onWaitForRemoteStart:async o=>uI(t,n,o),onWaitForStatus:async(o,a)=>cI(n,o,a),onWaitForMeterValue:async(o,a)=>fI(n,o,a),onReserveNow:async(o,a,s,i)=>{const l=new Date(Date.now()+o*60*1e3),c=i||Math.floor(Math.random()*1e6);return t.reservationManager.createReservation(n.id,l,a,s,c)===rn.Accepted&&(n.status=Y.Reserved),c},onCancelReservation:async o=>{const a=t.reservationManager.getReservation(o);t.reservationManager.cancelReservation(o)&&a&&n.status===Y.Reserved&&(n.status=Y.Available)},onWaitForReservation:async o=>dI(t,n,o),onStateChange:r==null?void 0:r.onStateChange,onNodeExecute:r==null?void 0:r.onNodeExecute,onNodeProgress:r==null?void 0:r.onNodeProgress,onError:r==null?void 0:r.onError,log:lI(t,r)}};function iw(e,t){const{scenarioRepository:n}=ia(),[r,o]=p.useState([]),[a,s]=p.useState(!!e);p.useEffect(()=>{if(!e){o([]),s(!1);return}let c=!1;(async()=>{s(!0);try{const h=await n.list(e);c||o(h.filter(m=>t===null?m.targetType!=="connector":m.targetType==="connector"?m.targetId===t:m.targetType!=="chargePoint"))}finally{c||s(!1)}})();const f=n.subscribe(e,t,h=>{h&&o(m=>[...m.filter(w=>w.id!==h.id),h])});return()=>{c=!0,f()}},[e,t,n]);const i=p.useCallback(async c=>{e&&await n.save(e,t,c)},[e,t,n]),l=p.useCallback(async()=>{e&&(await n.delete(e,t),o([]))},[e,t,n]);return{scenarios:r,isLoading:a,saveScenario:i,deleteScenario:l}}const ug=Y.Unavailable,dg="Operative",fg="manual";function Nh(e,t){var D;const{chargePointService:n}=ia(),r=(e==null?void 0:e.id)??null,o=(e==null?void 0:e.getConnector(t))??null,[a,s]=p.useState((o==null?void 0:o.status)??ug),[i,l]=p.useState((o==null?void 0:o.availability)??dg),[c,d]=p.useState((o==null?void 0:o.meterValue)??0),[f,h]=p.useState((o==null?void 0:o.soc)??null),[m,b]=p.useState(((D=o==null?void 0:o.transaction)==null?void 0:D.id)??null),[w,S]=p.useState([]),[v,g]=p.useState((o==null?void 0:o.autoMeterValueConfig)??null),[x,E]=p.useState((o==null?void 0:o.mode)??fg),[M,I]=p.useState((o==null?void 0:o.autoResetToAvailable)??!0),[_,R]=p.useState((o==null?void 0:o.evSettings)??{...hs});p.useEffect(()=>{var V;if(!r){s(ug),l(dg),d(0),h(null),b(null),g(null),E(fg),I(!0),R({...hs}),S([]);return}const W=e==null?void 0:e.getConnector(t);W&&(s(W.status),l(W.availability),d(W.meterValue),h(W.soc),b(((V=W.transaction)==null?void 0:V.id)??null),g(W.autoMeterValueConfig??null),E(W.mode),I(W.autoResetToAvailable),R(W.evSettings));const K=n.subscribe(r,A=>{switch(A.type){case"connector-status":A.connectorId===t&&s(A.status);break;case"connector-availability":A.connectorId===t&&l(A.availability);break;case"connector-meter":A.connectorId===t&&d(A.meterValue);break;case"connector-soc":A.connectorId===t&&h(A.soc);break;case"connector-transaction":A.connectorId===t&&b(A.transactionId);break;case"connector-auto-meter":A.connectorId===t&&g(A.config);break;case"connector-mode":A.connectorId===t&&E(A.mode);break;case"connector-auto-reset-to-available":A.connectorId===t&&I(A.enabled);break;case"connector-ev-settings":A.connectorId===t&&R(A.settings);break;case"log":S(q=>[...q,`[${A.entry.timestamp.toISOString()}] ${A.entry.message}`]);break}});return()=>{K&&K()}},[e,r,t,n]);const $=p.useMemo(()=>[...w],[w]);return{status:a,availability:i,meterValue:c,soc:f,transactionId:m,logs:$,autoMeterValueConfig:v,mode:x,autoResetToAvailable:M,evSettings:_}}const hI=p.lazy(()=>_s(()=>import("./MeterValueCurveModal-ClIEDJdE.js"),[])),pI=p.lazy(()=>_s(()=>import("./ScenarioEditor-w9rw-Yrf.js"),__vite__mapDeps([0,1,2]))),mI=p.lazy(()=>_s(()=>import("./StateTransitionViewer-BhvbUP-L.js"),__vite__mapDeps([3,1,2]))),lw=p.memo(({status:e})=>{const t=n=>{switch(n){case Y.Unavailable:return"status-unavailable";case Y.Available:return"status-available";case Y.Preparing:return"status-preparing";case Y.Charging:return"status-charging";case Y.Faulted:return"status-error";default:return"text-secondary"}};return u.jsx("span",{className:t(e),children:e})});lw.displayName="ConnectorStatus";const cw=p.memo(({availability:e})=>{const t=n=>{switch(n){case"Operative":return"status-available";case"Inoperative":return"status-unavailable";default:return"text-secondary"}};return u.jsx("span",{className:t(e),children:e})});cw.displayName="ConnectorAvailability";const gI=({cp:e,connectorId:t,connectorStatus:n,transactionId:r,meterValue:o,setMeterValue:a,tagId:s,setIdTag:i,availability:l,autoMeterValueConfig:c,autoResetToAvailable:d,onStartTransaction:f,onStopTransaction:h,onIncreaseMeterValue:m,onSendMeterValue:b,onToggleAutoMeterValue:w,onOpenConfigModal:S,onStatusNotification:v,onToggleAutoResetToAvailable:g})=>{var V;const x=e.getConnector(t),E=x==null?void 0:x.scenarioManager,[M,I]=p.useState([]),[_,R]=p.useState("00:00:00"),[$,D]=p.useState("");p.useEffect(()=>{const A=setInterval(()=>{const X=(E==null?void 0:E.getActiveScenarioIds())||[];I(X)},500),q=(E==null?void 0:E.getActiveScenarioIds())||[];return I(q),()=>clearInterval(A)},[E]),p.useEffect(()=>{if(n!==Y.Charging||!(x!=null&&x.transaction)){R("00:00:00"),D("");return}const A=x.transaction.startTime;A&&D(A.toLocaleTimeString());const q=setInterval(()=>{var y;const X=e.getConnector(t),Z=(y=X==null?void 0:X.transaction)==null?void 0:y.startTime;if(Z){const C=Date.now()-Z.getTime(),N=Math.floor(C/36e5),T=Math.floor(C%36e5/6e4),j=Math.floor(C%6e4/1e3);R(`${N.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(q)},[n,x==null?void 0:x.transaction,e,t]);const W=M.length>0,K=A=>{switch(A){case Y.Available:return"bg-green-500";case Y.Charging:return"bg-blue-500";case Y.Preparing:return"bg-yellow-500";case Y.Faulted:return"bg-red-500";case Y.Unavailable:return"bg-gray-500";default:return"bg-gray-400"}};return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"panel p-4",children:[u.jsx("h3",{className:"text-sm font-semibold mb-3 text-primary",children:" Status Dashboard"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-muted mb-1",children:"Status"}),u.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[u.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${K(n)}`}),u.jsx("span",{className:"text-sm font-bold text-primary",children:n})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-muted mb-1",children:"Meter"}),u.jsx("div",{className:"text-sm font-bold font-mono text-primary",children:o.toLocaleString()}),u.jsx("div",{className:"text-xs text-muted",children:"Wh"})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-muted mb-1",children:"Availability"}),u.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[u.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${l==="Operative"?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-bold text-primary",children:l})]})]})]})]}),n===Y.Charging&&r!==null&&r!==0?u.jsxs("div",{className:"panel p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/50 dark:to-emerald-950/50 border-l-4 border-green-500",children:[u.jsxs("h3",{className:"text-sm font-semibold mb-3 text-green-700 dark:text-green-300 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Active Transaction"]}),u.jsxs("div",{className:"text-2xl font-bold font-mono text-green-800 dark:text-green-200 mb-3",children:["#",r]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"ID Tag:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:((V=x==null?void 0:x.transaction)==null?void 0:V.tagId)||s})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Started:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:$})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Duration:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:_})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Energy:"}),u.jsxs("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:[(o/1e3).toFixed(2)," kWh"]})]})]})]}):null,W?u.jsx("div",{className:"panel p-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/50 dark:to-indigo-950/50 border-l-4 border-blue-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm font-semibold text-primary flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"}),"Scenario Running"]}),u.jsx("span",{className:"text-xs text-muted",children:M.map(A=>{var q;return((q=E==null?void 0:E.getScenario(A))==null?void 0:q.name)||A}).join(", ")})]})}):null,u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"panel p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-muted flex items-center gap-1",children:" Transaction"}),u.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-blue-500 mb-2",placeholder:"ID Tag"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsx("button",{onClick:f,disabled:n===Y.Charging,className:"btn-success text-xs py-1.5 disabled:opacity-50 disabled:cursor-not-allowed",children:" Start"}),u.jsx("button",{onClick:h,disabled:n!==Y.Charging,className:"btn-warning text-xs py-1.5 disabled:opacity-50 disabled:cursor-not-allowed",children:" Stop"})]})]}),u.jsxs("div",{className:"panel p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-muted flex items-center gap-1",children:" Meter Value"}),u.jsx("input",{type:"number",value:o,onChange:A=>a(Number(A.target.value)),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 font-mono focus:ring-2 focus:ring-blue-500 mb-2"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsx("button",{onClick:m,className:"btn-info text-xs py-1.5",children:"+10 Wh"}),u.jsx("button",{onClick:b,className:"btn-secondary text-xs py-1.5",children:" Send"})]})]})]}),u.jsxs("div",{className:"panel p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-muted",children:" Status Control"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("select",{className:"input-base text-xs flex-1 py-1.5",value:"",onChange:A=>{A.target.value&&(e.updateConnectorStatus(t,A.target.value),A.target.value="")},children:[u.jsx("option",{value:"",children:"Change Status..."}),u.jsx("option",{value:Y.Available,children:"Available"}),u.jsx("option",{value:Y.Preparing,children:"Preparing"}),u.jsx("option",{value:Y.Charging,children:"Charging"}),u.jsx("option",{value:Y.SuspendedEVSE,children:"SuspendedEVSE"}),u.jsx("option",{value:Y.SuspendedEV,children:"SuspendedEV"}),u.jsx("option",{value:Y.Finishing,children:"Finishing"}),u.jsx("option",{value:Y.Reserved,children:"Reserved"}),u.jsx("option",{value:Y.Unavailable,children:"Unavailable"}),u.jsx("option",{value:Y.Faulted,children:"Faulted"})]}),u.jsx("button",{onClick:v,className:"btn-secondary text-xs px-3",children:" Send"})]})]}),u.jsxs("div",{className:"panel p-3",children:[u.jsx("h3",{className:"text-xs font-semibold mb-3 text-muted",children:" Settings"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between py-1",children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Auto Available on Stop"}),u.jsx("button",{onClick:g,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${d?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${d?"translate-x-5":"translate-x-1"}`})})]}),c?u.jsxs("div",{className:"flex items-center justify-between py-1 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Auto MeterValue"}),c.enabled?u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Active"]}):null]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{onClick:w,className:`text-xs px-2 py-1 rounded ${c.enabled?"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"}`,children:c.enabled?"Disable":"Enable"}),u.jsx("button",{onClick:S,className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:""})]})]}):null]})]})]})},vI=({id:e,cp:t,idTag:n,isSelected:r=!1,onSelect:o})=>{var we;const{status:a,availability:s,meterValue:i,soc:l,transactionId:c,autoMeterValueConfig:d,autoResetToAvailable:f}=Nh(t,e),{scenarios:h}=iw((t==null?void 0:t.id)??null,e),[m,b]=p.useState(i);p.useEffect(()=>{b(i)},[i]);const[w,S]=p.useState(n),[v,g]=p.useState(!1),[x,E]=p.useState(!1),[M,I]=p.useState("connector"),[_,R]=p.useState(50),[$,D]=p.useState(!1),W=p.useRef(0),K=p.useRef(0),[V,A]=p.useState(null),[q,X]=p.useState(null),[Z,y]=p.useState({});p.useEffect(()=>{if(!t)return;const ue=t.getConnector(e);if(ue)return ue.setOnMeterValueSend(Ie=>{t.sendMeterValue(Ie)}),()=>{ue.setOnMeterValueSend(()=>{})}},[e,t]);const C=p.useRef(null),N=p.useRef(null);p.useEffect(()=>{N.current=V},[V]),p.useEffect(()=>{if(!t)return;const ue=t.getConnector(e);if(!ue)return;const Ie=sw({chargePoint:t,connector:ue,hooks:{onNodeProgress:(Vt,Wn,Rr)=>{y(hc=>({...hc,[Vt]:{remaining:Wn,total:Rr}}))},onStateChange:Vt=>{const Wn=N.current;Wn&&Vt.scenarioId===Wn.id&&X(Vt)}}}),Zt=new aw(ue,t,Ie,ue.scenarioEvents);C.current=Zt,ue.setScenarioManager(Zt);const Bn=setInterval(()=>{const Vt=C.current;if(!Vt)return;const Wn=Vt.getActiveScenarioIds(),Rr=N.current;if(Rr&&Wn.includes(Rr.id)){const hc=Vt.getScenarioExecutionContext(Rr.id);X(hc)}else X(null)},500);return()=>{clearInterval(Bn),Zt.destroy(),C.current=null}},[e,t]),p.useEffect(()=>{h.length>0?(console.debug("[Connector] Loaded scenarios",h),A(Ie=>{const Bn=(Ie?h.find(Vt=>Vt.id===Ie.id):null)??h[0];return N.current=Bn,Bn})):(A(null),N.current=null);const ue=C.current;if(ue&&(console.debug("[Connector] Refreshing ScenarioManager with scenarios",h),ue.loadScenarios(h),t)){const Ie=t.stateManager.history.getLatestEntry("connector",e);Ie&&ue.evaluateStatus(Ie.fromState,Ie.toState)}},[h,t,e]);const T=()=>{t&&t.updateConnectorStatus(e,a)},j=()=>{t&&t.startTransaction(w,e)},F=()=>{t&&t.stopTransaction(e)},U=()=>{if(t){const ue=m+10;b(ue),t.setMeterValue(e,ue)}},J=()=>{t&&(t.setMeterValue(e,m),t.sendMeterValue(e))},G=()=>{if(!t||!d)return;const ue=t.getConnector(e);if(!ue)return;const Ie={...d,enabled:!d.enabled};ue.autoMeterValueConfig=Ie},P=ue=>{if(!t)return;const Ie=t.getConnector(e);Ie&&(Ie.autoMeterValueConfig=ue,mb(t.id,e,ue))},k=()=>{if(!t)return;const ue=t.getConnector(e);ue&&(ue.autoResetToAvailable=!ue.autoResetToAvailable)},O=()=>{E(!0)},L=()=>{t&&window.confirm(`Are you sure you want to remove Connector ${e}?`)&&t.removeConnector(e)},z=p.useCallback(()=>{if(E(!1),t){const ue=loadScenarios(t.id,e);if(ue.length>0){const Ie=V?ue.find(Bn=>Bn.id===V.id):null;A(Ie||ue[0]);const Zt=t.getConnector(e);Zt!=null&&Zt.scenarioManager&&Zt.scenarioManager.loadScenarios(ue)}}},[t,e,V]),B=ue=>{D(!0),W.current=ue.clientX,K.current=_,ue.preventDefault()};p.useEffect(()=>{if(!$)return;const ue=Zt=>{const Bn=W.current-Zt.clientX,Vt=window.innerWidth,Wn=Bn/Vt*100,Rr=Math.min(95,Math.max(30,K.current+Wn));R(Rr)},Ie=()=>{D(!1)};return document.addEventListener("mousemove",ue),document.addEventListener("mouseup",Ie),()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",Ie)}},[$]),p.useEffect(()=>{if(!x)return;const ue=Ie=>{Ie.key==="Escape"&&E(!1)};return document.addEventListener("keydown",ue),()=>{document.removeEventListener("keydown",ue)}},[x]);const ee=t==null?void 0:t.getConnector(e),le=((we=ee==null?void 0:ee.transaction)==null?void 0:we.batteryCapacityKwh)??100,be=l!==null?Math.min(100,Math.max(0,l)):Math.min(100,i/(le*1e3)*100),me=()=>a===Y.Faulted?"text-red-500 dark:text-red-400":a===Y.Unavailable?"text-gray-400 dark:text-gray-600":a===Y.Charging?"text-green-500 dark:text-green-400":a===Y.Available?"text-blue-500 dark:text-blue-400":"text-yellow-500 dark:text-yellow-400",fe=()=>a===Y.Faulted?"bg-red-500 dark:bg-red-400":a===Y.Charging||be>80?"bg-green-500 dark:bg-green-400":be>20?"bg-yellow-500 dark:bg-yellow-400":"bg-red-500 dark:bg-red-400",ye=p.useCallback(()=>{o&&o()},[o]);return u.jsxs("div",{className:`panel cursor-pointer hover:shadow-lg transition-all ${r?"ring-2 ring-blue-500 shadow-lg":""}`,onClick:ye,children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h3",{className:"text-base font-semibold text-primary",children:["Connector ",e]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:ue=>{ue.stopPropagation(),L()},className:"text-xs px-2 py-1 btn-danger rounded",title:"Remove Connector",children:""})})]}),u.jsxs("div",{className:"flex items-center gap-4 mb-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[u.jsxs("div",{className:"relative flex-shrink-0",children:[u.jsx("div",{className:`text-5xl ${me()}`,children:""}),a===Y.Charging?u.jsx("div",{className:"absolute -top-1 -right-1 text-xl animate-pulse",children:""}):null]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-semibold text-primary",children:u.jsx(lw,{status:a})}),c!=null&&c!==0?u.jsxs("span",{className:"text-xs text-muted font-mono",children:["TX:",c]}):null]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400",children:[u.jsx("span",{children:l!==null?"Battery SoC":"Energy"}),u.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-gray-100",children:l!==null?`${l.toFixed(1)}%`:`${(i/1e3).toFixed(2)} kWh`})]}),l!==null?u.jsx("div",{className:"w-full h-3 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full ${fe()} transition-all duration-300 ease-out`,style:{width:`${be}%`}})}):null,u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:u.jsx(cw,{availability:s})}),l!==null?u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[(i/1e3).toFixed(2)," kWh charged"]}):null]})]})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Click to open details panel"}),u.jsxs("button",{onClick:ue=>{ue.stopPropagation(),O()},className:"inline-flex items-center gap-1 text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-700 dark:text-gray-300",children:[u.jsx(gd,{className:"h-3 w-3"}),"Scenario Editor"]})]}),v&&d?u.jsx(p.Suspense,{fallback:u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center",children:u.jsx("div",{className:"text-white",children:"Loading..."})}),children:u.jsx(hI,{isOpen:v,onClose:()=>g(!1),initialConfig:d,onSave:P})}):null,x&&t?u.jsxs("div",{className:"fixed inset-0 z-[9999] flex justify-end pointer-events-none",children:[u.jsx("div",{className:"flex-1 bg-black bg-opacity-20 pointer-events-none"}),u.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-2xl h-full flex flex-row pointer-events-auto",style:{width:`${_}vw`},onClick:ue=>ue.stopPropagation(),children:[u.jsx("div",{className:`w-2 bg-gray-300 dark:bg-gray-600 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize flex-shrink-0 transition-colors ${$?"bg-blue-500 dark:bg-blue-400":""}`,onMouseDown:B,style:{cursor:"col-resize"},children:u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"w-1 h-12 bg-gray-400 dark:bg-gray-500 rounded-full"})})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("button",{onClick:()=>I("connector"),className:`flex-1 px-4 py-3 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${M==="connector"?"bg-white dark:bg-gray-800 text-primary dark:text-white border-b-2 border-blue-500":"bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100"}`,children:" Connector Details"}),u.jsx("button",{onClick:()=>I("scenario"),className:`flex-1 px-4 py-3 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${M==="scenario"?"bg-white dark:bg-gray-800 text-primary dark:text-white border-b-2 border-blue-500":"bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100"}`,children:" Scenario"}),u.jsxs("button",{onClick:()=>I("stateTransition"),className:`flex-1 px-4 py-3 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${M==="stateTransition"?"bg-white dark:bg-gray-800 text-primary dark:text-white border-b-2 border-blue-500":"bg-gray-50 dark:bg-gray-900 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[u.jsx(gd,{className:"h-4 w-4"})," State Transition"]}),u.jsx("button",{onClick:()=>E(!1),className:"px-4 py-3 text-sm font-semibold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors flex items-center justify-center",title:"Close Panel",children:""})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:M==="connector"?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"panel p-3 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("h2",{className:"text-lg font-bold text-primary",children:["Connector ",e," Details"]}),u.jsx("p",{className:"text-xs text-muted",children:t.id})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsx(gI,{cp:t,connectorId:e,connectorStatus:a,transactionId:c,meterValue:m,setMeterValue:b,tagId:w,setIdTag:S,availability:s,autoMeterValueConfig:d,autoResetToAvailable:f,onStartTransaction:j,onStopTransaction:F,onIncreaseMeterValue:U,onSendMeterValue:J,onToggleAutoMeterValue:G,onOpenConfigModal:()=>g(!0),onStatusNotification:T,onToggleAutoResetToAvailable:k})})]}):M==="scenario"?u.jsx(p.Suspense,{fallback:u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-muted",children:"Loading Scenario Editor..."})}),children:u.jsx(pI,{chargePoint:t,connectorId:e,scenario:V,scenarioId:V==null?void 0:V.id,executionContext:q,nodeProgress:Z,onClose:z})}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"panel p-3 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h2",{className:"text-lg font-bold text-primary",children:"State Transition Diagram (OCPP 1.6J)"}),u.jsxs("p",{className:"text-xs text-muted",children:["Connector ",e]})]}),u.jsx("div",{className:"flex-1 overflow-hidden",children:t.getConnector(e)?u.jsx(p.Suspense,{fallback:u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-muted",children:"Loading State Diagram..."})}),children:u.jsx(mI,{connector:t.getConnector(e),chargePoint:t})}):null})]})})]})]})]}):null]})};function br(e,t){const n=t.split(".");let r=e;for(const o of n){if(typeof r=="boolean"||typeof r=="string")return r;if(r==null||typeof r!="object")return;r=r[o]}return r}function yI(e){const{theme:t,clearTheme:n,applyTheme:r,...o}=e;return o}function oc(e,t){let n=yI(e);return t&&(n={...t,...e}),n}const kr={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};kr.defaultMerge;function xI(e,t){return t}function bI(e,t){return e.filter(n=>n!==void 0)}var hg;(function(e){e[e.NOT=0]="NOT",e[e.RECORD=1]="RECORD",e[e.ARRAY=2]="ARRAY",e[e.SET=3]="SET",e[e.MAP=4]="MAP",e[e.OTHER=5]="OTHER"})(hg||(hg={}));function pg(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:CI(e)?1:e instanceof Set?3:e instanceof Map?4:5}function wI(e){const t=new Set;for(const n of e)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])t.add(r);return t}function SI(e,t){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,t)}function uw(e){var r;let t=0,n=(r=e[0])==null?void 0:r[Symbol.iterator]();return{[Symbol.iterator](){return{next(){var o;do{if(n===void 0)return{done:!0,value:void 0};const a=n.next();if(a.done===!0){t+=1,n=(o=e[t])==null?void 0:o[Symbol.iterator]();continue}return{done:!1,value:a.value}}while(!0)}}}}}const mg=["[object Object]","[object Module]"];function CI(e){if(!mg.includes(Object.prototype.toString.call(e)))return!1;const{constructor:t}=e;if(t===void 0)return!0;const n=t.prototype;return!(n===null||typeof n!="object"||!mg.includes(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function EI(e,t,n){const r={};for(const o of wI(e)){const a=[];for(const l of e)SI(l,o)&&a.push(l[o]);if(a.length===0)continue;const s=t.metaDataUpdater(n,{key:o,parents:e}),i=fw(a,t,s);i!==kr.skip&&(o==="__proto__"?Object.defineProperty(r,o,{value:i,configurable:!0,enumerable:!0,writable:!0}):r[o]=i)}return r}function kI(e){return e.flat()}function _I(e){return new Set(uw(e))}function NI(e){return new Map(uw(e))}function RI(e){return e.at(-1)}const ti={mergeRecords:EI,mergeArrays:kI,mergeSets:_I,mergeMaps:NI,mergeOthers:RI};function MI(...e){return dw({})(...e)}function dw(e,t){const n=TI(e,r);function r(...o){return fw(o,n,t)}return r}function TI(e,t){return{defaultMergeFunctions:ti,mergeFunctions:{...ti,...Object.fromEntries(Object.entries(e).filter(([n,r])=>Object.hasOwn(ti,n)).map(([n,r])=>r===!1?[n,ti.mergeOthers]:[n,r]))},metaDataUpdater:e.metaDataUpdater??xI,deepmerge:t,useImplicitDefaultMerging:e.enableImplicitDefaultMerging??!1,filterValues:e.filterValues===!1?void 0:e.filterValues??bI,actions:kr}}function fw(e,t,n){var a;const r=((a=t.filterValues)==null?void 0:a.call(t,e,n))??e;if(r.length===0)return;if(r.length===1)return vu(r,t,n);const o=pg(r[0]);if(o!==0&&o!==5){for(let s=1;s<r.length;s++)if(pg(r[s])!==o)return vu(r,t,n)}switch(o){case 1:return AI(r,t,n);case 2:return jI(r,t,n);case 3:return PI(r,t,n);case 4:return II(r,t,n);default:return vu(r,t,n)}}function AI(e,t,n){const r=t.mergeFunctions.mergeRecords(e,t,n);return r===kr.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeRecords!==t.defaultMergeFunctions.mergeRecords?t.defaultMergeFunctions.mergeRecords(e,t,n):r}function jI(e,t,n){const r=t.mergeFunctions.mergeArrays(e,t,n);return r===kr.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeArrays!==t.defaultMergeFunctions.mergeArrays?t.defaultMergeFunctions.mergeArrays(e):r}function PI(e,t,n){const r=t.mergeFunctions.mergeSets(e,t,n);return r===kr.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeSets!==t.defaultMergeFunctions.mergeSets?t.defaultMergeFunctions.mergeSets(e):r}function II(e,t,n){const r=t.mergeFunctions.mergeMaps(e,t,n);return r===kr.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeMaps!==t.defaultMergeFunctions.mergeMaps?t.defaultMergeFunctions.mergeMaps(e):r}function vu(e,t,n){const r=t.mergeFunctions.mergeOthers(e,t,n);return r===kr.defaultMerge||t.useImplicitDefaultMerging&&r===void 0&&t.mergeFunctions.mergeOthers!==t.defaultMergeFunctions.mergeOthers?t.defaultMergeFunctions.mergeOthers(e):r}function wi(e){var t,n,r;if(Array.isArray(e)){for(n=Array(t=e.length);t--;)n[t]=(r=e[t])&&typeof r=="object"?wi(r):r;return n}if(Object.prototype.toString.call(e)==="[object Object]"){n={};for(t in e)t==="__proto__"?Object.defineProperty(n,t,{value:wi(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=(r=e[t])&&typeof r=="object"?wi(r):r;return n}return e}const Rh={dark:void 0,mode:void 0,prefix:void 0,version:void 0};function OI(){return Rh.dark}function hw(){return Rh.prefix}function pw(){return Rh.version}function LI(e){return dw({mergeOthers:(t,n)=>{if(t.some(r=>typeof r=="string")){const r=t.filter(s=>typeof s=="string"),o=new Set,a=[];for(const s of r){const i=[...new Set(s.split(/\s+/))];a.push(i.filter(l=>!o.has(l)).join(" "));for(const l of i)o.add(l)}return e(a)}return n.actions.defaultMerge}})}function zd(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e))return e.length!==t.length?!1:e.every((r,o)=>zd(r,t[o]));if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>Object.prototype.hasOwnProperty.call(t,r)&&zd(e[r],t[r]))}return e!==e&&t!==t}const Mh="-",DI=e=>{const t=FI(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(Mh);return i[0]===""&&i.length!==1&&i.shift(),mw(i,t)||$I(s)},getConflictingClassGroupIds:(s,i)=>{const l=n[s]||[];return i&&r[s]?[...l,...r[s]]:l}}},mw=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?mw(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Mh);return(s=t.validators.find(({validator:i})=>i(a)))==null?void 0:s.classGroupId},gg=/^\[(.+)\]$/,$I=e=>{if(gg.test(e)){const t=gg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FI=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const o in n)Ud(n[o],r,o,t);return r},Ud=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:vg(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(VI(o)){Ud(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,s])=>{Ud(s,vg(t,a),n,r)})})},vg=(e,t)=>{let n=e;return t.split(Mh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VI=e=>e.isThemeGetter,zI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let s=n.get(a);if(s!==void 0)return s;if((s=r.get(a))!==void 0)return o(a,s),s},set(a,s){n.has(a)?n.set(a,s):o(a,s)}}},Bd="!",Wd=":",UI=Wd.length,BI=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const a=[];let s=0,i=0,l=0,c;for(let b=0;b<o.length;b++){let w=o[b];if(s===0&&i===0){if(w===Wd){a.push(o.slice(l,b)),l=b+UI;continue}if(w==="/"){c=b;continue}}w==="["?s++:w==="]"?s--:w==="("?i++:w===")"&&i--}const d=a.length===0?o:o.substring(l),f=WI(d),h=f!==d,m=c&&c>l?c-l:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const o=t+Wd,a=r;r=s=>s.startsWith(o)?a(s.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const o=r;r=a=>n({className:a,parseClassName:o})}return r},WI=e=>e.endsWith(Bd)?e.substring(0,e.length-1):e.startsWith(Bd)?e.substring(1):e,HI=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(s=>{s[0]==="["||t[s]?(o.push(...a.sort(),s),a=[]):a.push(s)}),o.push(...a.sort()),o}},GI=e=>({cache:zI(e.cacheSize),parseClassName:BI(e),sortModifiers:HI(e),...DI(e)}),qI=/\s+/,KI=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=t,s=[],i=e.trim().split(qI);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:w}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let S=!!w,v=r(S?b.substring(0,w):b);if(!v){if(!S){l=d+(l.length>0?" "+l:l);continue}if(v=r(b),!v){l=d+(l.length>0?" "+l:l);continue}S=!1}const g=a(h).join(":"),x=m?g+Bd:g,E=x+v;if(s.includes(E))continue;s.push(E);const M=o(v,S);for(let I=0;I<M.length;++I){const _=M[I];s.push(x+_)}l=d+(l.length>0?" "+l:l)}return l};function JI(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=gw(t))&&(r&&(r+=" "),r+=n);return r}const gw=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gw(e[r]))&&(n&&(n+=" "),n+=t);return n};function yg(e,...t){let n,r,o,a=s;function s(l){const c=t.reduce((d,f)=>f(d),e());return n=GI(c),r=n.cache.get,o=n.cache.set,a=i,i(l)}function i(l){const c=r(l);if(c)return c;const d=KI(l,n);return o(l,d),d}return function(){return a(JI.apply(null,arguments))}}const Ke=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZI=/^\d+\/\d+$/,XI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=e=>ZI.test(e),Se=e=>!!e&&!Number.isNaN(Number(e)),Tr=e=>!!e&&Number.isInteger(Number(e)),xg=e=>e.endsWith("%")&&Se(e.slice(0,-1)),Kn=e=>XI.test(e),nO=()=>!0,rO=e=>YI.test(e)&&!QI.test(e),Th=()=>!1,oO=e=>eO.test(e),aO=e=>tO.test(e),sO=e=>!ne(e)&&!re(e),iO=e=>la(e,ww,Th),ne=e=>vw.test(e),Ar=e=>la(e,Sw,rO),yu=e=>la(e,yO,Se),lO=e=>la(e,xw,Th),cO=e=>la(e,bw,aO),uO=e=>la(e,Th,oO),re=e=>yw.test(e),ni=e=>ca(e,Sw),dO=e=>ca(e,xO),fO=e=>ca(e,xw),hO=e=>ca(e,ww),pO=e=>ca(e,bw),mO=e=>ca(e,bO,!0),la=(e,t,n)=>{const r=vw.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ca=(e,t,n=!1)=>{const r=yw.exec(e);return r?r[1]?t(r[1]):n:!1},xw=e=>e==="position",gO=new Set(["image","url"]),bw=e=>gO.has(e),vO=new Set(["length","size","percentage"]),ww=e=>vO.has(e),Sw=e=>e==="length",yO=e=>e==="number",xO=e=>e==="family-name",bO=e=>e==="shadow",bg=()=>{const e=Ke("color"),t=Ke("font"),n=Ke("text"),r=Ke("font-weight"),o=Ke("tracking"),a=Ke("leading"),s=Ke("breakpoint"),i=Ke("container"),l=Ke("spacing"),c=Ke("radius"),d=Ke("shadow"),f=Ke("inset-shadow"),h=Ke("drop-shadow"),m=Ke("blur"),b=Ke("perspective"),w=Ke("aspect"),S=Ke("ease"),v=Ke("animate"),g=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],I=()=>[po,"px","full","auto",re,ne,l],_=()=>[Tr,"none","subgrid",re,ne],R=()=>["auto",{span:["full",Tr,re,ne]},re,ne],$=()=>[Tr,"auto",re,ne],D=()=>["auto","min","max","fr",re,ne],W=()=>[re,ne,l],K=()=>["start","end","center","between","around","evenly","stretch","baseline"],V=()=>["start","end","center","stretch"],A=()=>[re,ne,l],q=()=>["px",...A()],X=()=>["px","auto",...A()],Z=()=>[po,"auto","px","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",re,ne,l],y=()=>[e,re,ne],C=()=>[xg,Ar],N=()=>["","none","full",c,re,ne],T=()=>["",Se,ni,Ar],j=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["","none",m,re,ne],J=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re,ne],G=()=>["none",Se,re,ne],P=()=>["none",Se,re,ne],k=()=>[Se,re,ne],O=()=>[po,"full","px",re,ne,l];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kn],breakpoint:[Kn],color:[nO],container:[Kn],"drop-shadow":[Kn],ease:["in","out","in-out"],font:[sO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kn],shadow:[Kn],spacing:[Se],text:[Kn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",po,ne,re,w]}],container:["container"],columns:[{columns:[Se,ne,re,i]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),ne,re]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Tr,"auto",re,ne]}],basis:[{basis:[po,"full","auto",re,ne,i,l]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Se,po,"auto","initial","none",ne]}],grow:[{grow:["",Se,re,ne]}],shrink:[{shrink:["",Se,re,ne]}],order:[{order:[Tr,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":_()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":_()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...V(),"baseline"]}],"align-self":[{self:["auto",...V(),"baseline"]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:q()}],px:[{px:q()}],py:[{py:q()}],ps:[{ps:q()}],pe:[{pe:q()}],pt:[{pt:q()}],pr:[{pr:q()}],pb:[{pb:q()}],pl:[{pl:q()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[i,"screen",...Z()]}],"min-w":[{"min-w":[i,"screen","none",...Z()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...Z()]}],h:[{h:["screen",...Z()]}],"min-h":[{"min-h":["screen","none",...Z()]}],"max-h":[{"max-h":["screen",...Z()]}],"font-size":[{text:["base",n,ni,Ar]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,re,yu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xg,ne]}],"font-family":[{font:[dO,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,re,ne]}],"line-clamp":[{"line-clamp":[Se,"none",re,yu]}],leading:[{leading:[re,ne,a,l]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:y()}],"text-color":[{text:y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:[Se,"from-font","auto",re,Ar]}],"text-decoration-color":[{decoration:y()}],"underline-offset":[{"underline-offset":[Se,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:["px",...A()]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),fO,lO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",hO,iO]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tr,re,ne],radial:["",re,ne],conic:[Tr,re,ne]},pO,cO]}],"bg-color":[{bg:y()}],"gradient-from-pos":[{from:C()}],"gradient-via-pos":[{via:C()}],"gradient-to-pos":[{to:C()}],"gradient-from":[{from:y()}],"gradient-via":[{via:y()}],"gradient-to":[{to:y()}],rounded:[{rounded:N()}],"rounded-s":[{"rounded-s":N()}],"rounded-e":[{"rounded-e":N()}],"rounded-t":[{"rounded-t":N()}],"rounded-r":[{"rounded-r":N()}],"rounded-b":[{"rounded-b":N()}],"rounded-l":[{"rounded-l":N()}],"rounded-ss":[{"rounded-ss":N()}],"rounded-se":[{"rounded-se":N()}],"rounded-ee":[{"rounded-ee":N()}],"rounded-es":[{"rounded-es":N()}],"rounded-tl":[{"rounded-tl":N()}],"rounded-tr":[{"rounded-tr":N()}],"rounded-br":[{"rounded-br":N()}],"rounded-bl":[{"rounded-bl":N()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...j(),"hidden","none"]}],"divide-style":[{divide:[...j(),"hidden","none"]}],"border-color":[{border:y()}],"border-color-x":[{"border-x":y()}],"border-color-y":[{"border-y":y()}],"border-color-s":[{"border-s":y()}],"border-color-e":[{"border-e":y()}],"border-color-t":[{"border-t":y()}],"border-color-r":[{"border-r":y()}],"border-color-b":[{"border-b":y()}],"border-color-l":[{"border-l":y()}],"divide-color":[{divide:y()}],"outline-style":[{outline:[...j(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Se,re,ne]}],"outline-w":[{outline:["",Se,ni,Ar]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,mO,uO]}],"shadow-color":[{shadow:y()}],"inset-shadow":[{"inset-shadow":["none",re,ne,f]}],"inset-shadow-color":[{"inset-shadow":y()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:y()}],"ring-offset-w":[{"ring-offset":[Se,Ar]}],"ring-offset-color":[{"ring-offset":y()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":y()}],opacity:[{opacity:[Se,re,ne]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none",re,ne]}],blur:[{blur:U()}],brightness:[{brightness:[Se,re,ne]}],contrast:[{contrast:[Se,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",h,re,ne]}],grayscale:[{grayscale:["",Se,re,ne]}],"hue-rotate":[{"hue-rotate":[Se,re,ne]}],invert:[{invert:["",Se,re,ne]}],saturate:[{saturate:[Se,re,ne]}],sepia:[{sepia:["",Se,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":U()}],"backdrop-brightness":[{"backdrop-brightness":[Se,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[Se,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Se,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Se,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",Se,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[Se,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[Se,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",Se,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Se,"initial",re,ne]}],ease:[{ease:["linear","initial",S,re,ne]}],delay:[{delay:[Se,re,ne]}],animate:[{animate:["none",v,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,re,ne]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:P()}],"scale-x":[{"scale-x":P()}],"scale-y":[{"scale-y":P()}],"scale-z":[{"scale-z":P()}],"scale-3d":["scale-3d"],skew:[{skew:k()}],"skew-x":[{"skew-x":k()}],"skew-y":[{"skew-y":k()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...y()]}],"stroke-w":[{stroke:[Se,ni,Ar,yu]}],stroke:[{stroke:["none",...y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},wO=(e,{cacheSize:t,prefix:n,experimentalParseClassName:r,extend:o={},override:a={}})=>(Ta(e,"cacheSize",t),Ta(e,"prefix",n),Ta(e,"experimentalParseClassName",r),ri(e.theme,a.theme),ri(e.classGroups,a.classGroups),ri(e.conflictingClassGroups,a.conflictingClassGroups),ri(e.conflictingClassGroupModifiers,a.conflictingClassGroupModifiers),Ta(e,"orderSensitiveModifiers",a.orderSensitiveModifiers),oi(e.theme,o.theme),oi(e.classGroups,o.classGroups),oi(e.conflictingClassGroups,o.conflictingClassGroups),oi(e.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Cw(e,o,"orderSensitiveModifiers"),e),Ta=(e,t,n)=>{n!==void 0&&(e[t]=n)},ri=(e,t)=>{if(t)for(const n in t)Ta(e,n,t[n])},oi=(e,t)=>{if(t)for(const n in t)Cw(e,t,n)},Cw=(e,t,n)=>{const r=t[n];r!==void 0&&(e[n]=e[n]?e[n].concat(r):r)},SO=(e,...t)=>typeof e=="function"?yg(bg,e,...t):yg(()=>wO(bg(),e),...t),wg=new Map;function gn(...e){const t=hw(),n=pw(),r=`${t}.${n}`,o=wg.get(r);if(o)return o(...e);const a=SO({extend:{classGroups:{"bg-image":["bg-arrow-down-icon","bg-check-icon","bg-dash-icon","bg-dot-icon"],shadow:["shadow-sm-light"]}},prefix:t});return wg.set(r,a),a(...e)}function ac(...e){return CO(()=>EO(...e),e)}function CO(e,t){const n=p.useRef(),r=p.useRef();return(!n.current||!zd(n.current,t))&&(n.current=t,r.current=e()),r.current}function EO([e,...t],n,r){const o=OI(),a=hw(),s=pw(),i=t!=null&&t.length?t==null?void 0:t.filter(h=>h!==void 0):void 0,l=n!=null&&n.length?n==null?void 0:n.filter(h=>h!==void 0):void 0,c=r!=null&&r.length?r==null?void 0:r.filter(h=>h!==void 0):void 0,d=l!=null&&l.length||o===!1||s===4||a?wi(e):e;if(l!=null&&l.length){const h=Hd(d,!1);let m=!1;for(const b of l)b&&(m=!0),kO(h,b);m&&NO(d,h)}let f=d;if(i!=null&&i.length&&(f=LI(gn)(d,...i)),c!=null&&c.length&&(i!=null&&i.length)){const h=Hd(d,"merge");let m=!1;for(const b of c)b!=="merge"&&(m=!0),_O(h,b);m&&RO(f,MI(d,...t),h)}return f}function kO(e,t){function n(r,o){if(typeof o=="boolean")if(typeof r=="object"&&r!==null)for(const a in r)r[a]=n(r[a],o);else return o;if(typeof o=="object"&&o!==null)for(const a in o)r[a]=n(r[a],o[a]);return r}n(e,t)}function _O(e,t){function n(r,o){if(typeof o=="string")if(typeof r=="object"&&r!==null)for(const a in r)r[a]=n(r[a],o);else return o;if(typeof o=="object"&&o!==null)for(const a in o)r[a]=n(r[a],o[a]);return r}n(e,t)}function NO(e,t){function n(r,o){if(o===!0)if(typeof r=="object"&&r!==null)for(const a in r)r[a]=n(r[a],o);else return"";if(typeof o=="object"&&o!==null)for(const a in o)r[a]=n(r[a],o[a]);return r}n(e,t)}function RO(e,t,n){function r(o,a,s){if(s==="replace")if(typeof o=="object"&&o!==null)for(const i in o)o[i]=r(o[i],a[i],s);else return a;if(typeof s=="object"&&s!==null)for(const i in s)o[i]=r(o[i],a[i],s[i]);return o}r(e,t,n)}function Hd(e,t){if(e===null||typeof e!="object")return t;const n={};for(const r in e)n[r]=Hd(e[r],t);return n}const MO=p.createContext(void 0);function sc(){return p.useContext(MO)??{}}const TO={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},Aa=p.forwardRef((e,t)=>{var m,b;const n=sc(),r=ac([TO,(m=n.theme)==null?void 0:m.textInput,e.theme],[br(n.clearTheme,"textInput"),e.clearTheme],[br(n.applyTheme,"textInput"),e.applyTheme]),{addon:o,className:a,color:s="gray",icon:i,rightIcon:l,shadow:c,sizing:d="md",type:f="text",...h}=oc(e,(b=n.props)==null?void 0:b.textInput);return u.jsxs("div",{className:gn(r.base,a),children:[o&&u.jsx("span",{className:r.addon,children:o}),u.jsxs("div",{className:r.field.base,children:[i&&u.jsx("div",{className:r.field.icon.base,children:u.jsx(i,{className:r.field.icon.svg})}),l&&u.jsx("div",{"data-testid":"right-icon",className:r.field.rightIcon.base,children:u.jsx(l,{className:r.field.rightIcon.svg})}),u.jsx("input",{className:gn(r.field.input.base,r.field.input.colors[s],r.field.input.sizes[d],r.field.input.withIcon[i?"on":"off"],r.field.input.withRightIcon[l?"on":"off"],r.field.input.withAddon[o?"on":"off"],r.field.input.withShadow[c?"on":"off"]),type:f,...h,ref:t})]})]})});Aa.displayName="TextInput";const AO={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},go=p.forwardRef((e,t)=>{var l,c;const n=sc(),r=ac([AO,(l=n.theme)==null?void 0:l.label,e.theme],[br(n.clearTheme,"label"),e.clearTheme],[br(n.applyTheme,"label"),e.applyTheme]),{className:o,color:a="default",disabled:s=!1,...i}=oc(e,(c=n.props)==null?void 0:c.label);return u.jsx("label",{ref:t,className:gn(r.root.base,r.root.colors[a],s&&r.root.disabled,o),"data-testid":"flowbite-label",...i})});go.displayName="Label";const jO={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full appearance-none border bg-arrow-down-icon bg-[length:0.75em_0.75em] bg-[position:right_12px_center] bg-no-repeat pr-10 focus:outline-none focus:ring-1 disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},Ew=p.forwardRef((e,t)=>{var f,h;const n=sc(),r=ac([jO,(f=n.theme)==null?void 0:f.select,e.theme],[br(n.clearTheme,"select"),e.clearTheme],[br(n.applyTheme,"select"),e.applyTheme]),{addon:o,className:a,color:s="gray",icon:i,shadow:l,sizing:c="md",...d}=oc(e,(h=n.props)==null?void 0:h.select);return u.jsxs("div",{className:gn(r.base,a),children:[o&&u.jsx("span",{className:r.addon,children:o}),u.jsxs("div",{className:r.field.base,children:[i&&u.jsx("div",{className:r.field.icon.base,children:u.jsx(i,{className:r.field.icon.svg})}),u.jsx("select",{ref:t,className:gn(r.field.select.base,r.field.select.colors[s],r.field.select.sizes[c],r.field.select.withIcon[i?"on":"off"],r.field.select.withAddon[o?"on":"off"],r.field.select.withShadow[l?"on":"off"]),...d})]})]})});Ew.displayName="Select";const PO={base:"flex flex-col gap-2",tablist:{base:"flex text-center",variant:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"-mb-px flex-wrap border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap space-x-2 text-sm font-medium text-gray-500 dark:text-gray-400",fullWidth:"grid w-full grid-flow-col divide-x divide-gray-200 rounded-none text-sm font-medium shadow dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center rounded-t-lg p-4 text-sm font-medium first:ml-0 focus:outline-none disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",variant:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-primary-600 dark:bg-gray-800 dark:text-primary-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"rounded-t-lg border-b-2 border-primary-600 text-primary-600 dark:border-primary-500 dark:text-primary-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-primary-600 text-white",off:"rounded-lg hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 flex w-full rounded-none first:ml-0",active:{on:"rounded-none bg-gray-100 p-4 text-gray-900 dark:bg-gray-700 dark:text-white",off:"rounded-none bg-white hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"}}},icon:"mr-2 h-5 w-5"}},tabitemcontainer:{base:"",variant:{default:"",underline:"",pills:"",fullWidth:""}},tabpanel:"py-3"},Gd=p.forwardRef((e,t)=>{var M,I;const n=sc(),r=ac([PO,(M=n.theme)==null?void 0:M.tabs,e.theme],[br(n.clearTheme,"tabs"),e.clearTheme],[br(n.applyTheme,"tabs"),e.applyTheme]),{children:o,className:a,onActiveTabChange:s,variant:i="default",...l}=oc(e,(I=n.props)==null?void 0:I.tabs),c=p.useId(),d=p.useMemo(()=>p.Children.map(p.Children.toArray(o),({props:_})=>_),[o]),f=p.useRef([]),[h,m]=p.useState(Math.max(0,d.findIndex(_=>_.active))),[b,w]=p.useState(-1);function S(_){m(_),s&&s(_)}function v({target:_}){S(_),w(_)}function g({event:_,target:R}){_.key==="ArrowLeft"&&w(Math.max(0,b-1)),_.key==="ArrowRight"&&w(Math.min(d.length-1,b+1)),_.key==="Enter"&&(S(R),w(R))}const x=r.tablist.tabitem.variant[i],E=r.tabitemcontainer.variant[i];return p.useEffect(()=>{var _;(_=f.current[b])==null||_.focus()},[b]),p.useImperativeHandle(t,()=>({setActiveTab:S})),u.jsxs("div",{className:gn(r.base,a),children:[u.jsx("div",{"aria-label":"Tabs",role:"tablist",className:gn(r.tablist.base,r.tablist.variant[i],a),...l,children:d.map((_,R)=>u.jsxs("button",{type:"button","aria-controls":`${c}-tabpanel-${R}`,"aria-selected":R===h,className:gn(r.tablist.tabitem.base,x.base,R===h&&x.active.on,R!==h&&!_.disabled&&x.active.off),disabled:_.disabled,id:`${c}-tab-${R}`,onClick:()=>v({target:R}),onKeyDown:$=>g({event:$,target:R}),ref:$=>{f.current[R]=$},role:"tab",tabIndex:R===b?0:-1,style:{zIndex:R===b?2:1},children:[_.icon&&u.jsx(_.icon,{className:r.tablist.tabitem.icon}),_.title]},R))}),u.jsx("div",{className:gn(r.tabitemcontainer.base,E),children:d.map((_,R)=>u.jsx("div",{"aria-labelledby":`${c}-tab-${R}`,className:r.tabpanel,hidden:R!==h,id:`${c}-tabpanel-${R}`,role:"tabpanel",tabIndex:0,children:_.children},R))})]})});Gd.displayName="Tabs";function IO(e){if(e<=0)return"-";const t=Math.floor(e/60),n=Math.ceil(e%60);return t>0?`${t}h ${n}m`:`${n}m`}function OO(e){return e<20?"bg-red-500":e<50?"bg-yellow-500":"bg-green-500"}const LO=({currentSoc:e,targetSoc:t,batteryCapacityKwh:n,currentEnergyWh:r,chargingPowerKw:o,isCharging:a})=>{const s=r/1e3,i=a&&o&&o>0?EP(e,t,n,o):null;return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded-lg overflow-hidden border-2 border-gray-300 dark:border-gray-600",children:[u.jsx("div",{className:`absolute inset-y-0 left-0 ${OO(e)} transition-all duration-500`,style:{width:`${Math.min(100,Math.max(0,e))}%`}}),t<100&&u.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-blue-600 dark:bg-blue-400",style:{left:`${t}%`},title:`Target: ${t}%`}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white drop-shadow-sm",children:[e.toFixed(1),"%"]})})]}),u.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1 w-1.5 h-4 bg-gray-400 dark:bg-gray-500 rounded-r"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Current:"}),u.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-white",children:[s.toFixed(1)," kWh"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Capacity:"}),u.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-white",children:[n," kWh"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Target:"}),u.jsxs("span",{className:"font-mono font-medium text-gray-900 dark:text-white",children:[t,"%"]})]}),a&&o&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Power:"}),u.jsxs("span",{className:"font-mono font-medium text-green-600 dark:text-green-400",children:[o.toFixed(1)," kW"]})]})]}),i!==null&&i>0&&u.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 px-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[u.jsx("svg",{className:"w-4 h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:["~",IO(i)," to ",t,"%"]})]})]})},DO=({settings:e,currentSoc:t,meterValue:n,isCharging:r,onChange:o})=>{const[a,s]=p.useState(!0),i=p.useCallback(d=>{const f=d.target.value;if(f==="Custom")o({...e,modelName:"Custom"});else{const h=sg[f];o({...e,modelName:f,...h})}},[e,o]),l=p.useCallback((d,f)=>{o({...e,[d]:f,modelName:e.modelName==="Custom"?"Custom":e.modelName})},[e,o]),c=t??e.initialSoc;return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[u.jsxs("button",{type:"button",onClick:()=>s(!a),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors rounded-t-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:"EV"}),u.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"EV Settings"})]}),u.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),a&&u.jsxs("div",{className:"p-3 pt-0 space-y-4",children:[u.jsx("div",{className:"pt-2",children:u.jsx(LO,{currentSoc:c,targetSoc:e.targetSoc,batteryCapacityKwh:e.batteryCapacityKwh,currentEnergyWh:n,chargingPowerKw:r?e.maxChargingPowerKw:void 0,isCharging:r})}),u.jsxs("div",{children:[u.jsx(go,{htmlFor:"ev-model",value:"EV Model",className:"text-xs text-gray-500 dark:text-gray-400"}),u.jsx(Ew,{id:"ev-model",sizing:"sm",value:e.modelName,onChange:i,children:Object.keys(sg).map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(go,{htmlFor:"battery-capacity",value:"Battery (kWh)",className:"text-xs text-gray-500 dark:text-gray-400"}),u.jsx(Aa,{id:"battery-capacity",type:"number",sizing:"sm",value:e.batteryCapacityKwh,onChange:d=>l("batteryCapacityKwh",parseFloat(d.target.value)||hs.batteryCapacityKwh),min:1,max:500})]}),u.jsxs("div",{children:[u.jsx(go,{htmlFor:"max-power",value:"Max Power (kW)",className:"text-xs text-gray-500 dark:text-gray-400"}),u.jsx(Aa,{id:"max-power",type:"number",sizing:"sm",value:e.maxChargingPowerKw,onChange:d=>l("maxChargingPowerKw",parseFloat(d.target.value)||hs.maxChargingPowerKw),min:1,max:500})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx(go,{htmlFor:"initial-soc",value:"Initial SoC (%)",className:"text-xs text-gray-500 dark:text-gray-400"}),u.jsx(Aa,{id:"initial-soc",type:"number",sizing:"sm",value:e.initialSoc,onChange:d=>l("initialSoc",Math.min(100,Math.max(0,parseInt(d.target.value)||0))),min:0,max:100})]}),u.jsxs("div",{children:[u.jsx(go,{htmlFor:"target-soc",value:"Target SoC (%)",className:"text-xs text-gray-500 dark:text-gray-400"}),u.jsx(Aa,{id:"target-soc",type:"number",sizing:"sm",value:e.targetSoc,onChange:d=>l("targetSoc",Math.min(100,Math.max(0,parseInt(d.target.value)||80))),min:0,max:100})]})]})]})]})},$O=p.lazy(()=>_s(()=>import("./StateTransitionViewer-BhvbUP-L.js"),__vite__mapDeps([3,1,2]))),FO=p.lazy(()=>_s(()=>import("./ScenarioEditor-w9rw-Yrf.js"),__vite__mapDeps([0,1,2]))),kw=e=>{switch(e){case Y.Available:return"bg-green-500";case Y.Charging:return"bg-blue-500";case Y.Preparing:return"bg-yellow-500";case Y.Faulted:return"bg-red-500";case Y.Unavailable:return"bg-gray-500";default:return"bg-gray-400"}},VO=({connectorId:e,status:t,soc:n,onExpand:r,onClose:o})=>u.jsxs("div",{className:"h-full flex flex-col items-center py-4 px-2 bg-white dark:bg-gray-900",children:[u.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Expand panel",children:u.jsx(Zk,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),u.jsxs("div",{className:"mt-4 text-sm font-bold text-gray-900 dark:text-white",children:["C",e]}),u.jsx("div",{className:`mt-3 w-4 h-4 rounded-full ${kw(t)}`,title:t}),n!==null&&u.jsxs("div",{className:"mt-3 text-xs font-mono text-gray-600 dark:text-gray-400",children:[n.toFixed(0),"%"]}),u.jsx("button",{onClick:o,className:"mt-auto p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Close panel",children:u.jsx(Rl,{className:"w-5 h-5"})})]}),zO=({chargePoint:e,connectorId:t,idTag:n,onCollapse:r,onClose:o,onResizeStart:a,isResizing:s})=>{var P;const[i,l]=p.useState("details"),{status:c,availability:d,meterValue:f,soc:h,transactionId:m,autoMeterValueConfig:b,autoResetToAvailable:w,evSettings:S}=Nh(e,t),{scenarios:v}=iw(e.id,t),g=e.getConnector(t),[x,E]=p.useState(f),[M,I]=p.useState(n),[_,R]=p.useState("00:00:00"),[$,D]=p.useState(""),[W,K]=p.useState(null),[V,A]=p.useState(null),[q,X]=p.useState({}),Z=p.useRef(null),y=p.useRef(null);p.useEffect(()=>{E(f)},[f]),p.useEffect(()=>{if(c!==Y.Charging||!(g!=null&&g.transaction)){R("00:00:00"),D("");return}const k=g.transaction.startTime;k&&D(k.toLocaleTimeString());const O=setInterval(()=>{var B;const L=e.getConnector(t),z=(B=L==null?void 0:L.transaction)==null?void 0:B.startTime;if(z){const ee=Date.now()-z.getTime(),le=Math.floor(ee/36e5),be=Math.floor(ee%36e5/6e4),me=Math.floor(ee%6e4/1e3);R(`${le.toString().padStart(2,"0")}:${be.toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`)}},1e3);return()=>clearInterval(O)},[c,g==null?void 0:g.transaction,e,t]),p.useEffect(()=>{y.current=W},[W]),p.useEffect(()=>{if(!g)return;const k=sw({chargePoint:e,connector:g,hooks:{onNodeProgress:(z,B,ee)=>{X(le=>({...le,[z]:{remaining:B,total:ee}}))},onStateChange:z=>{const B=y.current;B&&z.scenarioId===B.id&&A(z)}}}),O=new aw(g,e,k,g.scenarioEvents);Z.current=O,g.setScenarioManager(O);const L=setInterval(()=>{const z=Z.current;if(!z)return;const B=z.getActiveScenarioIds(),ee=y.current;if(ee&&B.includes(ee.id)){const le=z.getScenarioExecutionContext(ee.id);A(le)}else A(null)},500);return()=>{clearInterval(L),O.destroy(),Z.current=null}},[g,e,t]),p.useEffect(()=>{v.length>0?K(O=>{const z=(O?v.find(B=>B.id===O.id):null)??v[0];return y.current=z,z}):(K(null),y.current=null);const k=Z.current;k&&k.loadScenarios(v)},[v]);const C=p.useCallback(()=>{e.startTransaction(M,t)},[e,t,M]),N=p.useCallback(()=>{e.stopTransaction(t)},[e,t]),T=p.useCallback(()=>{const k=x+10;E(k),e.setMeterValue(t,k)},[e,t,x]),j=p.useCallback(()=>{e.setMeterValue(t,x),e.sendMeterValue(t)},[e,t,x]),F=p.useCallback(()=>{!b||!g||(g.autoMeterValueConfig={...b,enabled:!b.enabled})},[g,b]),U=p.useCallback(()=>{g&&(g.autoResetToAvailable=!g.autoResetToAvailable)},[g]),J=p.useCallback(k=>{g&&(g.evSettings=k)},[g]),G=c===Y.Charging;return u.jsxs("div",{className:"h-full flex flex-row bg-white dark:bg-gray-900",children:[u.jsx("div",{className:`w-2 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize flex-shrink-0 transition-colors ${s?"bg-blue-500 dark:bg-blue-400":""}`,onMouseDown:a,children:u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"w-0.5 h-12 bg-gray-400 dark:bg-gray-500 rounded-full"})})}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 flex-shrink-0 bg-gray-50 dark:bg-gray-800",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:r,className:"p-3 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",title:"Collapse panel",children:u.jsx(Ji,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),u.jsxs("button",{onClick:()=>l("details"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${i==="details"?"bg-white dark:bg-gray-900 text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[u.jsx(Yy,{className:"w-4 h-4"}),"Details"]}),u.jsxs("button",{onClick:()=>l("scenario"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${i==="scenario"?"bg-white dark:bg-gray-900 text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[u.jsx(S_,{className:"w-4 h-4"}),"Scenario"]}),u.jsxs("button",{onClick:()=>l("stateTransition"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${i==="stateTransition"?"bg-white dark:bg-gray-900 text-blue-600 dark:text-blue-400 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[u.jsx(gd,{className:"w-4 h-4"}),"State"]}),u.jsx("button",{onClick:o,className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Close panel",children:u.jsx(Rl,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[i==="details"&&u.jsxs("div",{className:"h-full overflow-y-auto p-4 space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["Connector ",t]}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.id})]})}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-semibold mb-3 text-gray-900 dark:text-white",children:"Status Dashboard"}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Status"}),u.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${kw(c)}`}),u.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:c})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Meter"}),u.jsx("div",{className:"text-sm font-bold font-mono text-gray-900 dark:text-white",children:f.toLocaleString()}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Wh"})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Availability"}),u.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${d==="Operative"?"bg-green-500":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:d})]})]})]})]}),G&&m!==null&&m!==0&&u.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/50 dark:to-emerald-950/50 rounded-lg p-4 border-l-4 border-green-500",children:[u.jsxs("h3",{className:"text-sm font-semibold mb-3 text-green-700 dark:text-green-300 flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Active Transaction"]}),u.jsxs("div",{className:"text-2xl font-bold font-mono text-green-800 dark:text-green-200 mb-3",children:["#",m]}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"ID Tag:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:((P=g==null?void 0:g.transaction)==null?void 0:P.tagId)||M})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Started:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:$})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Duration:"}),u.jsx("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:_})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Energy:"}),u.jsxs("span",{className:"font-mono font-medium text-green-800 dark:text-green-200",children:[(f/1e3).toFixed(2)," kWh"]})]})]})]}),u.jsx(DO,{settings:S,currentSoc:h,meterValue:f,isCharging:G,onChange:J}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-gray-500 dark:text-gray-400",children:"Transaction"}),u.jsx("input",{type:"text",value:M,onChange:k=>I(k.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 mb-2",placeholder:"ID Tag"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsx("button",{onClick:C,disabled:G,className:"text-xs py-1.5 px-2 bg-green-500 hover:bg-green-600 text-white rounded disabled:opacity-50",children:"Start"}),u.jsx("button",{onClick:N,disabled:!G,className:"text-xs py-1.5 px-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded disabled:opacity-50",children:"Stop"})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-gray-500 dark:text-gray-400",children:"Meter Value"}),u.jsx("input",{type:"number",value:x,onChange:k=>E(Number(k.target.value)),className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 font-mono mb-2"}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsx("button",{onClick:T,className:"text-xs py-1.5 px-2 bg-blue-500 hover:bg-blue-600 text-white rounded",children:"+10 Wh"}),u.jsx("button",{onClick:j,className:"text-xs py-1.5 px-2 bg-gray-500 hover:bg-gray-600 text-white rounded",children:"Send"})]})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-2 text-gray-500 dark:text-gray-400",children:"Status Control"}),u.jsxs("select",{className:"w-full px-2 py-1.5 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",value:"",onChange:k=>{k.target.value&&(e.updateConnectorStatus(t,k.target.value),k.target.value="")},children:[u.jsx("option",{value:"",children:"Change Status..."}),u.jsx("option",{value:Y.Available,children:"Available"}),u.jsx("option",{value:Y.Preparing,children:"Preparing"}),u.jsx("option",{value:Y.Charging,children:"Charging"}),u.jsx("option",{value:Y.SuspendedEVSE,children:"SuspendedEVSE"}),u.jsx("option",{value:Y.SuspendedEV,children:"SuspendedEV"}),u.jsx("option",{value:Y.Finishing,children:"Finishing"}),u.jsx("option",{value:Y.Reserved,children:"Reserved"}),u.jsx("option",{value:Y.Unavailable,children:"Unavailable"}),u.jsx("option",{value:Y.Faulted,children:"Faulted"})]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:[u.jsx("h4",{className:"text-xs font-semibold mb-3 text-gray-500 dark:text-gray-400",children:"Settings"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between py-1",children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Auto Available on Stop"}),u.jsx("button",{onClick:U,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${w?"bg-green-500":"bg-gray-300 dark:bg-gray-600"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${w?"translate-x-5":"translate-x-1"}`})})]}),b&&u.jsxs("div",{className:"flex items-center justify-between py-1 border-t border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Auto MeterValue"}),b.enabled&&u.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Active"]})]}),u.jsx("button",{onClick:F,className:`text-xs px-2 py-1 rounded ${b.enabled?"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-700 dark:text-yellow-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"}`,children:b.enabled?"Disable":"Enable"})]})]})]})]}),i==="scenario"?u.jsx(p.Suspense,{fallback:u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-muted",children:"Loading Scenario Editor..."})}),children:u.jsx(FO,{chargePoint:e,connectorId:t,scenario:W,scenarioId:W==null?void 0:W.id,executionContext:V,nodeProgress:q,onClose:()=>l("details")})}):null,i==="stateTransition"&&g?u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"State Transition Diagram"}),u.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["OCPP 1.6J Connector ",t]})]}),u.jsx("div",{className:"flex-1",children:u.jsx(p.Suspense,{fallback:u.jsx("div",{className:"h-full flex items-center justify-center",children:u.jsx("div",{className:"text-muted",children:"Loading State Diagram..."})}),children:u.jsx($O,{connector:g,chargePoint:e})})})]}):null]})]})]})},UO=({chargePoint:e,connectorId:t,idTag:n,onClose:r,isCollapsed:o,onToggleCollapse:a,panelWidth:s,onWidthChange:i})=>{const{status:l,soc:c}=Nh(e,t),[d,f]=p.useState(!1),h=p.useRef(0),m=p.useRef(0),b=p.useCallback(w=>{f(!0),h.current=w.clientX,m.current=s,w.preventDefault()},[s]);return p.useEffect(()=>{if(!d)return;const w=v=>{const g=h.current-v.clientX,x=window.innerWidth,E=g/x*100,M=Math.min(90,Math.max(25,m.current+E));i(M)},S=()=>{f(!1)};return document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S)}},[d,i]),o?u.jsx(VO,{connectorId:t,status:l,soc:c,onExpand:a,onClose:r}):u.jsx(zO,{chargePoint:e,connectorId:t,idTag:n,onCollapse:a,onClose:r,onResizeStart:b,isResizing:d})},gt=p.forwardRef(({className:e,type:t,...n},r)=>u.jsx("input",{type:t,className:he("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));gt.displayName="Input";function _w(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ic="Checkbox",[BO,HL]=zn(ic),[WO,Ah]=BO(ic);function HO(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:o,disabled:a,form:s,name:i,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=e,[h,m]=qr({prop:n,defaultProp:o??!1,onChange:l,caller:ic}),[b,w]=p.useState(null),[S,v]=p.useState(null),g=p.useRef(!1),x=b?!!s||!!b.closest("form"):!0,E={checked:h,disabled:a,setChecked:m,control:b,setControl:w,name:i,form:s,value:d,hasConsumerStoppedPropagationRef:g,required:c,defaultChecked:mr(o)?!1:o,isFormControl:x,bubbleInput:S,setBubbleInput:v};return u.jsx(WO,{scope:t,...E,children:GO(f)?f(E):r})}var Nw="CheckboxTrigger",Rw=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},o)=>{const{control:a,value:s,disabled:i,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:b}=Ah(Nw,e),w=Re(o,d),S=p.useRef(l);return p.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const g=()=>f(S.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[a,f]),u.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":mr(l)?"mixed":l,"aria-required":c,"data-state":Pw(l),"data-disabled":i?"":void 0,disabled:i,value:s,...r,ref:w,onKeyDown:ie(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:ie(n,v=>{f(g=>mr(g)?!0:!g),b&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});Rw.displayName=Nw;var jh=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:s,disabled:i,value:l,onCheckedChange:c,form:d,...f}=e;return u.jsx(HO,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:i,required:s,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>u.jsxs(u.Fragment,{children:[u.jsx(Rw,{...f,ref:t,__scopeCheckbox:n}),h&&u.jsx(jw,{__scopeCheckbox:n})]})})});jh.displayName=ic;var Mw="CheckboxIndicator",Tw=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=Ah(Mw,n);return u.jsx(En,{present:r||mr(a.checked)||a.checked===!0,children:u.jsx(pe.span,{"data-state":Pw(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Tw.displayName=Mw;var Aw="CheckboxBubbleInput",jw=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:a,defaultChecked:s,required:i,disabled:l,name:c,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Ah(Aw,e),b=Re(n,m),w=_w(a),S=R0(r);p.useEffect(()=>{const g=h;if(!g)return;const x=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(x,"checked").set,I=!o.current;if(w!==a&&M){const _=new Event("click",{bubbles:I});g.indeterminate=mr(a),M.call(g,mr(a)?!1:a),g.dispatchEvent(_)}},[h,w,a,o]);const v=p.useRef(mr(a)?!1:a);return u.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:i,disabled:l,name:c,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jw.displayName=Aw;function GO(e){return typeof e=="function"}function mr(e){return e==="indeterminate"}function Pw(e){return mr(e)?"indeterminate":e?"checked":"unchecked"}const Fo=p.forwardRef(({className:e,...t},n)=>u.jsx(jh,{ref:n,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:u.jsx(Tw,{className:he("flex items-center justify-center text-current"),children:u.jsx(Lo,{className:"h-4 w-4"})})}));Fo.displayName=jh.displayName;const qO=Tl("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ca({className:e,variant:t,...n}){return u.jsx("div",{className:he(qO({variant:t}),e),...n})}function KO({logs:e,onClear:t,maxHeight:n="500px",className:r}){const[o,a]=p.useState(""),[s,i]=p.useState([]),[l,c]=p.useState([]),[d,f]=p.useState(!0),[h,m]=p.useState(""),[b,w]=p.useState(""),[S,v]=p.useState(!0),[g,x]=p.useState(!0),E=p.useMemo(()=>{const V={[ct.DEBUG]:0,[ct.INFO]:0,[ct.WARN]:0,[ct.ERROR]:0},A={};return e.forEach(q=>{V[q.level]=(V[q.level]||0)+1,A[q.type]=(A[q.type]||0)+1}),{levelCounts:V,typeCounts:A}},[e]),M=p.useMemo(()=>e.filter(V=>!(o&&!V.message.toLowerCase().includes(o.toLowerCase())||s.length>0&&!s.includes(V.level)||l.length>0&&!l.includes(V.type))),[e,o,s,l]),I=Ut.useRef(null);p.useEffect(()=>{d&&I.current&&I.current.scrollTo({top:I.current.scrollHeight,behavior:"smooth"})},[M,d]);const _=V=>{switch(V){case ct.ERROR:return"destructive";case ct.WARN:return"default";case ct.INFO:return"secondary";case ct.DEBUG:return"outline";default:return"secondary"}},R=V=>{switch(V){case te.WEBSOCKET:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case te.OCPP:return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case te.TRANSACTION:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case te.HEARTBEAT:return"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-300";case te.METER_VALUE:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case te.STATUS:return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300";case te.CONFIGURATION:return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300";case te.DIAGNOSTICS:return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";case te.SCENARIO:return"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},$=V=>{s.includes(V)?i(s.filter(A=>A!==V)):i([...s,V])},D=V=>{l.includes(V)?c(l.filter(A=>A!==V)):c([...l,V])},W=p.useMemo(()=>Object.values(ct).filter(V=>typeof V=="number").filter(V=>ct[V].toLowerCase().includes(h.toLowerCase())),[h]),K=p.useMemo(()=>Object.values(te).filter(V=>V.toLowerCase().includes(b.toLowerCase())).sort((V,A)=>(E.typeCounts[A]||0)-(E.typeCounts[V]||0)),[b,E.typeCounts]);return u.jsxs("div",{className:he("flex h-full border rounded-lg overflow-hidden",r),children:[u.jsxs("div",{className:"w-64 border-r bg-muted/20 flex flex-col",children:[u.jsx("div",{className:"p-3 border-b bg-muted/50",children:u.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Filters"})}),u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"border-b",children:[u.jsxs("button",{onClick:()=>v(!S),className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 transition-colors",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Level"}),S?u.jsx(Ki,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}):u.jsx(Ji,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})]}),S&&u.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[u.jsx(gt,{placeholder:"Filter values",value:h,onChange:V=>m(V.target.value),className:"h-8 text-xs"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:W.map(V=>u.jsxs("label",{className:"flex items-center justify-between p-1.5 hover:bg-muted/50 rounded cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsx(Fo,{checked:s.includes(V),onCheckedChange:()=>$(V)}),u.jsx("span",{className:"text-xs text-gray-900 dark:text-gray-100 truncate",children:ct[V]})]}),u.jsx(Ca,{variant:"outline",className:"ml-2 text-[10px] px-1.5 py-0",children:E.levelCounts[V]||0})]},V))})]})]}),u.jsxs("div",{className:"border-b",children:[u.jsxs("button",{onClick:()=>x(!g),className:"w-full flex items-center justify-between p-3 hover:bg-muted/50 transition-colors",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Type"}),g?u.jsx(Ki,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}):u.jsx(Ji,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})]}),g&&u.jsxs("div",{className:"px-3 pb-3 space-y-2",children:[u.jsx(gt,{placeholder:"Filter values",value:b,onChange:V=>w(V.target.value),className:"h-8 text-xs"}),u.jsx("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:K.map(V=>u.jsxs("label",{className:"flex items-center justify-between p-1.5 hover:bg-muted/50 rounded cursor-pointer group",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsx(Fo,{checked:l.includes(V),onCheckedChange:()=>D(V)}),u.jsx("span",{className:"text-xs text-gray-900 dark:text-gray-100 truncate",children:V})]}),u.jsx(Ca,{variant:"outline",className:"ml-2 text-[10px] px-1.5 py-0",children:E.typeCounts[V]||0})]},V))})]})]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-3 border-b bg-muted/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Logs"}),u.jsxs(Ca,{variant:"outline",children:[e.length," total / ",M.length," filtered"]})]}),u.jsxs("div",{className:"flex gap-2 items-center",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 cursor-pointer",children:[u.jsx(Fo,{checked:d,onCheckedChange:V=>f(V)}),"Auto-scroll"]}),t&&u.jsx(dt,{size:"sm",variant:"secondary",onClick:t,children:"Clear Logs"})]})]}),u.jsx("div",{className:"p-3 border-b",children:u.jsx(gt,{placeholder:"Search in messages...",value:o,onChange:V=>a(V.target.value),className:"w-full"})}),u.jsx("div",{className:"flex-1 overflow-auto relative",ref:I,style:{maxHeight:n},children:u.jsxs("table",{className:"w-full caption-bottom text-sm",children:[u.jsx("thead",{className:"sticky top-0 bg-background z-10 border-b shadow-sm",children:u.jsxs("tr",{className:"border-b",children:[u.jsx("th",{className:"h-10 px-2 text-left align-middle font-medium text-muted-foreground w-[140px]",children:"Timestamp"}),u.jsx("th",{className:"h-10 px-2 text-left align-middle font-medium text-muted-foreground w-[90px]",children:"Level"}),u.jsx("th",{className:"h-10 px-2 text-left align-middle font-medium text-muted-foreground w-[140px]",children:"Type"}),u.jsx("th",{className:"h-10 px-2 text-left align-middle font-medium text-muted-foreground",children:"Message"})]})}),u.jsx("tbody",{children:M.length===0?u.jsx("tr",{className:"border-b",children:u.jsx("td",{colSpan:4,className:"p-2 text-center text-muted-foreground py-8",children:e.length===0?"No logs yet":"No logs match the current filters"})}):M.map((V,A)=>u.jsxs("tr",{className:"border-b transition-colors hover:bg-muted/50 font-mono text-xs",children:[u.jsx("td",{className:"p-2 align-middle text-muted-foreground",children:V.timestamp.toISOString().substring(11,23)}),u.jsx("td",{className:"p-2 align-middle",children:u.jsx(Ca,{variant:_(V.level),children:ct[V.level]})}),u.jsx("td",{className:"p-2 align-middle",children:u.jsx(Ca,{variant:"secondary",className:he("font-normal",R(V.type)),children:V.type})}),u.jsx("td",{className:"p-2 align-middle break-all",children:V.message})]},A))})]})})]})]})}const mo="Unavailable";function JO(e){const{chargePointService:t}=ia(),n=(e==null?void 0:e.id)??null,[r,o]=p.useState((e==null?void 0:e.status)??mo),[a,s]=p.useState((e==null?void 0:e.error)??""),[i,l]=p.useState(()=>{if(!e)return new Map;const m=Array.from(e.connectors.values()).map(b=>{var w;return[b.id,{id:b.id,status:b.status,availability:b.availability,meterValue:b.meterValue,transactionId:((w=b.transaction)==null?void 0:w.id)??null}]});return new Map(m)}),[c,d]=p.useState([]);p.useEffect(()=>{if(!n){o(mo),s(""),l(new Map),d([]);return}let m=!1,b=null;const w=S=>{if(!S){o(mo),s(""),l(new Map);return}o(S.status),s(S.error??""),l(new Map(S.connectors.map(v=>[v.id,v])))};return t.getChargePoint(n).then(S=>{m||w(S)}).catch(S=>{console.error(`Failed to fetch charge point snapshot for ${n}`,S)}),b=t.subscribe(n,S=>{switch(S.type){case"status":o(S.status);break;case"error":s(S.error);break;case"connector-status":l(v=>{const g=new Map(v),x=g.get(S.connectorId);return g.set(S.connectorId,{id:S.connectorId,status:S.status,availability:(x==null?void 0:x.availability)??"Operative",meterValue:(x==null?void 0:x.meterValue)??0,transactionId:(x==null?void 0:x.transactionId)??null}),g});break;case"connector-availability":l(v=>{const g=new Map(v),x=g.get(S.connectorId);return g.set(S.connectorId,{id:S.connectorId,status:(x==null?void 0:x.status)??mo,availability:S.availability,meterValue:(x==null?void 0:x.meterValue)??0,transactionId:(x==null?void 0:x.transactionId)??null}),g});break;case"connector-meter":l(v=>{const g=new Map(v),x=g.get(S.connectorId);return g.set(S.connectorId,{id:S.connectorId,status:(x==null?void 0:x.status)??mo,availability:(x==null?void 0:x.availability)??"Operative",meterValue:S.meterValue,transactionId:(x==null?void 0:x.transactionId)??null}),g});break;case"connector-transaction":l(v=>{const g=new Map(v),x=g.get(S.connectorId);return g.set(S.connectorId,{id:S.connectorId,status:(x==null?void 0:x.status)??mo,availability:(x==null?void 0:x.availability)??"Operative",meterValue:(x==null?void 0:x.meterValue)??0,transactionId:S.transactionId}),g});break;case"log":d(v=>[...v,S.entry]);break}}),()=>{m=!0,b&&b()}},[n,t]);const f=p.useCallback(()=>{d([]),e&&e.logger.clearLogs()},[e]);p.useEffect(()=>{e&&(o(e.status),s(e.error),l(()=>{const m=Array.from(e.connectors.values()).map(b=>{var w;return[b.id,{id:b.id,status:b.status,availability:b.availability,meterValue:b.meterValue,transactionId:((w=b.transaction)==null?void 0:w.id)??null}]});return new Map(m)}))},[e]);const h=p.useMemo(()=>new Map(i),[i]);return{status:r,error:a,connectors:h,logs:c,clearLogs:f}}const ZO=50,Sg=60,XO=({cp:e,TagID:t})=>{const{status:n,error:r,logs:o,clearLogs:a}=JO(e),s=e?Array.from(e.connectors.keys()):[],[i,l]=p.useState(null),[c,d]=p.useState(!1),[f,h]=p.useState(ZO),m=p.useCallback(()=>{a()},[a]),b=p.useCallback(x=>{l(x),d(!1)},[]),w=p.useCallback(()=>{l(null)},[]),S=p.useCallback(()=>{d(x=>!x)},[]),v=p.useCallback(x=>{h(x)},[]),g=i?c?`${Sg}px`:`${f}vw`:"0";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"transition-all duration-300 ease-in-out",style:{marginRight:g},children:u.jsxs("div",{className:"card px-4 py-3",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsx(YO,{status:n})}),u.jsx("div",{className:"lg:col-span-3",children:u.jsx(e2,{cp:e,TagID:t})})]}),u.jsx("div",{className:"mt-3",children:u.jsx(QO,{chargePointId:(e==null?void 0:e.id)??null,cpStatus:n,cpError:r,tagID:t})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-3",children:s.map(x=>u.jsx(vI,{id:x,cp:e,idTag:t,isSelected:i===x,onSelect:()=>b(x)},x))}),u.jsx("div",{className:"mt-4",children:u.jsx(KO,{logs:o,onClear:m,maxHeight:"500px"})})]})}),i!==null&&u.jsx("div",{className:"fixed right-0 top-0 bottom-0 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 shadow-xl z-50 transition-all duration-300 ease-in-out",style:{width:c?`${Sg}px`:`${f}vw`},children:u.jsx(UO,{chargePoint:e,connectorId:i,idTag:t,onClose:w,isCollapsed:c,onToggleCollapse:S,panelWidth:f,onWidthChange:v})})]})},YO=({status:e})=>{const t=n=>{switch(n){case Y.Unavailable:return"status-unavailable";case Y.Available:return"status-available";case Y.Charging:return"status-charging";default:return"status-error"}};return u.jsxs("div",{className:"panel-border mb-2",children:[u.jsx("label",{className:"block text-sm font-semibold text-primary",children:"CP Status"}),u.jsx("p",{className:"text-xl font-bold text-center",children:u.jsx("span",{className:t(e),children:e})})]})},QO=({chargePointId:e,cpStatus:t,cpError:n,tagID:r})=>{const[o,a]=p.useState(!1),{chargePointService:s}=ia(),i=()=>{e&&s.connect(e)},l=()=>{e&&s.disconnect(e)},c=()=>{e&&s.sendHeartbeat(e)},d=h=>{a(h),e&&(h?s.startHeartbeat(e,10):s.stopHeartbeat(e))},f=()=>{e&&s.authorize(e,r)};return u.jsxs("div",{className:"panel p-3",children:[n!==""&&u.jsxs("div",{className:"btn-danger mb-2 text-sm p-2",children:["Error: ",n]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:i,className:"btn-primary",disabled:t!==Y.Unavailable,children:"Connect"}),u.jsx("button",{onClick:l,className:"btn-danger",disabled:t===Y.Unavailable,children:"Disconnect"}),u.jsx("button",{onClick:c,className:"btn-info",disabled:t===Y.Unavailable,children:"Heartbeat"}),u.jsxs("button",{className:o?"btn-danger":"btn-success",onClick:()=>d(!o),children:[o?"Disable":"Enable"," Heartbeat"]}),u.jsx("button",{onClick:f,className:"btn-success",disabled:t!==Y.Available,children:"Authorize"})]})]})},e2=({cp:e,TagID:t})=>{const[n,r]=p.useState(!1);return u.jsxs("div",{className:"panel p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-muted text-xs",children:"ID:"}),u.jsx("span",{className:"font-semibold text-primary",children:e.id})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-muted text-xs",children:"Connectors:"}),u.jsx("span",{className:"text-secondary",children:e.connectorNumber})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-muted text-xs",children:"Tag:"}),u.jsx("span",{className:"font-mono text-secondary text-xs",children:t})]})]}),u.jsx("button",{onClick:()=>r(!n),className:"text-sm text-blue-600 dark:text-blue-400 hover:underline whitespace-nowrap",children:n?"Hide Details":"Show Details"})]}),n&&u.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 space-y-2",children:u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mb-1",children:"WebSocket URL"}),u.jsx("span",{className:"text-xs text-gray-900 dark:text-gray-100 font-mono break-all",children:e.wsUrl})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 block mb-1",children:"OCPP Version"}),u.jsx("span",{className:"text-xs text-gray-900 dark:text-gray-100",children:"1.6J"})]})]})})]})};var lc="Dialog",[Iw,GL]=zn(lc),[t2,un]=Iw(lc),Ow=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,i=p.useRef(null),l=p.useRef(null),[c,d]=qr({prop:r,defaultProp:o??!1,onChange:a,caller:lc});return u.jsx(t2,{scope:t,triggerRef:i,contentRef:l,contentId:xn(),titleId:xn(),descriptionId:xn(),open:c,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};Ow.displayName=lc;var Lw="DialogTrigger",n2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=un(Lw,n),a=Re(t,o.triggerRef);return u.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Oh(o.open),...r,ref:a,onClick:ie(e.onClick,o.onOpenToggle)})});n2.displayName=Lw;var Ph="DialogPortal",[r2,Dw]=Iw(Ph,{forceMount:void 0}),$w=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=un(Ph,t);return u.jsx(r2,{scope:t,forceMount:n,children:p.Children.map(r,s=>u.jsx(En,{present:n||a.open,children:u.jsx(Fl,{asChild:!0,container:o,children:s})}))})};$w.displayName=Ph;var sl="DialogOverlay",Fw=p.forwardRef((e,t)=>{const n=Dw(sl,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=un(sl,e.__scopeDialog);return a.modal?u.jsx(En,{present:r||a.open,children:u.jsx(a2,{...o,ref:t})}):null});Fw.displayName=sl;var o2=Gr("DialogOverlay.RemoveScroll"),a2=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=un(sl,n);return u.jsx(Ul,{as:o2,allowPinchZoom:!0,shards:[o.contentRef],children:u.jsx(pe.div,{"data-state":Oh(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Xr="DialogContent",Vw=p.forwardRef((e,t)=>{const n=Dw(Xr,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=un(Xr,e.__scopeDialog);return u.jsx(En,{present:r||a.open,children:a.modal?u.jsx(s2,{...o,ref:t}):u.jsx(i2,{...o,ref:t})})});Vw.displayName=Xr;var s2=p.forwardRef((e,t)=>{const n=un(Xr,e.__scopeDialog),r=p.useRef(null),o=Re(t,n.contentRef,r);return p.useEffect(()=>{const a=r.current;if(a)return uh(a)},[]),u.jsx(zw,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&a.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,a=>a.preventDefault())})}),i2=p.forwardRef((e,t)=>{const n=un(Xr,e.__scopeDialog),r=p.useRef(!1),o=p.useRef(!1);return u.jsx(zw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),zw=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,i=un(Xr,n),l=p.useRef(null),c=Re(t,l);return th(),u.jsxs(u.Fragment,{children:[u.jsx(Pl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:u.jsx(jl,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Oh(i.open),...s,ref:c,onDismiss:()=>i.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(l2,{titleId:i.titleId}),u.jsx(u2,{contentRef:l,descriptionId:i.descriptionId})]})]})}),Ih="DialogTitle",Uw=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=un(Ih,n);return u.jsx(pe.h2,{id:o.titleId,...r,ref:t})});Uw.displayName=Ih;var Bw="DialogDescription",Ww=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=un(Bw,n);return u.jsx(pe.p,{id:o.descriptionId,...r,ref:t})});Ww.displayName=Bw;var Hw="DialogClose",Gw=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=un(Hw,n);return u.jsx(pe.button,{type:"button",...r,ref:t,onClick:ie(e.onClick,()=>o.onOpenChange(!1))})});Gw.displayName=Hw;function Oh(e){return e?"open":"closed"}var qw="DialogTitleWarning",[qL,Kw]=dN(qw,{contentName:Xr,titleName:Ih,docsSlug:"dialog"}),l2=({titleId:e})=>{const t=Kw(qw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},c2="DialogDescriptionWarning",u2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kw(c2).contentName}}.`;return p.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},d2=Ow,f2=$w,Jw=Fw,Zw=Vw,Xw=Uw,Yw=Ww,h2=Gw;const p2=d2,m2=f2,Qw=p.forwardRef(({className:e,...t},n)=>u.jsx(Jw,{ref:n,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Qw.displayName=Jw.displayName;const eS=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(m2,{children:[u.jsx(Qw,{}),u.jsxs(Zw,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,u.jsxs(h2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Rl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eS.displayName=Zw.displayName;const tS=({className:e,...t})=>u.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tS.displayName="DialogHeader";const nS=({className:e,...t})=>u.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nS.displayName="DialogFooter";const rS=p.forwardRef(({className:e,...t},n)=>u.jsx(Xw,{ref:n,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));rS.displayName=Xw.displayName;const g2=p.forwardRef(({className:e,...t},n)=>u.jsx(Yw,{ref:n,className:he("text-sm text-muted-foreground",e),...t}));g2.displayName=Yw.displayName;var v2="Label",oS=p.forwardRef((e,t)=>u.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oS.displayName=v2;var aS=oS;const y2=Tl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mt=p.forwardRef(({className:e,...t},n)=>u.jsx(aS,{ref:n,className:he(y2(),e),...t}));mt.displayName=aS.displayName;function Cg(e,[t,n]){return Math.min(n,Math.max(t,e))}var sS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x2="VisuallyHidden",b2=p.forwardRef((e,t)=>u.jsx(pe.span,{...e,ref:t,style:{...sS,...e.style}}));b2.displayName=x2;var w2=[" ","Enter","ArrowUp","ArrowDown"],S2=[" ","Enter"],Yr="Select",[cc,uc,C2]=eh(Yr),[ua,KL]=zn(Yr,[C2,$l]),dc=$l(),[E2,_r]=ua(Yr),[k2,_2]=ua(Yr),iS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:s,defaultValue:i,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:b}=e,w=dc(t),[S,v]=p.useState(null),[g,x]=p.useState(null),[E,M]=p.useState(!1),I=Al(c),[_,R]=qr({prop:r,defaultProp:o??!1,onChange:a,caller:Yr}),[$,D]=qr({prop:s,defaultProp:i,onChange:l,caller:Yr}),W=p.useRef(null),K=S?b||!!S.closest("form"):!0,[V,A]=p.useState(new Set),q=Array.from(V).map(X=>X.props.value).join(";");return u.jsx($0,{...w,children:u.jsxs(E2,{required:m,scope:t,trigger:S,onTriggerChange:v,valueNode:g,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:M,contentId:xn(),value:$,onValueChange:D,open:_,onOpenChange:R,dir:I,triggerPointerDownPosRef:W,disabled:h,children:[u.jsx(cc.Provider,{scope:t,children:u.jsx(k2,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{A(Z=>new Set(Z).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{A(Z=>{const y=new Set(Z);return y.delete(X),y})},[]),children:n})}),K?u.jsxs(AS,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:$,onChange:X=>D(X.target.value),disabled:h,form:b,children:[$===void 0?u.jsx("option",{value:""}):null,Array.from(V)]},q):null]})})};iS.displayName=Yr;var lS="SelectTrigger",cS=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=dc(n),s=_r(lS,n),i=s.disabled||r,l=Re(t,s.onTriggerChange),c=uc(n),d=p.useRef("touch"),[f,h,m]=PS(w=>{const S=c().filter(x=>!x.disabled),v=S.find(x=>x.value===s.value),g=IS(S,w,v);g!==void 0&&s.onValueChange(g.value)}),b=w=>{i||(s.onOpenChange(!0),m()),w&&(s.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return u.jsx(F0,{asChild:!0,...a,children:u.jsx(pe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":jS(s.value)?"":void 0,...o,ref:l,onClick:ie(o.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&b(w)}),onPointerDown:ie(o.onPointerDown,w=>{d.current=w.pointerType;const S=w.target;S.hasPointerCapture(w.pointerId)&&S.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:ie(o.onKeyDown,w=>{const S=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&h(w.key),!(S&&w.key===" ")&&w2.includes(w.key)&&(b(),w.preventDefault())})})})});cS.displayName=lS;var uS="SelectValue",dS=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:s="",...i}=e,l=_r(uS,n),{onValueNodeHasChildrenChange:c}=l,d=a!==void 0,f=Re(t,l.onValueNodeChange);return pt(()=>{c(d)},[c,d]),u.jsx(pe.span,{...i,ref:f,style:{pointerEvents:"none"},children:jS(l.value)?u.jsx(u.Fragment,{children:s}):a})});dS.displayName=uS;var N2="SelectIcon",fS=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return u.jsx(pe.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});fS.displayName=N2;var R2="SelectPortal",hS=e=>u.jsx(Fl,{asChild:!0,...e});hS.displayName=R2;var Qr="SelectContent",pS=p.forwardRef((e,t)=>{const n=_r(Qr,e.__scopeSelect),[r,o]=p.useState();if(pt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?Qo.createPortal(u.jsx(mS,{scope:e.__scopeSelect,children:u.jsx(cc.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),a):null}return u.jsx(gS,{...e,ref:t})});pS.displayName=Qr;var Yt=10,[mS,Nr]=ua(Qr),M2="SelectContentImpl",T2=Gr("SelectContent.RemoveScroll"),gS=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:s,side:i,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:b,hideWhenDetached:w,avoidCollisions:S,...v}=e,g=_r(Qr,n),[x,E]=p.useState(null),[M,I]=p.useState(null),_=Re(t,P=>E(P)),[R,$]=p.useState(null),[D,W]=p.useState(null),K=uc(n),[V,A]=p.useState(!1),q=p.useRef(!1);p.useEffect(()=>{if(x)return uh(x)},[x]),th();const X=p.useCallback(P=>{const[k,...O]=K().map(B=>B.ref.current),[L]=O.slice(-1),z=document.activeElement;for(const B of P)if(B===z||(B==null||B.scrollIntoView({block:"nearest"}),B===k&&M&&(M.scrollTop=0),B===L&&M&&(M.scrollTop=M.scrollHeight),B==null||B.focus(),document.activeElement!==z))return},[K,M]),Z=p.useCallback(()=>X([R,x]),[X,R,x]);p.useEffect(()=>{V&&Z()},[V,Z]);const{onOpenChange:y,triggerPointerDownPosRef:C}=g;p.useEffect(()=>{if(x){let P={x:0,y:0};const k=L=>{var z,B;P={x:Math.abs(Math.round(L.pageX)-(((z=C.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(L.pageY)-(((B=C.current)==null?void 0:B.y)??0))}},O=L=>{P.x<=10&&P.y<=10?L.preventDefault():x.contains(L.target)||y(!1),document.removeEventListener("pointermove",k),C.current=null};return C.current!==null&&(document.addEventListener("pointermove",k),document.addEventListener("pointerup",O,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",O,{capture:!0})}}},[x,y,C]),p.useEffect(()=>{const P=()=>y(!1);return window.addEventListener("blur",P),window.addEventListener("resize",P),()=>{window.removeEventListener("blur",P),window.removeEventListener("resize",P)}},[y]);const[N,T]=PS(P=>{const k=K().filter(z=>!z.disabled),O=k.find(z=>z.ref.current===document.activeElement),L=IS(k,P,O);L&&setTimeout(()=>L.ref.current.focus())}),j=p.useCallback((P,k,O)=>{const L=!q.current&&!O;(g.value!==void 0&&g.value===k||L)&&($(P),L&&(q.current=!0))},[g.value]),F=p.useCallback(()=>x==null?void 0:x.focus(),[x]),U=p.useCallback((P,k,O)=>{const L=!q.current&&!O;(g.value!==void 0&&g.value===k||L)&&W(P)},[g.value]),J=r==="popper"?qd:vS,G=J===qd?{side:i,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:b,hideWhenDetached:w,avoidCollisions:S}:{};return u.jsx(mS,{scope:n,content:x,viewport:M,onViewportChange:I,itemRefCallback:j,selectedItem:R,onItemLeave:F,itemTextRefCallback:U,focusSelectedItem:Z,selectedItemText:D,position:r,isPositioned:V,searchRef:N,children:u.jsx(Ul,{as:T2,allowPinchZoom:!0,children:u.jsx(Pl,{asChild:!0,trapped:g.open,onMountAutoFocus:P=>{P.preventDefault()},onUnmountAutoFocus:ie(o,P=>{var k;(k=g.trigger)==null||k.focus({preventScroll:!0}),P.preventDefault()}),children:u.jsx(jl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:P=>P.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:u.jsx(J,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:P=>P.preventDefault(),...v,...G,onPlaced:()=>A(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ie(v.onKeyDown,P=>{const k=P.ctrlKey||P.altKey||P.metaKey;if(P.key==="Tab"&&P.preventDefault(),!k&&P.key.length===1&&T(P.key),["ArrowUp","ArrowDown","Home","End"].includes(P.key)){let L=K().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(P.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes(P.key)){const z=P.target,B=L.indexOf(z);L=L.slice(B+1)}setTimeout(()=>X(L)),P.preventDefault()}})})})})})})});gS.displayName=M2;var A2="SelectItemAlignedPosition",vS=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=_r(Qr,n),s=Nr(Qr,n),[i,l]=p.useState(null),[c,d]=p.useState(null),f=Re(t,_=>d(_)),h=uc(n),m=p.useRef(!1),b=p.useRef(!0),{viewport:w,selectedItem:S,selectedItemText:v,focusSelectedItem:g}=s,x=p.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&c&&w&&S&&v){const _=a.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),D=v.getBoundingClientRect();if(a.dir!=="rtl"){const z=D.left-R.left,B=$.left-z,ee=_.left-B,le=_.width+ee,be=Math.max(le,R.width),me=window.innerWidth-Yt,fe=Cg(B,[Yt,Math.max(Yt,me-be)]);i.style.minWidth=le+"px",i.style.left=fe+"px"}else{const z=R.right-D.right,B=window.innerWidth-$.right-z,ee=window.innerWidth-_.right-B,le=_.width+ee,be=Math.max(le,R.width),me=window.innerWidth-Yt,fe=Cg(B,[Yt,Math.max(Yt,me-be)]);i.style.minWidth=le+"px",i.style.right=fe+"px"}const W=h(),K=window.innerHeight-Yt*2,V=w.scrollHeight,A=window.getComputedStyle(c),q=parseInt(A.borderTopWidth,10),X=parseInt(A.paddingTop,10),Z=parseInt(A.borderBottomWidth,10),y=parseInt(A.paddingBottom,10),C=q+X+V+y+Z,N=Math.min(S.offsetHeight*5,C),T=window.getComputedStyle(w),j=parseInt(T.paddingTop,10),F=parseInt(T.paddingBottom,10),U=_.top+_.height/2-Yt,J=K-U,G=S.offsetHeight/2,P=S.offsetTop+G,k=q+X+P,O=C-k;if(k<=U){const z=W.length>0&&S===W[W.length-1].ref.current;i.style.bottom="0px";const B=c.clientHeight-w.offsetTop-w.offsetHeight,ee=Math.max(J,G+(z?F:0)+B+Z),le=k+ee;i.style.height=le+"px"}else{const z=W.length>0&&S===W[0].ref.current;i.style.top="0px";const ee=Math.max(U,q+w.offsetTop+(z?j:0)+G)+O;i.style.height=ee+"px",w.scrollTop=k-U+w.offsetTop}i.style.margin=`${Yt}px 0`,i.style.minHeight=N+"px",i.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,i,c,w,S,v,a.dir,r]);pt(()=>x(),[x]);const[E,M]=p.useState();pt(()=>{c&&M(window.getComputedStyle(c).zIndex)},[c]);const I=p.useCallback(_=>{_&&b.current===!0&&(x(),g==null||g(),b.current=!1)},[x,g]);return u.jsx(P2,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:m,onScrollButtonChange:I,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:u.jsx(pe.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});vS.displayName=A2;var j2="SelectPopperPosition",qd=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Yt,...a}=e,s=dc(n);return u.jsx(V0,{...s,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qd.displayName=j2;var[P2,Lh]=ua(Qr,{}),Kd="SelectViewport",yS=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=Nr(Kd,n),s=Lh(Kd,n),i=Re(t,a.onViewportChange),l=p.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(cc.Slot,{scope:n,children:u.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ie(o.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const b=window.innerHeight-Yt*2,w=parseFloat(f.style.minHeight),S=parseFloat(f.style.height),v=Math.max(w,S);if(v<b){const g=v+m,x=Math.min(b,g),E=g-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});yS.displayName=Kd;var xS="SelectGroup",[I2,O2]=ua(xS),L2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=xn();return u.jsx(I2,{scope:n,id:o,children:u.jsx(pe.div,{role:"group","aria-labelledby":o,...r,ref:t})})});L2.displayName=xS;var bS="SelectLabel",wS=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=O2(bS,n);return u.jsx(pe.div,{id:o.id,...r,ref:t})});wS.displayName=bS;var il="SelectItem",[D2,SS]=ua(il),CS=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...s}=e,i=_r(il,n),l=Nr(il,n),c=i.value===r,[d,f]=p.useState(a??""),[h,m]=p.useState(!1),b=Re(t,g=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,g,r,o)}),w=xn(),S=p.useRef("touch"),v=()=>{o||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(D2,{scope:n,value:r,disabled:o,textId:w,isSelected:c,onItemTextChange:p.useCallback(g=>{f(x=>x||((g==null?void 0:g.textContent)??"").trim())},[]),children:u.jsx(cc.ItemSlot,{scope:n,value:r,disabled:o,textValue:d,children:u.jsx(pe.div,{role:"option","aria-labelledby":w,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...s,ref:b,onFocus:ie(s.onFocus,()=>m(!0)),onBlur:ie(s.onBlur,()=>m(!1)),onClick:ie(s.onClick,()=>{S.current!=="mouse"&&v()}),onPointerUp:ie(s.onPointerUp,()=>{S.current==="mouse"&&v()}),onPointerDown:ie(s.onPointerDown,g=>{S.current=g.pointerType}),onPointerMove:ie(s.onPointerMove,g=>{var x;S.current=g.pointerType,o?(x=l.onItemLeave)==null||x.call(l):S.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(s.onPointerLeave,g=>{var x;g.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ie(s.onKeyDown,g=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&g.key===" "||(S2.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});CS.displayName=il;var ja="SelectItemText",ES=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,s=_r(ja,n),i=Nr(ja,n),l=SS(ja,n),c=_2(ja,n),[d,f]=p.useState(null),h=Re(t,v=>f(v),l.onItemTextChange,v=>{var g;return(g=i.itemTextRefCallback)==null?void 0:g.call(i,v,l.value,l.disabled)}),m=d==null?void 0:d.textContent,b=p.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:S}=c;return pt(()=>(w(b),()=>S(b)),[w,S,b]),u.jsxs(u.Fragment,{children:[u.jsx(pe.span,{id:l.textId,...a,ref:h}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Qo.createPortal(a.children,s.valueNode):null]})});ES.displayName=ja;var kS="SelectItemIndicator",_S=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return SS(kS,n).isSelected?u.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});_S.displayName=kS;var Jd="SelectScrollUpButton",NS=p.forwardRef((e,t)=>{const n=Nr(Jd,e.__scopeSelect),r=Lh(Jd,e.__scopeSelect),[o,a]=p.useState(!1),s=Re(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const c=l.scrollTop>0;a(c)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),o?u.jsx(MS,{...e,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop-l.offsetHeight)}}):null});NS.displayName=Jd;var Zd="SelectScrollDownButton",RS=p.forwardRef((e,t)=>{const n=Nr(Zd,e.__scopeSelect),r=Lh(Zd,e.__scopeSelect),[o,a]=p.useState(!1),s=Re(t,r.onScrollButtonChange);return pt(()=>{if(n.viewport&&n.isPositioned){let i=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;a(d)};const l=n.viewport;return i(),l.addEventListener("scroll",i),()=>l.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),o?u.jsx(MS,{...e,ref:s,onAutoScroll:()=>{const{viewport:i,selectedItem:l}=n;i&&l&&(i.scrollTop=i.scrollTop+l.offsetHeight)}}):null});RS.displayName=Zd;var MS=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=Nr("SelectScrollButton",n),s=p.useRef(null),i=uc(n),l=p.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),pt(()=>{var d;const c=i().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),u.jsx(pe.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ie(o.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:ie(o.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:ie(o.onPointerLeave,()=>{l()})})}),$2="SelectSeparator",TS=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});TS.displayName=$2;var Xd="SelectArrow",F2=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=dc(n),a=_r(Xd,n),s=Nr(Xd,n);return a.open&&s.position==="popper"?u.jsx(z0,{...o,...r,ref:t}):null});F2.displayName=Xd;var V2="SelectBubbleInput",AS=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const o=p.useRef(null),a=Re(r,o),s=_w(t);return p.useEffect(()=>{const i=o.current;if(!i)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(i,t),i.dispatchEvent(f)}},[s,t]),u.jsx(pe.select,{...n,style:{...sS,...n.style},ref:a,defaultValue:t})});AS.displayName=V2;function jS(e){return e===""||e===void 0}function PS(e){const t=wn(e),n=p.useRef(""),r=p.useRef(0),o=p.useCallback(s=>{const i=n.current+s;t(i),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(i)},[t]),a=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function IS(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=z2(e,Math.max(a,0));o.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function z2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U2=iS,OS=cS,B2=dS,W2=fS,H2=hS,LS=pS,G2=yS,DS=wS,$S=CS,q2=ES,K2=_S,FS=NS,VS=RS,zS=TS;const J2=U2,Z2=B2,US=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(OS,{ref:r,className:he("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,u.jsx(W2,{asChild:!0,children:u.jsx(Ki,{className:"h-4 w-4 opacity-50"})})]}));US.displayName=OS.displayName;const BS=p.forwardRef(({className:e,...t},n)=>u.jsx(FS,{ref:n,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Qk,{className:"h-4 w-4"})}));BS.displayName=FS.displayName;const WS=p.forwardRef(({className:e,...t},n)=>u.jsx(VS,{ref:n,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:u.jsx(Ki,{className:"h-4 w-4"})}));WS.displayName=VS.displayName;const HS=p.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>u.jsx(H2,{children:u.jsxs(LS,{ref:o,className:he("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[u.jsx(BS,{}),u.jsx(G2,{className:he("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),u.jsx(WS,{})]})}));HS.displayName=LS.displayName;const X2=p.forwardRef(({className:e,...t},n)=>u.jsx(DS,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",e),...t}));X2.displayName=DS.displayName;const GS=p.forwardRef(({className:e,children:t,...n},r)=>u.jsxs($S,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[u.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(K2,{children:u.jsx(Lo,{className:"h-4 w-4"})})}),u.jsx(q2,{children:t})]}));GS.displayName=$S.displayName;const Y2=p.forwardRef(({className:e,...t},n)=>u.jsx(zS,{ref:n,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));Y2.displayName=zS.displayName;const qS={cpId:"CP001",connectorNumber:1,wsURL:"ws://localhost:8080/steve/websocket/CentralSystemService/",ocppVersion:"OCPP-1.6J",basicAuthEnabled:!1,basicAuthUsername:"",basicAuthPassword:"",autoMeterValueEnabled:!1,autoMeterValueInterval:30,autoMeterValue:10,chargePointVendor:"Vendor",chargePointModel:"Model",firmwareVersion:"1.0",chargeBoxSerialNumber:"123456",chargePointSerialNumber:"123456",meterSerialNumber:"123456",meterType:"",iccid:"",imsi:"",tagIds:["123456"]},Q2=({isOpen:e,onClose:t,onSave:n,initialConfig:r,isNewChargePoint:o=!1})=>{const[a,s]=p.useState(r||qS);p.useEffect(()=>{r&&s(r)},[r]);const i=()=>{n(a),t()},l=(c,d)=>{s({...a,[c]:d})};return u.jsx(p2,{open:e,onOpenChange:c=>!c&&t(),children:u.jsxs(eS,{className:"sm:max-w-5xl max-h-[90vh] overflow-y-auto",children:[u.jsx(tS,{children:u.jsx(rS,{children:o?"Add New Charge Point":`Configure ${a.cpId}`})}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"card p-4",children:[u.jsx("h3",{className:"card-header mb-4",children:"Basic Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"cpId",className:"mb-2 logger-label",children:"Charge Point ID"}),u.jsx(gt,{id:"cpId",type:"text",value:a.cpId,onChange:c=>l("cpId",c.target.value),required:!0,className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"connectorNumber",className:"mb-2 logger-label",children:"Number of Connectors"}),u.jsx(gt,{id:"connectorNumber",type:"number",min:"1",max:"10",value:a.connectorNumber,onChange:c=>l("connectorNumber",parseInt(c.target.value)),required:!0,className:"logger-input"})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx(mt,{htmlFor:"wsURL",className:"mb-2 logger-label",children:"WebSocket URL"}),u.jsx(gt,{id:"wsURL",type:"url",value:a.wsURL,onChange:c=>l("wsURL",c.target.value),required:!0,className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"ocppVersion",className:"mb-2",children:"OCPP Version"}),u.jsxs(J2,{value:a.ocppVersion,onValueChange:c=>l("ocppVersion",c),children:[u.jsx(US,{id:"ocppVersion",children:u.jsx(Z2,{})}),u.jsx(HS,{children:u.jsx(GS,{value:"OCPP-1.6J",children:"OCPP 1.6J"})})]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx(mt,{htmlFor:"tagIds",className:"mb-2 logger-label",children:"RFID Tag IDs (comma-separated)"}),u.jsx(gt,{id:"tagIds",type:"text",value:a.tagIds.join(", "),onChange:c=>{const d=c.target.value.split(",").map(f=>f.trim()).filter(f=>f.length>0);l("tagIds",d.length>0?d:["123456"])},placeholder:"e.g., 123456, ABCDEF, TAG001",className:"logger-input"}),u.jsx("p",{className:"text-xs text-muted mt-1",children:"Enter one or more RFID tag IDs separated by commas. These tags can be used for starting transactions."})]})]})]}),u.jsxs("div",{className:"card p-4",children:[u.jsx("h3",{className:"card-header mb-4",children:"Boot Notification"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"chargePointVendor",className:"mb-2 logger-label",children:"Vendor"}),u.jsx(gt,{id:"chargePointVendor",type:"text",value:a.chargePointVendor,onChange:c=>l("chargePointVendor",c.target.value),className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"chargePointModel",className:"mb-2 logger-label",children:"Model"}),u.jsx(gt,{id:"chargePointModel",type:"text",value:a.chargePointModel,onChange:c=>l("chargePointModel",c.target.value),className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"firmwareVersion",className:"mb-2 logger-label",children:"Firmware Version"}),u.jsx(gt,{id:"firmwareVersion",type:"text",value:a.firmwareVersion,onChange:c=>l("firmwareVersion",c.target.value),className:"logger-input"})]})]})]}),u.jsxs("div",{className:"card p-4",children:[u.jsx("h3",{className:"card-header mb-4",children:"Optional Settings"}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Fo,{id:"basicAuthEnabled",checked:a.basicAuthEnabled,onCheckedChange:c=>l("basicAuthEnabled",c)}),u.jsx(mt,{htmlFor:"basicAuthEnabled",className:"logger-label",children:"Enable Basic Authentication"})]}),a.basicAuthEnabled&&u.jsxs("div",{className:"ml-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"basicAuthUsername",className:"mb-2 logger-label",children:"Username"}),u.jsx(gt,{id:"basicAuthUsername",type:"text",value:a.basicAuthUsername,onChange:c=>l("basicAuthUsername",c.target.value),className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"basicAuthPassword",className:"mb-2 logger-label",children:"Password"}),u.jsx(gt,{id:"basicAuthPassword",type:"password",value:a.basicAuthPassword,onChange:c=>l("basicAuthPassword",c.target.value),className:"logger-input"})]})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx(Fo,{id:"autoMeterValueEnabled",checked:a.autoMeterValueEnabled,onCheckedChange:c=>l("autoMeterValueEnabled",c)}),u.jsx(mt,{htmlFor:"autoMeterValueEnabled",className:"logger-label",children:"Enable Auto Meter Value"})]}),a.autoMeterValueEnabled&&u.jsxs("div",{className:"ml-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"autoMeterValueInterval",className:"mb-2 logger-label",children:"Interval (seconds)"}),u.jsx(gt,{id:"autoMeterValueInterval",type:"number",min:"1",value:a.autoMeterValueInterval,onChange:c=>l("autoMeterValueInterval",parseInt(c.target.value)),className:"logger-input"})]}),u.jsxs("div",{children:[u.jsx(mt,{htmlFor:"autoMeterValue",className:"mb-2 logger-label",children:"Increment Value (kWh)"}),u.jsx(gt,{id:"autoMeterValue",type:"number",min:"1",value:a.autoMeterValue,onChange:c=>l("autoMeterValue",parseInt(c.target.value)),className:"logger-input"})]})]})]})]})]}),u.jsxs(nS,{children:[u.jsxs(dt,{variant:"secondary",onClick:t,children:[u.jsx(Rl,{className:"mr-2 h-5 w-5"}),"Cancel"]}),u.jsxs(dt,{onClick:i,children:[u.jsx(h_,{className:"mr-2 h-5 w-5"}),"Save"]})]})]})})};var fc="Tabs",[eL,JL]=zn(fc,[Vl]),KS=Vl(),[tL,Dh]=eL(fc),JS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:s="horizontal",dir:i,activationMode:l="automatic",...c}=e,d=Al(i),[f,h]=qr({prop:r,onChange:o,defaultProp:a??"",caller:fc});return u.jsx(tL,{scope:n,baseId:xn(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:l,children:u.jsx(pe.div,{dir:d,"data-orientation":s,...c,ref:t})})});JS.displayName=fc;var ZS="TabsList",XS=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=Dh(ZS,n),s=KS(n);return u.jsx(q0,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:u.jsx(pe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});XS.displayName=ZS;var YS="TabsTrigger",QS=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,s=Dh(YS,n),i=KS(n),l=n1(s.baseId,r),c=r1(s.baseId,r),d=r===s.value;return u.jsx(K0,{asChild:!0,...i,focusable:!o,active:d,children:u.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:l,...a,ref:t,onMouseDown:ie(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:ie(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!o&&f&&s.onValueChange(r)})})})});QS.displayName=YS;var e1="TabsContent",t1=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...s}=e,i=Dh(e1,n),l=n1(i.baseId,r),c=r1(i.baseId,r),d=r===i.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(En,{present:o||d,children:({present:h})=>u.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});t1.displayName=e1;function n1(e,t){return`${e}-trigger-${t}`}function r1(e,t){return`${e}-content-${t}`}var nL=JS,o1=XS,a1=QS,s1=t1;const rL=nL,i1=p.forwardRef(({className:e,...t},n)=>u.jsx(o1,{ref:n,className:he("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));i1.displayName=o1.displayName;const l1=p.forwardRef(({className:e,...t},n)=>u.jsx(a1,{ref:n,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));l1.displayName=a1.displayName;const c1=p.forwardRef(({className:e,...t},n)=>u.jsx(s1,{ref:n,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c1.displayName=s1.displayName;function oL(e,{isLoading:t=!1}={}){const{chargePointService:n}=ia(),[r,o]=p.useState([]);return p.useEffect(()=>{if(t)return;const a=n instanceof nw;if(!e||!e.Experimental||e.Experimental.ChargePointIDs.length===0){a&&n.syncLocalChargePoints([]),o([]);return}if(a){const s=e.Experimental.ChargePointIDs.map(i=>{var l;return{id:i.ChargePointID,connectorNumber:i.ConnectorNumber,bootNotification:e.BootNotification??gP,wsUrl:e.wsURL,basicAuth:(l=e.basicAuthSettings)!=null&&l.enabled?{username:e.basicAuthSettings.username,password:e.basicAuthSettings.password}:null,autoMeterValueSetting:e.autoMeterValueSetting??null}});n.syncLocalChargePoints(s).then(i=>o(i)).catch(i=>{console.error("Failed to sync local charge points",i),o([])});return}o([])},[n,e,t]),r}const aL=()=>{const{config:e,setConfig:t,isLoading:n}=ow(),[r,o]=p.useState([]),[a,s]=p.useState([]),[i,l]=p.useState(!1),[c,d]=p.useState(null),f=oL(e,{isLoading:n}),h=p.useCallback(g=>{t(g)},[t]),m=p.useMemo(()=>e?JSON.stringify(e):null,[e]);p.useEffect(()=>{if(n||!e||!e.Experimental){o([]),s([]);return}o(e.Experimental.TagIDs??[]);const g=e.Experimental.ChargePointIDs.map(x=>{var E,M,I,_,R,$,D,W,K,V,A,q,X,Z,y;return{cpId:x.ChargePointID,connectorNumber:x.ConnectorNumber,wsURL:e.wsURL,ocppVersion:e.ocppVersion,basicAuthEnabled:((E=e.basicAuthSettings)==null?void 0:E.enabled)||!1,basicAuthUsername:((M=e.basicAuthSettings)==null?void 0:M.username)||"",basicAuthPassword:((I=e.basicAuthSettings)==null?void 0:I.password)||"",autoMeterValueEnabled:((_=e.autoMeterValueSetting)==null?void 0:_.enabled)||!1,autoMeterValueInterval:((R=e.autoMeterValueSetting)==null?void 0:R.interval)||30,autoMeterValue:(($=e.autoMeterValueSetting)==null?void 0:$.value)||10,chargePointVendor:((D=e.BootNotification)==null?void 0:D.chargePointVendor)||"Vendor",chargePointModel:((W=e.BootNotification)==null?void 0:W.chargePointModel)||"Model",firmwareVersion:((K=e.BootNotification)==null?void 0:K.firmwareVersion)||"1.0",chargeBoxSerialNumber:((V=e.BootNotification)==null?void 0:V.chargeBoxSerialNumber)||"",chargePointSerialNumber:((A=e.BootNotification)==null?void 0:A.chargePointSerialNumber)||"",meterSerialNumber:((q=e.BootNotification)==null?void 0:q.meterSerialNumber)||"",meterType:((X=e.BootNotification)==null?void 0:X.meterType)||"",iccid:((Z=e.BootNotification)==null?void 0:Z.iccid)||"",imsi:((y=e.BootNotification)==null?void 0:y.imsi)||"",tagIds:e.Experimental.TagIDs??["123456"]}});s(g)},[m,n]);const b=()=>{d(null),l(!0)},w=g=>{d(g),l(!0)},S=g=>{const x=[...a];c!==null?x[c]=g:x.push(g),s(x),o(g.tagIds);const E={...e||{},wsURL:g.wsURL,connectorNumber:g.connectorNumber,ChargePointID:g.cpId,tagID:g.tagIds[0]||"123456",ocppVersion:g.ocppVersion,basicAuthSettings:{enabled:g.basicAuthEnabled,username:g.basicAuthUsername,password:g.basicAuthPassword},autoMeterValueSetting:{enabled:g.autoMeterValueEnabled,interval:g.autoMeterValueInterval,value:g.autoMeterValue},BootNotification:{chargePointVendor:g.chargePointVendor,chargePointModel:g.chargePointModel,firmwareVersion:g.firmwareVersion,chargeBoxSerialNumber:g.chargeBoxSerialNumber,chargePointSerialNumber:g.chargePointSerialNumber,meterSerialNumber:g.meterSerialNumber,meterType:g.meterType,iccid:g.iccid,imsi:g.imsi},Experimental:{ChargePointIDs:x.map(M=>({ChargePointID:M.cpId,ConnectorNumber:M.connectorNumber})),TagIDs:g.tagIds}};h(E)},v=g=>{const x=[...a];if(x.splice(g,1),s(x),x.length===0){h(null);return}const E={...e||{},Experimental:{ChargePointIDs:x.map(M=>({ChargePointID:M.cpId,ConnectorNumber:M.connectorNumber})),TagIDs:r.length>0?r:["123456"]}};h(E)};return u.jsxs("div",{className:"px-8 pt-6 pb-8 mb-4",children:[u.jsx(sL,{cps:f,tagIDs:r,onAddChargePoint:b,onEditChargePoint:w,onDeleteChargePoint:v}),u.jsx(Q2,{isOpen:i,onClose:()=>l(!1),onSave:S,initialConfig:c!==null?a[c]:qS,isNewChargePoint:c===null})]})},sL=({cps:e,tagIDs:t,onAddChargePoint:n,onEditChargePoint:r,onDeleteChargePoint:o})=>{const[a,s]=p.useState("");p.useEffect(()=>{e.length>0&&(!a||!e.find(S=>S.id===a))&&s(e[0].id)},[e,a]);const i=()=>{console.log("Connecting all charge points");const S=100;e.flatMap((v,g,x)=>g%S?[]:[x.slice(g,g+S)]).forEach(v=>{Promise.all(v.map(g=>g.connect()))})},l=()=>{console.log("Disconnecting all charge points"),e.forEach(S=>{S.disconnect()})},c=()=>{console.log("Sending heartbeat to all charge points"),e.forEach(S=>{S.sendHeartbeat()})},[d,f]=p.useState(!1),h=S=>{f(S),S?e.forEach(v=>{v.startHeartbeat(10)}):e.forEach(v=>{v.stopHeartbeat()})},m=[],b=()=>{for(let S=0;S<Math.min(t.length,e.length);S++)e[S].setConnectorTransactionIDChangeCallback(1,v=>{v&&m.push({tagID:t[S],transactionID:v,cpID:e[S].id,connectorID:1})}),e[S].startTransaction(t[S],1)},w=()=>{m.forEach(S=>{var v;(v=e.find(g=>g.id===S.cpID))==null||v.stopTransaction(S.connectorID)})};return u.jsxs(u.Fragment,{children:[e.length>=2?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[u.jsx(dt,{onClick:i,children:"Connect All"}),u.jsx(dt,{onClick:l,variant:"destructive",children:"Disconnect All"}),u.jsx(dt,{onClick:c,variant:"info",children:"Heartbeat All"}),u.jsxs(dt,{variant:d?"destructive":"success",onClick:()=>h(!d),children:[d?"Disable":"Enable"," Heartbeat All"]})]}),u.jsx("div",{className:"panel mb-3 p-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-bold",children:"Transaction All"}),u.jsxs("span",{className:"text-muted-foreground text-xs ml-3",children:["Tag IDs: ",t.join(", ")]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(dt,{onClick:b,variant:"success",children:"Start Transaction All"}),u.jsx(dt,{onClick:w,variant:"warning",children:"Stop Transaction All"})]})]})})]}):null,u.jsxs(rL,{value:a,onValueChange:s,className:"w-full",children:[u.jsxs(i1,{className:"w-full justify-start flex-wrap h-auto",children:[e.map((S,v)=>u.jsxs(l1,{value:S.id,className:"flex items-center gap-2",children:[u.jsx("span",{children:S.id}),u.jsx("span",{role:"button",tabIndex:0,"aria-label":"Edit Charge Point",className:bd({variant:"ghost",size:"icon",className:"h-6 w-6"}),onClick:g=>{g.stopPropagation(),r(v)},onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),g.stopPropagation(),r(v))},title:"Edit Charge Point",children:u.jsx(Yy,{className:"h-3 w-3"})}),u.jsx("span",{role:"button",tabIndex:0,"aria-label":"Delete Charge Point",className:bd({variant:"ghost",size:"icon",className:"h-6 w-6 text-destructive hover:text-destructive"}),onClick:g=>{g.stopPropagation(),confirm(`Are you sure you want to delete ${S.id}?`)&&o(v)},onKeyDown:g=>{(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),g.stopPropagation(),confirm(`Are you sure you want to delete ${S.id}?`)&&o(v))},title:"Delete Charge Point",children:u.jsx(v_,{className:"h-3 w-3"})})]},v)),u.jsx(dt,{size:"icon",variant:"ghost",className:"h-9 w-9",onClick:n,title:"Add Charge Point",children:u.jsx(d_,{className:"h-4 w-4"})})]}),e.map((S,v)=>u.jsx(c1,{value:S.id,children:u.jsx(XO,{cp:S,TagID:t[0]})},v))]})]})},iL=()=>u.jsx("nav",{className:"bg-blue-600 text-white shadow-lg",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx(Oo,{className:"text-xl font-bold",to:"/v1",children:"OCPP ChargePoint Simulator (v1)"}),u.jsxs("ul",{className:"flex space-x-4",children:[u.jsx("li",{children:u.jsx(Oo,{className:"hover:text-blue-200",to:"/v1",children:"ChargePoint"})}),u.jsx("li",{children:u.jsx(Oo,{className:"hover:text-blue-200",to:"/v1/settings",children:"Settings"})})]})]})})}),u1="config-v1",Eg=cb(u1,null),kg=lb(u1,null,void 0,{getOnInit:!0}),d1=Fr(e=>{const t=e(Eg),n=e(kg);return t??n},(e,t,n)=>{t(Eg,n),t(kg,n)});var ge=(e=>(e.Available="Available",e.Preparing="Preparing",e.Charging="Charging",e.SuspendedEVSE="SuspendedEVSE",e.SuspendedEV="SuspendedEV",e.Finishing="Finishing",e.Reserved="Reserved",e.Unavailable="Unavailable",e.Faulted="Faulted",e))(ge||{}),ar=(e=>(e[e.CALL=2]="CALL",e[e.CALL_RESULT=3]="CALL_RESULT",e[e.CALL_ERROR=4]="CALL_ERROR",e))(ar||{}),Te=(e=>(e.Authorize="Authorize",e.BootNotification="BootNotification",e.ChangeAvailability="ChangeAvailability",e.ChangeConfiguration="ChangeConfiguration",e.ClearCache="ClearCache",e.DataTransfer="DataTransfer",e.GetConfiguration="GetConfiguration",e.Heartbeat="Heartbeat",e.MeterValues="MeterValues",e.RemoteStartTransaction="RemoteStartTransaction",e.RemoteStopTransaction="RemoteStopTransaction",e.Reset="Reset",e.StartTransaction="StartTransaction",e.StatusNotification="StatusNotification",e.StopTransaction="StopTransaction",e.UnlockConnector="UnlockConnector",e.GetDiagnostics="GetDiagnostics",e.DiagnosticsStatusNotification="DiagnosticsStatusNotification",e.FirmwareStatusNotification="FirmwareStatusNotification",e.UpdateFirmware="UpdateFirmware",e.GetLocalListVersion="GetLocalListVersion",e.SendLocalList="SendLocalList",e.CancelReservation="CancelReservation",e.ReserveNow="ReserveNow",e.ClearChargingProfile="ClearChargingProfile",e.GetCompositeSchedule="GetCompositeSchedule",e.SetChargingProfile="SetChargingProfile",e.TriggerMessage="TriggerMessage",e.CallResult="CallResult",e))(Te||{}),f1=(e=>(e.Core="Core",e.FirmwareManagement="FirmwareManagement",e.LocalAuthListManagement="LocalAuthListManagement",e.Reservation="Reservation",e.SmartCharging="SmartCharging",e.RemoteTrigger="RemoteTrigger",e))(f1||{});const Yd={ChargeBoxSerialNumber:"123456",ChargePointModel:"Model",ChargePointSerialNumber:"123456",ChargePointVendor:"Vendor",FirmwareVersion:"1.0",Iccid:"",Imsi:"",MeterSerialNumber:"123456",MeterType:""},lL=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(2),[o,a]=p.useState(""),[s,i]=p.useState(""),[l,c]=p.useState("OCPP-1.6J"),[d,f]=p.useState(!1),[h,m]=p.useState(""),[b,w]=p.useState(""),[S,v]=p.useState(!1),[g,x]=p.useState(0),[E,M]=p.useState(0),[I,_]=p.useState(null),[R,$]=p.useState(JSON.stringify(Yd)),[D,W]=ab(d1),K=Nl();p.useEffect(()=>{var A,q,X,Z,y,C;D&&(t(D.wsURL),r(D.connectorNumber),a(D.ChargePointID),i(D.tagID),c(D.ocppVersion),f((A=D.basicAuthSettings)==null?void 0:A.enabled),m((q=D.basicAuthSettings)==null?void 0:q.username),w((X=D.basicAuthSettings)==null?void 0:X.password),v((Z=D.autoMeterValueSetting)==null?void 0:Z.enabled),x((y=D.autoMeterValueSetting)==null?void 0:y.interval),M((C=D.autoMeterValueSetting)==null?void 0:C.value),_(D.Experimental?JSON.stringify(D.Experimental):null),$(D.BootNotification?JSON.stringify(D.BootNotification):null))},[D]);const V=A=>{A.preventDefault(),W({wsURL:e,connectorNumber:n,ChargePointID:o,tagID:s,ocppVersion:l,basicAuthSettings:{enabled:d,username:h,password:b},autoMeterValueSetting:{enabled:S,interval:g,value:E},Experimental:I&&I!==""?JSON.parse(I):null,BootNotification:R&&R!==""?JSON.parse(R):null}),K("/v1")};return u.jsxs("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Settings"}),u.jsxs("form",{onSubmit:V,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"WSURL",children:"OCPP Server"}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"WSURL",type:"text",value:e,onChange:A=>t(A.target.value),placeholder:"ws://localhost:8080/steve/websocket/CentralSystemService/"}),u.jsx("p",{className:"text-gray-600 text-xs italic mt-1",children:"The base URL of the OCPP Server (without the ChargePoint ID)"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"CONNECTORS",children:"Number of Connectors"}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"CONNECTORS",type:"number",value:n,onChange:A=>r(parseInt(A.target.value)),placeholder:"2",style:{maxWidth:"20ch"}})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"CPID",children:"ChargePoint ID"}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"CPID",type:"text",value:o,onChange:A=>a(A.target.value),placeholder:"CP001",style:{maxWidth:"20ch"}})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"TagID",children:"RFID Tag ID"}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"TagID",type:"text",value:s,onChange:A=>i(A.target.value),placeholder:"XXX",style:{maxWidth:"20ch"}})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"OCPP",children:"OCPP Version"}),u.jsx("select",{className:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"OCPP",value:l,onChange:A=>c(A.target.value),style:{maxWidth:"20ch"},children:u.jsx("option",{value:"OCPP-1.6J",children:"OCPP-1.6J"})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("input",{className:"shadow border rounded w-fit py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"BasicAuth",type:"checkbox",checked:d,onChange:A=>{f(A.target.checked),A.target.checked||(m(""),w(""))}}),u.jsx("label",{className:"text-gray-700 text-sm font-bold ml-2",htmlFor:"BasicAuth",children:"BasicAuth Settings"}),d&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{className:"shadow appearance-none border rounded w-1/3 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"BasicAuthUsername",type:"text",value:h,onChange:A=>m(A.target.value),placeholder:"username",style:{maxWidth:"20ch"},required:!0}),u.jsx("input",{className:"shadow appearance-none border rounded w-1/3 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"BasicAuthPassword",type:"text",value:b,onChange:A=>w(A.target.value),placeholder:"password",style:{maxWidth:"20ch"},required:!0})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("input",{className:"shadow border rounded w-fit py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"AutoMeterValue",type:"checkbox",checked:S,onChange:A=>{v(A.target.checked),A.target.checked||(x(0),M(0))}}),u.jsx("label",{className:"text-gray-700 text-sm font-bold ml-2",htmlFor:"AutoMeterValue",children:"Auto Meter Value"}),S&&u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{className:"shadow appearance-none border rounded w-1/3 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"AutoMeterValueInterval",type:"number",value:g,onChange:A=>x(parseInt(A.target.value)),placeholder:"30",style:{maxWidth:"20ch"},required:!0}),u.jsx("span",{className:"text-gray-700 text-sm font-bold ml-2",children:"seconds"}),u.jsx("input",{className:"shadow appearance-none border rounded w-1/3 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"AutoMeterValue",type:"number",value:E,onChange:A=>M(parseInt(A.target.value)),placeholder:"10",style:{maxWidth:"20ch"},required:!0}),u.jsx("span",{className:"text-gray-700 text-sm font-bold ml-2",children:"kWh"})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"Experimental",children:"Experimental"}),u.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"Experimental",placeholder:`{
            "ChargePointIDs": [
            {
            "ChargePointID": "CP001",
            "ConnectorNumber": 1
            }
            ],
            "TagIDs": [
            "123456"
            ]
            }`,style:{height:"100px"},value:I||"",onChange:A=>_(A.target.value)})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"BootNotification",children:"Boot Notification"}),u.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"BootNotification",placeholder:`{
            "ChargeBoxSerialNumber": "123456",
            "ChargePointModel": "Model 3",
            "ChargePointSerialNumber": "123456",
            "ChargePointVendor": "Vendor",
            "FirmwareVersion": "1.0.0",
            "Iccid": "123456",
            "Imsi": "123456",
            "MeterSerialNumber": "123456",
            "MeterType": "Model 3"
            }`,style:{height:"100px"},value:R||"",onChange:A=>$(A.target.value)})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Save"})})]})]})},cL=({id:e,cp:t,idTag:n})=>{const[r,o]=p.useState(0),[a,s]=p.useState(ge.Unavailable),[i,l]=p.useState("Operative"),[c,d]=p.useState(0),[f,h]=p.useState(n);p.useEffect(()=>{t&&(t.setConnectorStatusChangeCallback(e,s),t.setConnectorTransactionIDChangeCallback(e,o),t.setConnectorMeterValueChangeCallback(e,d),t.setAvailabilityChangeCallback(e,l))},[e,t]);const m=()=>{t&&t.updateConnectorStatus(e,a)},b=()=>{t&&t.startTransaction(f,e)},w=()=>{t&&t.stopTransaction(e)},S=()=>{t&&(d(c+10),t.setMeterValue(e,c))},v=()=>{t&&(d(c),t.sendMeterValue(e))};return u.jsxs("div",{className:"bg-gray-200 p-4 rounded mb-4 border border-gray-400",children:[u.jsxs("label",{className:"text-lg font-semibold",children:["Connector ",e]}),u.jsxs("div",{className:"d-flex",children:[u.jsxs("div",{className:"form-group bg-gray-100 rounded p-4",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"text-gray-700 text-sm font-bold mb-2",children:["Connector Status:"," "]}),u.jsx(uL,{status:a})]}),a===ge.Charging&&u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"text-gray-700 text-sm font-bold mb-2",children:["Transaction ID:"," "]}),u.jsx("span",{children:r})]}),u.jsx("select",{id:`STATUS_CON${e}`,className:"bg-white border border-gray-400 rounded px-4 py-2",value:a,onChange:g=>s(g.target.value),style:{maxWidth:"16ch",marginRight:"1ch"},children:Object.keys(ge).map(g=>g===ge.Charging?null:u.jsx("option",{value:g,children:g},g))}),u.jsx("button",{onClick:m,className:`bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
            disabled:opacity-50
            `,disabled:a===ge.Unavailable,children:"Status Notification"}),u.jsx("div",{className:"d-flex border-b border-gray-400",children:u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",htmlFor:`AVAILABILITY_CON${e}`,children:"Connector Availability:"}),u.jsx(dL,{availability:i})]})})]}),u.jsx("div",{className:"form-group bg-gray-100 rounded p-4",children:u.jsxs("div",{className:"mb-1",children:[u.jsx("label",{className:"text-gray-700 text-sm font-bold mb-2",children:"RFID Tag"}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-1 px-1 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",value:f,onChange:g=>h(g.target.value),placeholder:"DEADBEEF",style:{maxWidth:"20ch"}})]})}),u.jsx("button",{onClick:b,className:`bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
          disabled:opacity-50`,disabled:a!==ge.Available,children:"Start Transaction"}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex mb-2",children:[u.jsx("input",{type:"number",value:c,onChange:g=>d(Number(g.target.value)),className:"shadow appearance-none border rounded w-1/2 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),u.jsx("button",{onClick:S,className:`bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded ml-2
            disabled:opacity-50`,children:"+"})]}),u.jsx("button",{onClick:v,className:`bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded w-full
          disabled:opacity-50`,disabled:a!==ge.Charging,children:"Send Meter Value"})]}),u.jsx("button",{onClick:w,className:`bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
          disabled:opacity-50`,disabled:a!==ge.Charging,children:"Stop Transaction"})]})]})},uL=({status:e})=>{const t=n=>{switch(n){case ge.Unavailable:return"text-red-500";case ge.Available:return"text-yellow-500";case ge.Preparing:return"text-blue-500";case ge.Charging:return"text-purple-500";case ge.Faulted:return"text-red-500";default:return"text-black"}};return u.jsx("span",{className:t(e),children:e})},dL=({availability:e})=>{const t=n=>{switch(n){case"Operative":return"text-green-500";case"Inoperative":return"text-red-500";default:return"text-black"}};return u.jsx("span",{className:t(e),children:e})},fL=({logs:e})=>u.jsx("div",{className:"mt-2 border-0 border-blue-500 h-screen",children:u.jsx(hL,{readOnly:!0,className:"w-full h-1/4 bg-gray-100 p-2",value:e.join(`
`)})}),hL=e=>{const t=p.useRef(null);return p.useEffect(()=>{var n;(n=t.current)==null||n.scrollTo({top:t.current.scrollHeight,behavior:"smooth"})},[e.value]),u.jsx("textarea",{className:"w-full h-auto",ref:t,...e})},h1=e=>{const[t,n]=p.useState(null),[r,o]=p.useState(ge.Unavailable),[a,s]=p.useState(""),[i,l]=p.useState([]);p.useEffect(()=>{console.log("ChargePointProps",e),e.cp.statusChangeCallback=c,e.cp.loggingCallback=d,e.cp.errorCallback=s,n(e.cp)},[e]);const c=f=>{o(f)},d=f=>{console.log(f),l(h=>[...h,f])};return u.jsxs("div",{className:"bg-white shadow-md rounded px-2 pt-2 pb-1 h-screen",children:[u.jsx(vL,{...e}),u.jsxs("div",{className:"flex flex-col md:flex-row",children:[u.jsx(gL,{cp:t,cpStatus:r,cpError:a}),u.jsxs("div",{className:"flex-1",children:[u.jsx(mL,{cp:t,cpStatus:r,tagID:e.TagID}),u.jsx("div",{className:"flex flex-col md:flex-row mt-4",children:(t==null?void 0:t.connectors)&&Array.from(Array(t.connectors.size).keys()).map(f=>u.jsx(cL,{id:f+1,cp:t,idTag:e.TagID},f+1))})]})]}),u.jsx(fL,{logs:i})]})},pL=({status:e})=>{const t=n=>{switch(n){case ge.Unavailable:return"text-black";case ge.Available:return"text-green-500";case ge.Charging:return"text-blue-500";default:return"text-red-500"}};return u.jsxs("div",{className:"bg-gray-100 rounded p-4 mr-4 border border-gray-400",children:[u.jsx("label",{className:"block text-lg font-semibold",children:"CP Status"}),u.jsx("p",{className:"text-2xl font-bold text-center",children:u.jsx("span",{className:t(e),children:e})})]})},mL=e=>{const[t,n]=p.useState(e.tagID),r=()=>{e.cp&&e.cp.authorize(t)};return u.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"TAG",children:[" ","RFID Tag"]}),u.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"TAG",type:"text",value:t,onChange:o=>n(o.target.value),placeholder:"DEADBEEF",style:{maxWidth:"20ch"}}),u.jsx("p",{className:"text-gray-600 text-xs italic mt-1",children:"The ID of the simulated RFID tag"})]}),u.jsx("button",{onClick:r,className:`bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded
              disabled:bg-green-300
              `,disabled:e.cpStatus!==ge.Available,children:"Authorize"})]})},gL=({cp:e,cpStatus:t,cpError:n})=>{const[r,o]=p.useState(!1),a=()=>{e&&e.connect()},s=()=>{e&&e.disconnect()},i=()=>{e&&e.sendHeartbeat()},l=c=>{o(c),e&&(c?e.startHeartbeat(10):e.stopHeartbeat())};return u.jsxs("div",{className:"bg-gray-100 rounded p-4 mr-4",children:[u.jsx("div",{className:"bg-gray-100 rounded p-4 mr-4",children:u.jsx(pL,{status:t})}),u.jsx("div",{children:n!==""&&u.jsxs("div",{className:"bg-red-500 text-white p-2 rounded mb-2",children:["Error: ",n]})}),u.jsx("button",{onClick:a,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
            disabled:bg-blue-300
            `,disabled:t!==ge.Unavailable,children:"Connect"}),u.jsx("button",{onClick:s,className:`bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
            disabled:bg-red-300
            `,disabled:t===ge.Unavailable,children:"Disconnect"}),u.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[u.jsx("button",{onClick:i,className:`bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded mb-2 w-full
            disabled:bg-purple-300
            `,disabled:t===ge.Unavailable,children:"Heartbeat"}),u.jsx("div",{className:"flex items-center",children:u.jsxs("button",{className:`bg-${r?"red":"green"}-500 hover:bg-${r?"red":"green"}-700 text-white font-bold py-2 px-4 rounded mb-2 w-full`,onClick:()=>l(!r),children:[r?"Disable":"Enable"," Heartbeat"]})})]})]})},vL=e=>u.jsxs("div",{className:"mb-1 bg-gray-100 rounded p-2",children:[u.jsx("p",{className:"text-lg font-semibold",children:"settings"}),u.jsxs("li",{children:["CPID: ",e.cp.id]}),u.jsxs("li",{children:["CONNECTORS: ",e.cp.connectorNumber]}),u.jsxs("li",{children:["WSURL: ",e.cp.wsUrl]})]});class yL{constructor(t){H(this,"_id");H(this,"_status");H(this,"_availability");H(this,"_meterValue");H(this,"_transaction");H(this,"_transactionIDChangeCallbacks");H(this,"_statusChangeCallbacks");H(this,"_meterValueChangeCallbacks");this._id=t,this._status=ge.Available,this._availability="Operative",this._meterValue=0,this._transaction=null,this._transactionIDChangeCallbacks=[],this._statusChangeCallbacks=[],this._meterValueChangeCallbacks=[]}get id(){return this._id}set id(t){this._id=t}get status(){return this._status}set status(t){this._status=t,this._statusChangeCallbacks&&this._statusChangeCallbacks.forEach(n=>{n(t)})}get availability(){return this._availability}set availability(t){this._availability=t}get meterValue(){return this._meterValue}set meterValue(t){this._meterValue=t,this._meterValueChangeCallbacks&&this._meterValueChangeCallbacks.forEach(n=>{n(t)})}get transaction(){return this._transaction}set transaction(t){this._transaction=t}set transactionId(t){this._transaction&&(this._transaction.id=t,this._transactionIDChangeCallbacks&&this._transactionIDChangeCallbacks.forEach(n=>{n(t)}))}setTransactionIDChangeCallbacks(t){this._transactionIDChangeCallbacks.push(t)}setStatusChangeCallbacks(t){this._statusChangeCallbacks.push(t)}setMeterValueChangeCallbacks(t){this._meterValueChangeCallbacks.push(t)}}class xL{constructor(t,n,r,o=null){H(this,"_ws",null);H(this,"_url");H(this,"_basicAuth",null);H(this,"_chargePointId");H(this,"_logger");H(this,"_messageHandler",null);H(this,"_pingInterval",null);H(this,"_reconnectAttempts",0);H(this,"_maxReconnectAttempts",5);H(this,"_reconnectDelay",5e3);this._url=t,this._chargePointId=n,this._logger=r,o&&(this._basicAuth={username:o.username,password:o.password})}get url(){return this._url}connect(t=null,n=null){const r=new URL(this._url);this!=null&&this._basicAuth&&(r.username=this._basicAuth.username,r.password=this._basicAuth.password),console.log("url",r),this._ws=new WebSocket(`${r.toString()}${this._chargePointId}`,["ocpp1.6","ocpp1.5"]),this._ws.onopen=()=>{t&&t(),this.handleOpen.bind(this)},this._ws.onmessage=this.handleMessage.bind(this),this._ws.onerror=this.handleError.bind(this),this._ws.onclose=o=>{n&&n(o),this.handleClose.bind(this)}}disconnect(){this._ws&&(this._ws.close(),this._ws=null),this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null)}sendAction(t,n,r){const o=JSON.stringify([ar.CALL,t,n,r]);this.send(o)}sendResult(t,n){const r=JSON.stringify([ar.CALL_RESULT,t,n]);this.send(r)}sendError(t,n){const r=JSON.stringify([ar.CALL_ERROR,t,n]);this.send(r)}send(t){this._ws&&this._ws.readyState===WebSocket.OPEN?(this._ws.send(t),this._logger.log(`Sent: ${t}`)):this._logger.log("WebSocket is not connected")}setMessageHandler(t){this._messageHandler=t}handleOpen(){this._logger.log("WebSocket connected"),this._reconnectAttempts=0}handleMessage(t){this._logger.log(`Received: ${t.data}`);try{const n=JSON.parse(t.data.toString()),r=n.length;if(!(!Array.isArray(n)||r!==3||r!==4)){this._logger.error("Invalid message format: "+n);return}if(this._messageHandler){if(r==3){const[o,a,s]=n;this._messageHandler(o,a,Te.CallResult,s)}if(r==4){const[o,a,s,i]=n;this._messageHandler(o,a,s,i)}}else this._logger.log("No message handler set")}catch(n){this._logger.log(`Error parsing message: ${n}`)}}handleError(t){this._logger.log(`WebSocket error type: ${t.type}`)}handleClose(t){this._logger.log(`WebSocket closed: ${t}`),this.stopPingInterval(),this.attemptReconnect()}stopPingInterval(){this._pingInterval&&(clearInterval(this._pingInterval),this._pingInterval=null)}attemptReconnect(){this._reconnectAttempts<this._maxReconnectAttempts?(this._reconnectAttempts++,this._logger.log(`Attempting to reconnect (${this._reconnectAttempts}/${this._maxReconnectAttempts})...`),setTimeout(()=>this.connect(),this._reconnectDelay)):this._logger.log("Max reconnect attempts reached. Please check your connection and try again.")}}const bL=async(e,t)=>{const n=new FormData;return n.append("file",t),await fetch(e,{method:"POST",body:n})},xu={Core:{AllowOfflineTxForUnknownId:{name:"AllowOfflineTxForUnknownId",required:!1,readonly:!1,type:"boolean"},AuthorizationCacheEnabled:{name:"AuthorizationCacheEnabled",required:!1,readonly:!1,type:"boolean"},AuthorizeRemoteTxRequests:{name:"AuthorizeRemoteTxRequests",required:!0,readonly:!0,type:"boolean"},BlinkRepeat:{name:"BlinkRepeat",required:!1,readonly:!1,type:"integer"},ClockAlignedDataInterval:{name:"ClockAlignedDataInterval",required:!0,readonly:!1,type:"integer"},ConnectionTimeOut:{name:"ConnectionTimeOut",required:!0,readonly:!1,type:"integer"},ConnectorPhaseRotation:{name:"ConnectorPhaseRotation",required:!0,readonly:!1,type:"array"},ConnectorPhaseRotationMaxLength:{name:"ConnectorPhaseRotationMaxLength",required:!1,readonly:!0,type:"integer"},GetConfigurationMaxKeys:{name:"GetConfigurationMaxKeys",required:!0,readonly:!0,type:"integer"},HeartbeatInterval:{name:"HeartbeatInterval",required:!0,readonly:!1,type:"integer"},LightIntensity:{name:"LightIntensity",required:!1,readonly:!1,type:"integer"},LocalAuthorizeOffline:{name:"LocalAuthorizeOffline",required:!0,readonly:!1,type:"boolean"},LocalPreAuthorize:{name:"LocalPreAuthorize",required:!0,readonly:!1,type:"boolean"},MaxEnergyOnInvalidId:{name:"MaxEnergyOnInvalidId",required:!1,readonly:!1,type:"integer"},MeterValuesAlignedData:{name:"MeterValuesAlignedData",required:!0,readonly:!0,type:"array"},MeterValuesAlignedDataMaxLength:{name:"MeterValuesAlignedDataMaxLength",required:!1,readonly:!0,type:"integer"},MeterValuesSampledData:{name:"MeterValuesSampledData",required:!0,readonly:!1,type:"array"},MeterValuesSampledDataMaxLength:{name:"MeterValuesSampledDataMaxLength",required:!1,readonly:!0,type:"integer"},MeterValueSampleInterval:{name:"MeterValueSampleInterval",required:!0,readonly:!1,type:"integer"},MinimumStatusDuration:{name:"MinimumStatusDuration",required:!1,readonly:!1,type:"integer"},NumberOfConnectors:{name:"NumberOfConnectors",required:!0,readonly:!0,type:"integer"},ResetRetries:{name:"ResetRetries",required:!0,readonly:!1,type:"integer"},StopTransactionOnEVSideDisconnect:{name:"StopTransactionOnEVSideDisconnect",required:!0,readonly:!1,type:"boolean"},StopTransactionOnInvalidId:{name:"StopTransactionOnInvalidId",required:!0,readonly:!1,type:"boolean"},StopTxnAlignedData:{name:"StopTxnAlignedData",required:!0,readonly:!1,type:"array"},StopTxnAlignedDataMaxLength:{name:"StopTxnAlignedDataMaxLength",required:!1,readonly:!0,type:"integer"},StopTxnSampledData:{name:"StopTxnSampledData",required:!0,readonly:!1,type:"array"},StopTxnSampledDataMaxLength:{name:"StopTxnSampledDataMaxLength",required:!1,readonly:!0,type:"integer"},SupportedFeatureProfiles:{name:"SupportedFeatureProfiles",required:!0,readonly:!0,type:"array"},SupportedFeatureProfilesMaxLength:{name:"SupportedFeatureProfilesMaxLength",required:!1,readonly:!0,type:"integer"},TransactionMessageAttempts:{name:"TransactionMessageAttempts",required:!0,readonly:!1,type:"integer"},TransactionMessageRetryInterval:{name:"TransactionMessageRetryInterval",required:!0,readonly:!1,type:"integer"},UnlockConnectorOnEVSideDisconnect:{name:"UnlockConnectorOnEVSideDisconnect",required:!0,readonly:!1,type:"boolean"},WebSocketPingInterval:{name:"WebSocketPingInterval",required:!1,readonly:!1,type:"integer"}},Reservation:{ReserveConnectorZeroSupported:{name:"ReserveConnectorZeroSupported",required:!1,readonly:!0,type:"boolean"}},LocalAuthListManagement:{LocalAuthListEnabled:{name:"LocalAuthListEnabled",required:!0,readonly:!1,type:"boolean"},LocalAuthListMaxLength:{name:"LocalAuthListMaxLength",required:!0,readonly:!0,type:"integer"},SendLocalListMaxLength:{name:"SendLocalListMaxLength",required:!0,readonly:!0,type:"integer"}},SmartCharging:{ChargeProfileMaxStackLevel:{name:"ChargeProfileMaxStackLevel",required:!0,readonly:!0,type:"integer"},ChargingScheduleAllowedChargingRateUnit:{name:"ChargingScheduleAllowedChargingRateUnit",required:!0,readonly:!0,type:"array"},ChargingScheduleMaxPeriods:{name:"ChargingScheduleMaxPeriods",required:!0,readonly:!0,type:"integer"},ConnectorSwitch3to1PhaseSupported:{name:"ConnectorSwitch3to1PhaseSupported",required:!1,readonly:!0,type:"boolean"},MaxChargingProfilesInstalled:{name:"MaxChargingProfilesInstalled",required:!0,readonly:!0,type:"integer"}},Custom:{OcppServer:{name:"OcppServer",required:!1,readonly:!1,type:"string"}}},wL=e=>[{key:xu.Core.SupportedFeatureProfiles,value:[f1.Core]},{key:xu.Core.NumberOfConnectors,value:e.connectorNumber},{key:xu.Custom.OcppServer,value:e.wsUrl}];class SL{constructor(){H(this,"_currentId","");H(this,"_requests",new Map)}add(t){this._currentId=t.id,this._requests.set(t.id,t)}current(){return this._requests.get(this._currentId)}get(t){return this._requests.get(t)}remove(t){this._requests.delete(t)}}class ll{constructor(t,n,r){H(this,"_chargePoint");H(this,"_webSocket");H(this,"_logger");H(this,"_requests",new SL);this._chargePoint=t,this._webSocket=n,this._logger=r,this._webSocket.setMessageHandler(this.handleIncomingMessage.bind(this))}authorize(t){const n=this.generateMessageId(),r={idTag:t};this.sendRequest(Te.Authorize,n,r)}startTransaction(t,n){const r=this.generateMessageId(),o={connectorId:n,idTag:t.tagId,meterStart:t.meterStart,timestamp:t.startTime.toISOString()};this.sendRequest(Te.StartTransaction,r,o,n)}stopTransaction(t,n){const r=this.generateMessageId(),o={transactionId:t.id,idTag:t.tagId,meterStop:t.meterStop,timestamp:t.stopTime.toISOString()};this.sendRequest(Te.StopTransaction,r,o,n)}sendBootNotification(t){const n=this.generateMessageId(),r={chargePointVendor:t.ChargePointVendor,chargePointModel:t.ChargePointModel,chargePointSerialNumber:t.ChargePointSerialNumber,chargeBoxSerialNumber:t.ChargeBoxSerialNumber,firmwareVersion:t.FirmwareVersion,iccid:t.Iccid,imsi:t.Imsi,meterType:t.MeterType,meterSerialNumber:t.MeterSerialNumber};this.sendRequest(Te.BootNotification,n,r)}sendHeartbeat(){const t=this.generateMessageId(),n={};this.sendRequest(Te.Heartbeat,t,n)}sendMeterValue(t,n,r){const o=this.generateMessageId(),a={transactionId:t,connectorId:n,meterValue:[{timestamp:new Date().toISOString(),sampledValue:[{value:r.toString()}]}]};this.sendRequest(Te.MeterValues,o,a)}sendStatusNotification(t,n){const r=this.generateMessageId(),o={connectorId:t,errorCode:"NoError",status:n};this.sendRequest(Te.StatusNotification,r,o)}sendRequest(t,n,r,o){this._requests.add({type:ar.CALL,action:t,id:n,payload:r,connectorId:o}),this._webSocket.sendAction(n,t,r)}handleIncomingMessage(t,n,r,o){switch(this._logger.log(`Handling incoming message: ${t}, ${n}, ${r}`),t){case ar.CALL:this.handleCall(n,r,o);break;case ar.CALL_RESULT:this.handleCallResult(n,o);break;case ar.CALL_ERROR:this.handleCallError(n,o);break;default:this._logger.error(`Unknown message type: ${t}`)}}handleCall(t,n,r){let o;switch(n){case Te.RemoteStartTransaction:o=this.handleRemoteStartTransaction(r);break;case Te.RemoteStopTransaction:o=this.handleRemoteStopTransaction(r);break;case Te.Reset:o=this.handleReset(r);break;case Te.GetDiagnostics:o=this.handleGetDiagnostics(r);break;case Te.TriggerMessage:o=this.handleTriggerMessage(r);break;case Te.GetConfiguration:o=this.handleGetConfiguration(r);break;case Te.ChangeConfiguration:o=this.handleChangeConfiguration(r);break;case Te.ClearCache:o=this.handleClearCache(r);break;case Te.UnlockConnector:o=this.handleUnlockConnector(r);break;default:this._logger.error(`Unsupported action: ${n}`),this.sendCallError(t,"NotImplemented","This action is not supported");return}this.sendCallResult(t,o)}handleCallResult(t,n){if(!this._requests||!this._requests.get(t)){this._logger.log(`Received unexpected CallResult: ${t}`);return}const r=this._requests.get(t),o=r==null?void 0:r.action;switch(o){case Te.ChangeAvailability:this.handleChangeAvailability(n);break;case Te.BootNotification:this.handleBootNotificationResponse(n);break;case Te.Authorize:this.handleAuthorizeResponse(n);break;case Te.StartTransaction:this.handleStartTransactionResponse((r==null?void 0:r.connectorId)||1,n);break;case Te.StopTransaction:this.handleStopTransactionResponse((r==null?void 0:r.connectorId)||1,n);break;case Te.Heartbeat:this.handleHeartbeatResponse(n);break;case Te.MeterValues:this.handleMeterValuesResponse(n,r==null?void 0:r.payload);break;case Te.StatusNotification:this.handleStatusNotificationResponse(n);break;case Te.DataTransfer:this.handleDataTransferResponse(n);break;default:this._logger.log(`Unsupported action result: ${o}`)}this._requests.remove(t)}handleCallError(t,n){this._logger.log(`Received error for message ${t}: ${JSON.stringify(n)}`),this._requests.remove(t)}handleRemoteStartTransaction(t){const{idTag:n,connectorId:r}=t,o=this._chargePoint.getConnector(r||1);return o&&o.availability=="Operative"?(this._chargePoint.startTransaction(n,r||1),{status:"Accepted"}):{status:"Rejected"}}handleRemoteStopTransaction(t){const{transactionId:n}=t,r=Array.from(this._chargePoint.connectors.values()).find(o=>o.transaction&&o.transaction.id===n);return r?(this._chargePoint.updateConnectorStatus(r.id,ge.SuspendedEVSE),this._chargePoint.stopTransaction(r),{status:"Accepted"}):{status:"Rejected"}}handleReset(t){return this._logger.log(`Reset request received: ${t.type}`),setTimeout(()=>{this._logger.log(`Reset chargePoint: ${this._chargePoint.id}`),t.type==="Hard"?this._chargePoint.reset():this._chargePoint.boot()},5e3),{status:"Accepted"}}handleGetDiagnostics(t){this._logger.log(`Get diagnostics request received: ${t.location}`);const n=this._logger.getLogs().join(`
`),r=new Blob([n],{type:"text/plain"}),o=new File([r],"diagnostics.txt");return(async()=>await bL(t.location,o))(),{fileName:"diagnostics.txt"}}handleGetConfiguration(t){this._logger.log(`Get configuration request received: ${JSON.stringify(t.key)}`);const n=ll.mapConfiguration(wL(this._chargePoint));if(!t.key||t.key.length===0)return{configurationKey:n};const r=n.filter(s=>{var i;return(i=t.key)==null?void 0:i.includes(s.key)}),o=n.map(s=>s.key),a=t.key.filter(s=>!o.includes(s));return{configurationKey:r,unknownKey:a}}static mapConfiguration(t){return t.map(n=>({key:n.key.name,readonly:n.key.readonly,value:ll.mapValue(n)}))}static mapValue(t){switch(t.key.type){case"string":return t.value;case"boolean":return String(t.value);case"integer":return String(t.value);case"array":return t.value.join(",")}}handleChangeConfiguration(t){switch(this._logger.log(`Change configuration request received: ${JSON.stringify(t.key)}: ${JSON.stringify(t.value)}`),t.key){default:return{status:"NotSupported"}}}handleTriggerMessage(t){return this._logger.log(`Trigger message request received: ${t.requestedMessage}`),{status:"Accepted"}}handleChangeAvailability(t){return this._logger.log(`Change availability request received: ${JSON.stringify(t)}`),this._chargePoint.updateConnectorAvailability(t.connectorId,t.type)?{status:"Accepted"}:{status:"Rejected"}}handleClearCache(t){return this._logger.log(`Clear cache request received: ${JSON.stringify(t)}`),{status:"Accepted"}}handleUnlockConnector(t){return this._logger.log(`Unlock connector request received: ${JSON.stringify(t)}`),{status:"NotSupported"}}handleBootNotificationResponse(t){this._logger.log("Boot notification successful"),t.status==="Accepted"?(this._chargePoint.updateAllConnectorsStatus(ge.Available),this._chargePoint.status=ge.Available):this._logger.error("Boot notification failed")}handleAuthorizeResponse(t){const{idTagInfo:n}=t;n.status==="Accepted"?this._logger.log("Authorization successful"):this._logger.log("Authorization failed")}handleStartTransactionResponse(t,n){const{transactionId:r,idTagInfo:o}=n,a=this._chargePoint.getConnector(t);o.status==="Accepted"?a&&(a.transactionId=r,a.status=ge.Charging):(this._logger.log("Failed to start transaction"),a?(a.status=ge.Faulted,a.transaction&&a.transaction.meterSent?this._chargePoint.stopTransaction(a):this._chargePoint.cleanTransaction(a)):this._chargePoint.cleanTransaction(t),this._chargePoint.updateConnectorStatus(t,ge.Available))}handleStopTransactionResponse(t,n){this._logger.log(`Transaction stopped successfully: ${JSON.stringify(n)}`);const r=this._chargePoint.getConnector(t);r&&(r.transaction=null,r.transactionId=null,r.status=ge.Available)}handleHeartbeatResponse(t){this._logger.log(`Received heartbeat response: ${t.currentTime}`)}handleMeterValuesResponse(t,n){if(n){const r=this._chargePoint.getConnector(n.connectorId);r&&r.transaction&&(r.transaction.meterSent=!0)}this._logger.log(`Meter values sent successfully: ${JSON.stringify(t)}`)}handleStatusNotificationResponse(t){this._logger.log(`Status notification sent successfully: ${JSON.stringify(t)}`)}handleDataTransferResponse(t){this._logger.log(`Data transfer sent successfully: ${JSON.stringify(t)}`)}sendCallResult(t,n){this._webSocket.sendResult(t,n)}sendCallError(t,n,r){const o={errorCode:n,errorDescription:r};this._webSocket.sendError(t,o)}generateMessageId(){return crypto.randomUUID()}}var p1=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(p1||{});class CL{constructor(t=0){H(this,"level");H(this,"logList",[]);H(this,"_loggingCallback",null);this.level=t}set loggingCallback(t){this._loggingCallback=t}setLevel(t){this.level=t}debug(t){this.log(t,0)}info(t){this.log(t,1)}warn(t){this.log(t,2)}error(t){this.log(t,3)}log(t,n=0){if(n>=this.level){const o=`[${new Date().toISOString()}] [${p1[n]}] ${t}`;switch(n){case 0:console.debug(o);break;case 1:console.info(o);break;case 2:console.warn(o);break;case 3:console.error(o);break;default:console.log(o);break}this.logList.push(o),this._loggingCallback&&this._loggingCallback(o)}}getLogs(){return this.logList}clearLogs(){this.logList=[]}getLogString(){return this.logList.join(`
`)}saveLogsToFile(t){console.log(`Saving logs to ${t}`)}}class EL{constructor(t,n,r,o,a,s){H(this,"_id");H(this,"_bootNotification");H(this,"_connectors");H(this,"_webSocket");H(this,"_messageHandler");H(this,"_logger");H(this,"_autoMeterValueSetting");H(this,"_status",ge.Unavailable);H(this,"_error","");H(this,"_errorCallback",()=>{});H(this,"_heartbeat",null);H(this,"_autoMeterValueIntervals",new Map);H(this,"_statusChangeCallback",null);H(this,"_availabilityChangeCallbacks",new Map);this._id=t,this._bootNotification=n,this._connectors=new Map;for(let i=1;i<=r;i++)this._connectors.set(i,new yL(i));this._logger=new CL,this._webSocket=new xL(o,this._id,this._logger,a),this._messageHandler=new ll(this,this._webSocket,this._logger),this._autoMeterValueSetting=s}get id(){return this._id}get status(){return this._status}get connectorNumber(){return this._connectors.size}get wsUrl(){return this._webSocket.url}get error(){return this._error}set error(t){this._error=t,this._errorCallback(t)}set errorCallback(t){this._errorCallback=t}get connectors(){return new Map(this._connectors)}set statusChangeCallback(t){this._statusChangeCallback=t}set loggingCallback(t){this._logger._loggingCallback=t}setConnectorTransactionIDChangeCallback(t,n){var r;(r=this.connectors.get(t))==null||r.setTransactionIDChangeCallbacks(n)}setConnectorStatusChangeCallback(t,n){var r;(r=this.connectors.get(t))==null||r.setStatusChangeCallbacks(n)}setConnectorMeterValueChangeCallback(t,n){var r;(r=this.connectors.get(t))==null||r.setMeterValueChangeCallbacks(n)}setAvailabilityChangeCallback(t,n){this._availabilityChangeCallbacks.set(t,n)}connect(){this._webSocket.connect(()=>this.boot(),t=>{this.status=ge.Unavailable,this.updateAllConnectorsStatus(ge.Unavailable),this._logger.error(`WebSocket closed code: ${t.code} reason: ${t.reason}`),t.code!==1005&&(this.error=`WebSocket closed code: ${t.code} reason: ${t.reason}`)})}boot(){this._messageHandler.sendBootNotification(this._bootNotification),this.status=ge.Available,this.updateAllConnectorsStatus(ge.Available),this.error=""}disconnect(){this._logger.info("Disconnecting from WebSocket"),this._status=ge.Unavailable,this._webSocket.disconnect()}reset(){this.disconnect(),this.connect()}authorize(t){this._messageHandler.authorize(t)}set status(t){this._status=t,this._statusChangeCallback&&this._statusChangeCallback(t)}startTransaction(t,n){const r=this.getConnector(n);if(r){const o={id:0,connectorId:n,tagId:t,meterStart:0,meterStop:null,startTime:new Date,stopTime:null,meterSent:!1};r.transaction=o,this._messageHandler.startTransaction(o,n),this.updateConnectorStatus(n,ge.Preparing),this._autoMeterValueSetting!==null&&this._autoMeterValueSetting.interval!==0&&this._autoMeterValueSetting.value!==0&&this.startAutoMeterValue(n,this._autoMeterValueSetting.interval,this._autoMeterValueSetting.value)}else this._logger.error(`Connector ${n} not found`)}stopTransaction(t){let n,r;typeof t=="number"?(n=t,r=this.getConnector(t)):(n=t.id,r=t),r?(r.transaction.stopTime=new Date,r.transaction.meterStop=r.meterValue,this._messageHandler.stopTransaction(r.transaction,n),this.cleanTransaction(r)):this._logger.error(`Connector for id ${n} not found`),this.updateConnectorStatus(n,ge.Available)}cleanTransaction(t){var o;let n,r;typeof t=="number"?(n=t,r=(o=this.getConnector(n))==null?void 0:o.transaction):(n=t.id,r=t.transaction),r&&(r.meterSent=!1),this.updateConnectorStatus(n,ge.Finishing),this._autoMeterValueSetting&&this.stopAutoMeterValue(n)}sendHeartbeat(){this._messageHandler.sendHeartbeat()}startHeartbeat(t){this._logger.info("Setting heartbeat period to "+t+"s"),this._heartbeat&&clearInterval(this._heartbeat),this._heartbeat=setInterval(()=>this.sendHeartbeat(),t*1e3)}stopHeartbeat(){this._logger.info("Stopping heartbeat"),this._heartbeat&&clearInterval(this._heartbeat)}setMeterValue(t,n){const r=this.getConnector(t);r?r.meterValue=n:this._logger.error(`Connector ${t} not found`)}sendMeterValue(t){var r;const n=this.getConnector(t);n?this._messageHandler.sendMeterValue(((r=n.transaction)==null?void 0:r.id)??void 0,t,n.meterValue):this._logger.error(`Connector ${t} not found`)}startAutoMeterValue(t,n,r){const o=setInterval(()=>{this.setMeterValue(t,this.getConnector(t).meterValue+r),this.sendMeterValue(t)},n*1e3);this._autoMeterValueIntervals.set(t,o)}stopAutoMeterValue(t){const n=this._autoMeterValueIntervals.get(t);n&&(clearInterval(n),this._autoMeterValueIntervals.delete(t))}getConnector(t){return this._connectors.get(t)}updateAllConnectorsStatus(t){this._connectors.forEach(n=>{n.status=t,this.connectors.forEach(r=>{r.status=t}),this._messageHandler.sendStatusNotification(n.id,t)})}updateConnectorStatus(t,n){const r=this.getConnector(t);r?(r.status=n,this._messageHandler.sendStatusNotification(t,n)):this._logger.error(`Connector ${t} not found`)}updateConnectorAvailability(t,n){const r=this.getConnector(t);if(!r)return this._logger.error(`Connector ${t} not found`),!1;r.availability=n,n==="Inoperative"?this.updateConnectorStatus(t,ge.Unavailable):n==="Operative"&&this.updateConnectorStatus(t,ge.Available);const o=this._availabilityChangeCallbacks.get(t);return o&&o(n),!0}setTransactionID(t,n){const r=this.getConnector(t);r?r.transactionId=n:this._logger.error(`Connector ${t} not found`)}}const kL=()=>{const[e,t]=p.useState([]),[n]=ab(d1),[r,o]=p.useState([]),a=Nl();return p.useEffect(()=>{if(!n){a("/v1/settings");return}if(console.log(`Connector Number: ${n.connectorNumber} WSURL: ${n.wsURL} CPID: ${n.ChargePointID} TagID: ${n.tagID}`),n.Experimental){const s=n.Experimental.ChargePointIDs.map(l=>_g(l.ConnectorNumber,l.ChargePointID,n.BootNotification??Yd,n.wsURL,n.basicAuthSettings,n.autoMeterValueSetting));t(s??[]);const i=n.Experimental.TagIDs;o(i??[])}else t([_g(n.connectorNumber,n.ChargePointID,n.BootNotification??Yd,n.wsURL,n.basicAuthSettings,n.autoMeterValueSetting)])},[n,a]),u.jsx("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:n!=null&&n.Experimental||e.length!==1?u.jsx(u.Fragment,{children:u.jsx(_L,{cps:e,tagIDs:r})}):u.jsx(u.Fragment,{children:u.jsx(h1,{cp:e[0],TagID:(n==null?void 0:n.tagID)??""})})})},_L=({cps:e,tagIDs:t})=>{const n=()=>{console.log("Connecting all charge points");const f=100;e.flatMap((h,m,b)=>m%f?[]:[b.slice(m,m+f)]).forEach(h=>{Promise.all(h.map(m=>m.connect()))})},r=()=>{console.log("Disconnecting all charge points"),e.forEach(f=>{f.disconnect()})},o=()=>{console.log("Sending heartbeat to all charge points"),e.forEach(f=>{f.sendHeartbeat()})},[a,s]=p.useState(!1),i=f=>{s(f),f?e.forEach(h=>{h.startHeartbeat(10)}):e.forEach(h=>{h.stopHeartbeat()})},l=[],c=()=>{for(let f=0;f<Math.min(t.length,e.length);f++)e[f].setConnectorTransactionIDChangeCallback(1,h=>{h&&l.push({tagID:t[f],transactionID:h,cpID:e[f].id,connectorID:1})}),e[f].startTransaction(t[f],1)},d=()=>{l.forEach(f=>{var h;(h=e.find(m=>m.id===f.cpID))==null||h.stopTransaction(f.connectorID)})};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"experimental feature is on"}),u.jsx("button",{onClick:n,className:`bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-2
                disabled:bg-blue-300
                `,children:"Connect All"}),u.jsx("button",{onClick:r,className:`bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mb-2
                disabled:bg-red-300
                `,children:"Disconnect All"}),u.jsx("button",{onClick:o,className:`bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded mb-2
            disabled:bg-purple-300`,children:"Heartbeat All"}),u.jsxs("button",{className:`bg-${a?"red":"green"}-500 hover:bg-${a?"red":"green"}-700 text-white font-bold py-2 px-4 rounded mb-2`,onClick:()=>i(!a),children:[a?"Disable":"Enable"," Heartbeat All"]}),u.jsxs("div",{className:"bg-gray-100 rounded p-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Transaction all"}),u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:u.jsxs("div",{children:["Tag IDs: ",t.join(", ")]})}),u.jsx("button",{onClick:c,className:`bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mb-2
                disabled:bg-green-300
                `,children:"Start Transaction All"}),u.jsx("button",{onClick:d,className:`bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded mb-2
                disabled:bg-orange-300
                `,children:"Stop Transaction All"})]})]}),u.jsx(Gd,{children:e.map((f,h)=>u.jsx(Gd.Item,{className:"bg-gray-100 rounded p-4",title:f.id,children:u.jsx(h1,{cp:f,TagID:t[0]})},h))})]})},_g=(e,t,n,r,o,a)=>(console.log(`Creating new ChargePoint with ID: ${t} Connector Number: ${e} WSURL: ${r}`),new EL(t,n,e,r,o,a)),NL=()=>(p.useEffect(()=>{const e=window.document.documentElement,t=e.classList.contains("dark");return e.classList.remove("dark"),()=>{t&&e.classList.add("dark")}},[]),u.jsxs("div",{className:"v1-app min-h-screen bg-gray-100 text-gray-900",children:[u.jsx(iL,{}),u.jsx("div",{className:"container mx-auto my-auto p-4",children:u.jsxs(Yf,{children:[u.jsx(Hr,{path:"/",element:u.jsx(kL,{})}),u.jsx(Hr,{path:"/settings",element:u.jsx(lL,{})})]})})]})),RL=()=>u.jsx(C_,{children:u.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors",children:[u.jsx(gA,{}),u.jsx("div",{className:"p-4",children:u.jsxs(Yf,{children:[u.jsx(Hr,{path:"/",element:u.jsx(aL,{})}),u.jsx(Hr,{path:"/settings",element:u.jsx(rI,{})})]})})]})}),ML=()=>u.jsx($k,{basename:"/ocpp-cp-simulator",children:u.jsxs(Yf,{children:[u.jsx(Hr,{path:"/v1/*",element:u.jsx(NL,{})}),u.jsx(Hr,{path:"/*",element:u.jsx(RL,{})})]})});bu.createRoot(document.getElementById("root")).render(u.jsx(Ut.StrictMode,{children:u.jsx(nI,{children:u.jsx(ML,{})})}));export{dt as B,Zw as C,p2 as D,gt as I,mt as L,Y as O,d_ as P,Ut as R,h_ as S,v_ as T,Rl as X,_s as _,m2 as a,Qw as b,bP as c,he as d,h2 as e,tS as f,rS as g,Fo as h,nS as i,u as j,lt as k,DL as l,OL as m,ds as n,iI as o,sw as p,PL as q,p as r,IL as s,qA as t,LL as u,ia as v,Qd as w};
